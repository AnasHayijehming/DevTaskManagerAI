(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(a){if(a.ep)return;a.ep=!0;const c=i(a);fetch(a.href,c)}})();var RT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Es(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cd={exports:{}},cs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function NT(){if(vg)return cs;vg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,a,c){var d=null;if(c!==void 0&&(d=""+c),a.key!==void 0&&(d=""+a.key),"key"in a){c={};for(var p in a)p!=="key"&&(c[p]=a[p])}else c=a;return a=c.ref,{$$typeof:t,type:r,key:d,ref:a!==void 0?a:null,props:c}}return cs.Fragment=e,cs.jsx=i,cs.jsxs=i,cs}var xg;function kT(){return xg||(xg=1,cd.exports=NT()),cd.exports}var _=kT(),fd={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function DT(){if(Tg)return rt;Tg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function E(R){return R===null||typeof R!="object"?null:(R=S&&R[S]||R["@@iterator"],typeof R=="function"?R:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,B={};function re(R,ge,Ue){this.props=R,this.context=ge,this.refs=B,this.updater=Ue||M}re.prototype.isReactComponent={},re.prototype.setState=function(R,ge){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,ge,"setState")},re.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function X(){}X.prototype=re.prototype;function se(R,ge,Ue){this.props=R,this.context=ge,this.refs=B,this.updater=Ue||M}var te=se.prototype=new X;te.constructor=se,U(te,re.prototype),te.isPureReactComponent=!0;var Te=Array.isArray,ye={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function Se(R,ge,Ue,I,He,tt){return Ue=tt.ref,{$$typeof:t,type:R,key:ge,ref:Ue!==void 0?Ue:null,props:tt}}function ze(R,ge){return Se(R.type,ge,void 0,void 0,void 0,R.props)}function we(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function ae(R){var ge={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Ue){return ge[Ue]})}var ce=/\/+/g;function me(R,ge){return typeof R=="object"&&R!==null&&R.key!=null?ae(""+R.key):ge.toString(36)}function Z(){}function pe(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Z,Z):(R.status="pending",R.then(function(ge){R.status==="pending"&&(R.status="fulfilled",R.value=ge)},function(ge){R.status==="pending"&&(R.status="rejected",R.reason=ge)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function Ee(R,ge,Ue,I,He){var tt=typeof R;(tt==="undefined"||tt==="boolean")&&(R=null);var Oe=!1;if(R===null)Oe=!0;else switch(tt){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(R.$$typeof){case t:case e:Oe=!0;break;case v:return Oe=R._init,Ee(Oe(R._payload),ge,Ue,I,He)}}if(Oe)return He=He(R),Oe=I===""?"."+me(R,0):I,Te(He)?(Ue="",Oe!=null&&(Ue=Oe.replace(ce,"$&/")+"/"),Ee(He,ge,Ue,"",function(Be){return Be})):He!=null&&(we(He)&&(He=ze(He,Ue+(He.key==null||R&&R.key===He.key?"":(""+He.key).replace(ce,"$&/")+"/")+Oe)),ge.push(He)),1;Oe=0;var qt=I===""?".":I+":";if(Te(R))for(var dt=0;dt<R.length;dt++)I=R[dt],tt=qt+me(I,dt),Oe+=Ee(I,ge,Ue,tt,He);else if(dt=E(R),typeof dt=="function")for(R=dt.call(R),dt=0;!(I=R.next()).done;)I=I.value,tt=qt+me(I,dt++),Oe+=Ee(I,ge,Ue,tt,He);else if(tt==="object"){if(typeof R.then=="function")return Ee(pe(R),ge,Ue,I,He);throw ge=String(R),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function ne(R,ge,Ue){if(R==null)return R;var I=[],He=0;return Ee(R,I,"","",function(tt){return ge.call(Ue,tt,He++)}),I}function Me(R){if(R._status===-1){var ge=R._result;ge=ge(),ge.then(function(Ue){(R._status===0||R._status===-1)&&(R._status=1,R._result=Ue)},function(Ue){(R._status===0||R._status===-1)&&(R._status=2,R._result=Ue)}),R._status===-1&&(R._status=0,R._result=ge)}if(R._status===1)return R._result.default;throw R._result}var Ve=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ge=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(ge))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function nt(){}return rt.Children={map:ne,forEach:function(R,ge,Ue){ne(R,function(){ge.apply(this,arguments)},Ue)},count:function(R){var ge=0;return ne(R,function(){ge++}),ge},toArray:function(R){return ne(R,function(ge){return ge})||[]},only:function(R){if(!we(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},rt.Component=re,rt.Fragment=i,rt.Profiler=a,rt.PureComponent=se,rt.StrictMode=r,rt.Suspense=y,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye,rt.__COMPILER_RUNTIME={__proto__:null,c:function(R){return ye.H.useMemoCache(R)}},rt.cache=function(R){return function(){return R.apply(null,arguments)}},rt.cloneElement=function(R,ge,Ue){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var I=U({},R.props),He=R.key,tt=void 0;if(ge!=null)for(Oe in ge.ref!==void 0&&(tt=void 0),ge.key!==void 0&&(He=""+ge.key),ge)!j.call(ge,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&ge.ref===void 0||(I[Oe]=ge[Oe]);var Oe=arguments.length-2;if(Oe===1)I.children=Ue;else if(1<Oe){for(var qt=Array(Oe),dt=0;dt<Oe;dt++)qt[dt]=arguments[dt+2];I.children=qt}return Se(R.type,He,void 0,void 0,tt,I)},rt.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:c,_context:R},R},rt.createElement=function(R,ge,Ue){var I,He={},tt=null;if(ge!=null)for(I in ge.key!==void 0&&(tt=""+ge.key),ge)j.call(ge,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(He[I]=ge[I]);var Oe=arguments.length-2;if(Oe===1)He.children=Ue;else if(1<Oe){for(var qt=Array(Oe),dt=0;dt<Oe;dt++)qt[dt]=arguments[dt+2];He.children=qt}if(R&&R.defaultProps)for(I in Oe=R.defaultProps,Oe)He[I]===void 0&&(He[I]=Oe[I]);return Se(R,tt,void 0,void 0,null,He)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(R){return{$$typeof:p,render:R}},rt.isValidElement=we,rt.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:Me}},rt.memo=function(R,ge){return{$$typeof:m,type:R,compare:ge===void 0?null:ge}},rt.startTransition=function(R){var ge=ye.T,Ue={};ye.T=Ue;try{var I=R(),He=ye.S;He!==null&&He(Ue,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(nt,Ve)}catch(tt){Ve(tt)}finally{ye.T=ge}},rt.unstable_useCacheRefresh=function(){return ye.H.useCacheRefresh()},rt.use=function(R){return ye.H.use(R)},rt.useActionState=function(R,ge,Ue){return ye.H.useActionState(R,ge,Ue)},rt.useCallback=function(R,ge){return ye.H.useCallback(R,ge)},rt.useContext=function(R){return ye.H.useContext(R)},rt.useDebugValue=function(){},rt.useDeferredValue=function(R,ge){return ye.H.useDeferredValue(R,ge)},rt.useEffect=function(R,ge,Ue){var I=ye.H;if(typeof Ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return I.useEffect(R,ge)},rt.useId=function(){return ye.H.useId()},rt.useImperativeHandle=function(R,ge,Ue){return ye.H.useImperativeHandle(R,ge,Ue)},rt.useInsertionEffect=function(R,ge){return ye.H.useInsertionEffect(R,ge)},rt.useLayoutEffect=function(R,ge){return ye.H.useLayoutEffect(R,ge)},rt.useMemo=function(R,ge){return ye.H.useMemo(R,ge)},rt.useOptimistic=function(R,ge){return ye.H.useOptimistic(R,ge)},rt.useReducer=function(R,ge,Ue){return ye.H.useReducer(R,ge,Ue)},rt.useRef=function(R){return ye.H.useRef(R)},rt.useState=function(R){return ye.H.useState(R)},rt.useSyncExternalStore=function(R,ge,Ue){return ye.H.useSyncExternalStore(R,ge,Ue)},rt.useTransition=function(){return ye.H.useTransition()},rt.version="19.1.1",rt}var Sg;function ap(){return Sg||(Sg=1,fd.exports=DT()),fd.exports}var Ie=ap();const ql=Es(Ie);var dd={exports:{}},fs={},pd={exports:{}},hd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg;function IT(){return Cg||(Cg=1,(function(t){function e(ne,Me){var Ve=ne.length;ne.push(Me);e:for(;0<Ve;){var nt=Ve-1>>>1,R=ne[nt];if(0<a(R,Me))ne[nt]=Me,ne[Ve]=R,Ve=nt;else break e}}function i(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var Me=ne[0],Ve=ne.pop();if(Ve!==Me){ne[0]=Ve;e:for(var nt=0,R=ne.length,ge=R>>>1;nt<ge;){var Ue=2*(nt+1)-1,I=ne[Ue],He=Ue+1,tt=ne[He];if(0>a(I,Ve))He<R&&0>a(tt,I)?(ne[nt]=tt,ne[He]=Ve,nt=He):(ne[nt]=I,ne[Ue]=Ve,nt=Ue);else if(He<R&&0>a(tt,Ve))ne[nt]=tt,ne[He]=Ve,nt=He;else break e}}return Me}function a(ne,Me){var Ve=ne.sortIndex-Me.sortIndex;return Ve!==0?Ve:ne.id-Me.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();t.unstable_now=function(){return d.now()-p}}var y=[],m=[],v=1,S=null,E=3,M=!1,U=!1,B=!1,re=!1,X=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function Te(ne){for(var Me=i(m);Me!==null;){if(Me.callback===null)r(m);else if(Me.startTime<=ne)r(m),Me.sortIndex=Me.expirationTime,e(y,Me);else break;Me=i(m)}}function ye(ne){if(B=!1,Te(ne),!U)if(i(y)!==null)U=!0,j||(j=!0,me());else{var Me=i(m);Me!==null&&Ee(ye,Me.startTime-ne)}}var j=!1,Se=-1,ze=5,we=-1;function ae(){return re?!0:!(t.unstable_now()-we<ze)}function ce(){if(re=!1,j){var ne=t.unstable_now();we=ne;var Me=!0;try{e:{U=!1,B&&(B=!1,se(Se),Se=-1),M=!0;var Ve=E;try{t:{for(Te(ne),S=i(y);S!==null&&!(S.expirationTime>ne&&ae());){var nt=S.callback;if(typeof nt=="function"){S.callback=null,E=S.priorityLevel;var R=nt(S.expirationTime<=ne);if(ne=t.unstable_now(),typeof R=="function"){S.callback=R,Te(ne),Me=!0;break t}S===i(y)&&r(y),Te(ne)}else r(y);S=i(y)}if(S!==null)Me=!0;else{var ge=i(m);ge!==null&&Ee(ye,ge.startTime-ne),Me=!1}}break e}finally{S=null,E=Ve,M=!1}Me=void 0}}finally{Me?me():j=!1}}}var me;if(typeof te=="function")me=function(){te(ce)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,pe=Z.port2;Z.port1.onmessage=ce,me=function(){pe.postMessage(null)}}else me=function(){X(ce,0)};function Ee(ne,Me){Se=X(function(){ne(t.unstable_now())},Me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ze=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(ne){switch(E){case 1:case 2:case 3:var Me=3;break;default:Me=E}var Ve=E;E=Me;try{return ne()}finally{E=Ve}},t.unstable_requestPaint=function(){re=!0},t.unstable_runWithPriority=function(ne,Me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var Ve=E;E=ne;try{return Me()}finally{E=Ve}},t.unstable_scheduleCallback=function(ne,Me,Ve){var nt=t.unstable_now();switch(typeof Ve=="object"&&Ve!==null?(Ve=Ve.delay,Ve=typeof Ve=="number"&&0<Ve?nt+Ve:nt):Ve=nt,ne){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=Ve+R,ne={id:v++,callback:Me,priorityLevel:ne,startTime:Ve,expirationTime:R,sortIndex:-1},Ve>nt?(ne.sortIndex=Ve,e(m,ne),i(y)===null&&ne===i(m)&&(B?(se(Se),Se=-1):B=!0,Ee(ye,Ve-nt))):(ne.sortIndex=R,e(y,ne),U||M||(U=!0,j||(j=!0,me()))),ne},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(ne){var Me=E;return function(){var Ve=E;E=Me;try{return ne.apply(this,arguments)}finally{E=Ve}}}})(hd)),hd}var Eg;function PT(){return Eg||(Eg=1,pd.exports=IT()),pd.exports}var md={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function UT(){if(bg)return Sn;bg=1;var t=ap();function e(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(y,m,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:y,containerInfo:m,implementation:v}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sn.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(y,m,null,v)},Sn.flushSync=function(y){var m=d.T,v=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=m,r.p=v,r.d.f()}},Sn.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(y,m))},Sn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Sn.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,S=p(v,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,M=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?r.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:M}):v==="script"&&r.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:M,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Sn.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);r.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(y)},Sn.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,S=p(v,m.crossOrigin);r.d.L(y,v,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Sn.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=p(m.as,m.crossOrigin);r.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(y)},Sn.requestFormReset=function(y){r.d.r(y)},Sn.unstable_batchedUpdates=function(y,m){return y(m)},Sn.useFormState=function(y,m,v){return d.H.useFormState(y,m,v)},Sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Sn.version="19.1.1",Sn}var _g;function LT(){if(_g)return md.exports;_g=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),md.exports=UT(),md.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function qT(){if(Ag)return fs;Ag=1;var t=PT(),e=ap(),i=LT();function r(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var o=n,l=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(l=o.return),n=o.return;while(n)}return o.tag===3?l:null}function d(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function p(n){if(c(n)!==n)throw Error(r(188))}function y(n){var o=n.alternate;if(!o){if(o=c(n),o===null)throw Error(r(188));return o!==n?null:n}for(var l=n,f=o;;){var g=l.return;if(g===null)break;var T=g.alternate;if(T===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===T.child){for(T=g.child;T;){if(T===l)return p(g),n;if(T===f)return p(g),o;T=T.sibling}throw Error(r(188))}if(l.return!==f.return)l=g,f=T;else{for(var w=!1,k=g.child;k;){if(k===l){w=!0,l=g,f=T;break}if(k===f){w=!0,f=g,l=T;break}k=k.sibling}if(!w){for(k=T.child;k;){if(k===l){w=!0,l=T,f=g;break}if(k===f){w=!0,f=T,l=g;break}k=k.sibling}if(!w)throw Error(r(189))}}if(l.alternate!==f)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:o}function m(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=m(n),o!==null)return o;n=n.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),te=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),we=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function me(n){return n===null||typeof n!="object"?null:(n=ce&&n[ce]||n["@@iterator"],typeof n=="function"?n:null)}var Z=Symbol.for("react.client.reference");function pe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Z?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case U:return"Fragment";case re:return"Profiler";case B:return"StrictMode";case ye:return"Suspense";case j:return"SuspenseList";case we:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case M:return"Portal";case te:return(n.displayName||"Context")+".Provider";case se:return(n._context.displayName||"Context")+".Consumer";case Te:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Se:return o=n.displayName||null,o!==null?o:pe(n.type)||"Memo";case ze:o=n._payload,n=n._init;try{return pe(n(o))}catch{}}return null}var Ee=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ve={pending:!1,data:null,method:null,action:null},nt=[],R=-1;function ge(n){return{current:n}}function Ue(n){0>R||(n.current=nt[R],nt[R]=null,R--)}function I(n,o){R++,nt[R]=n.current,n.current=o}var He=ge(null),tt=ge(null),Oe=ge(null),qt=ge(null);function dt(n,o){switch(I(Oe,o),I(tt,n),I(He,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?Ym(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=Ym(o),n=Jm(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Ue(He),I(He,n)}function Be(){Ue(He),Ue(tt),Ue(Oe)}function zn(n){n.memoizedState!==null&&I(qt,n);var o=He.current,l=Jm(o,n.type);o!==l&&(I(tt,n),I(He,l))}function Dn(n){tt.current===n&&(Ue(He),Ue(tt)),qt.current===n&&(Ue(qt),os._currentValue=Ve)}var ht=Object.prototype.hasOwnProperty,mi=t.unstable_scheduleCallback,io=t.unstable_cancelCallback,ni=t.unstable_shouldYield,Go=t.unstable_requestPaint,_n=t.unstable_now,jl=t.unstable_getCurrentPriorityLevel,ro=t.unstable_ImmediatePriority,Oi=t.unstable_UserBlockingPriority,pn=t.unstable_NormalPriority,Fo=t.unstable_LowPriority,Ci=t.unstable_IdlePriority,Ko=t.log,Hi=t.unstable_setDisableYieldValue,fe=null,Ce=null;function Ye(n){if(typeof Ko=="function"&&Hi(n),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(fe,n)}catch{}}var Je=Math.clz32?Math.clz32:hn,gt=Math.log,an=Math.LN2;function hn(n){return n>>>=0,n===0?32:31-(gt(n)/an|0)|0}var tn=256,In=4194304;function Ht(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Le(n,o,l){var f=n.pendingLanes;if(f===0)return 0;var g=0,T=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var k=f&134217727;return k!==0?(f=k&~T,f!==0?g=Ht(f):(w&=k,w!==0?g=Ht(w):l||(l=k&~n,l!==0&&(g=Ht(l))))):(k=f&~T,k!==0?g=Ht(k):w!==0?g=Ht(w):l||(l=f&~n,l!==0&&(g=Ht(l)))),g===0?0:o!==0&&o!==g&&(o&T)===0&&(T=g&-g,l=o&-o,T>=l||T===32&&(l&4194048)!==0)?o:g}function sn(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function nn(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var n=tn;return tn<<=1,(tn&4194048)===0&&(tn=256),n}function qe(){var n=In;return In<<=1,(In&62914560)===0&&(In=4194304),n}function lo(n){for(var o=[],l=0;31>l;l++)o.push(n);return o}function pr(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ea(n,o,l,f,g,T){var w=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var k=n.entanglements,q=n.expirationTimes,ee=n.hiddenUpdates;for(l=w&~l;0<l;){var he=31-Je(l),xe=1<<he;k[he]=0,q[he]=-1;var ie=ee[he];if(ie!==null)for(ee[he]=null,he=0;he<ie.length;he++){var oe=ie[he];oe!==null&&(oe.lane&=-536870913)}l&=~xe}f!==0&&ta(n,f,0),T!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=T&~(w&~o))}function ta(n,o,l){n.pendingLanes|=o,n.suspendedLanes&=~o;var f=31-Je(o);n.entangledLanes|=o,n.entanglements[f]=n.entanglements[f]|1073741824|l&4194090}function Yo(n,o){var l=n.entangledLanes|=o;for(n=n.entanglements;l;){var f=31-Je(l),g=1<<f;g&o|n[f]&o&&(n[f]|=o),l&=~g}}function na(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ia(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function zi(){var n=Me.p;return n!==0?n:(n=window.event,n===void 0?32:dg(n.type))}function hr(n,o){var l=Me.p;try{return Me.p=n,o()}finally{Me.p=l}}var ii=Math.random().toString(36).slice(2),Kt="__reactFiber$"+ii,lt="__reactProps$"+ii,It="__reactContainer$"+ii,ra="__reactEvents$"+ii,Jo="__reactListeners$"+ii,$o="__reactHandles$"+ii,ao="__reactResources$"+ii,so="__reactMarker$"+ii;function ri(n){delete n[Kt],delete n[lt],delete n[ra],delete n[Jo],delete n[$o]}function Gn(n){var o=n[Kt];if(o)return o;for(var l=n.parentNode;l;){if(o=l[It]||l[Kt]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(n=Zm(n);n!==null;){if(l=n[Kt])return l;n=Zm(n)}return o}n=l,l=n.parentNode}return null}function An(n){if(n=n[Kt]||n[It]){var o=n.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return n}return null}function Ei(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(r(33))}function mr(n){var o=n[ao];return o||(o=n[ao]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function wt(n){n[so]=!0}var oa=new Set,bi={};function _i(n,o){Ai(n,o),Ai(n+"Capture",o)}function Ai(n,o){for(bi[n]=o,n=0;n<o.length;n++)oa.add(o[n])}var Bt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wi={},oi={};function ks(n){return ht.call(oi,n)?!0:ht.call(wi,n)?!1:Bt.test(n)?oi[n]=!0:(wi[n]=!0,!1)}function gi(n,o,l){if(ks(o))if(l===null)n.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+l)}}function Gi(n,o,l){if(l===null)n.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+l)}}function Fn(n,o,l,f){if(f===null)n.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(o,l,""+f)}}var uo,Mi;function Fi(n){if(uo===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);uo=o&&o[1]||"",Mi=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+uo+n+Mi}var gr=!1;function Xo(n,o){if(!n||gr)return"";gr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(oe){var ie=oe}Reflect.construct(n,[],xe)}else{try{xe.call()}catch(oe){ie=oe}n.call(xe.prototype)}}else{try{throw Error()}catch(oe){ie=oe}(xe=n())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(oe){if(oe&&ie&&typeof oe.stack=="string")return[oe.stack,ie.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=f.DetermineComponentFrameRoot(),w=T[0],k=T[1];if(w&&k){var q=w.split(`
`),ee=k.split(`
`);for(g=f=0;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;for(;g<ee.length&&!ee[g].includes("DetermineComponentFrameRoot");)g++;if(f===q.length||g===ee.length)for(f=q.length-1,g=ee.length-1;1<=f&&0<=g&&q[f]!==ee[g];)g--;for(;1<=f&&0<=g;f--,g--)if(q[f]!==ee[g]){if(f!==1||g!==1)do if(f--,g--,0>g||q[f]!==ee[g]){var he=`
`+q[f].replace(" at new "," at ");return n.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",n.displayName)),he}while(1<=f&&0<=g);break}}}finally{gr=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Fi(l):""}function ut(n){switch(n.tag){case 26:case 27:case 5:return Fi(n.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return Xo(n.type,!1);case 11:return Xo(n.type.render,!1);case 1:return Xo(n.type,!0);case 31:return Fi("Activity");default:return""}}function la(n){try{var o="";do o+=ut(n),n=n.return;while(n);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function wn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function co(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ds(n){var o=co(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),f=""+n[o];if(!n.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,T=l.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return g.call(this)},set:function(w){f=""+w,T.call(this,w)}}),Object.defineProperty(n,o,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(w){f=""+w},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function St(n){n._valueTracker||(n._valueTracker=Ds(n))}function yr(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var l=o.getValue(),f="";return n&&(f=co(n)?n.checked?"true":"false":n.value),n=f,n!==l?(o.setValue(n),!0):!1}function Ri(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var vr=/[\n"\\]/g;function vn(n){return n.replace(vr,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function fo(n,o,l,f,g,T,w,k){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),o!=null?w==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+wn(o)):n.value!==""+wn(o)&&(n.value=""+wn(o)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),o!=null?Qo(n,w,wn(o)):l!=null?Qo(n,w,wn(l)):f!=null&&n.removeAttribute("value"),g==null&&T!=null&&(n.defaultChecked=!!T),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?n.name=""+wn(k):n.removeAttribute("name")}function po(n,o,l,f,g,T,w,k){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.type=T),o!=null||l!=null){if(!(T!=="submit"&&T!=="reset"||o!=null))return;l=l!=null?""+wn(l):"",o=o!=null?""+wn(o):l,k||o===n.value||(n.value=o),n.defaultValue=o}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,n.checked=k?n.checked:!!f,n.defaultChecked=!!f,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w)}function Qo(n,o,l){o==="number"&&Ri(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function yi(n,o,l,f){if(n=n.options,o){o={};for(var g=0;g<l.length;g++)o["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=o.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&f&&(n[l].defaultSelected=!0)}else{for(l=""+wn(l),o=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,f&&(n[g].defaultSelected=!0);return}o!==null||n[g].disabled||(o=n[g])}o!==null&&(o.selected=!0)}}function aa(n,o,l){if(o!=null&&(o=""+wn(o),o!==n.value&&(n.value=o),l==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=l!=null?""+wn(l):""}function xr(n,o,l,f){if(o==null){if(f!=null){if(l!=null)throw Error(r(92));if(Ee(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),o=l}l=wn(o),n.defaultValue=l,f=n.textContent,f===l&&f!==""&&f!==null&&(n.value=f)}function Ki(n,o){if(o){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=o;return}}n.textContent=o}var Ec=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pt(n,o,l){var f=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":f?n.setProperty(o,l):typeof l!="number"||l===0||Ec.has(o)?o==="float"?n.cssFloat=l:n[o]=(""+l).trim():n[o]=l+"px"}function sa(n,o,l){if(o!=null&&typeof o!="object")throw Error(r(62));if(n=n.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?n.setProperty(f,""):f==="float"?n.cssFloat="":n[f]="");for(var g in o)f=o[g],o.hasOwnProperty(g)&&l[g]!==f&&pt(n,g,f)}else for(var T in o)o.hasOwnProperty(T)&&pt(n,T,o[T])}function ua(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vi(n){return Mn.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Tr=null;function li(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Yi=null,Ji=null;function Yt(n){var o=An(n);if(o&&(n=o.stateNode)){var l=n[lt]||null;e:switch(n=o.stateNode,o.type){case"input":if(fo(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+vn(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var f=l[o];if(f!==n&&f.form===n.form){var g=f[lt]||null;if(!g)throw Error(r(90));fo(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<l.length;o++)f=l[o],f.form===n.form&&yr(f)}break e;case"textarea":aa(n,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&yi(n,!!l.multiple,o,!1)}}}var Pn=!1;function Sr(n,o,l){if(Pn)return n(o,l);Pn=!0;try{var f=n(o);return f}finally{if(Pn=!1,(Yi!==null||Ji!==null)&&(Su(),Yi&&(o=Yi,n=Ji,Ji=Yi=null,Yt(o),n)))for(o=0;o<n.length;o++)Yt(n[o])}}function xi(n,o){var l=n.stateNode;if(l===null)return null;var f=l[lt]||null;if(f===null)return null;l=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ai=!1;if(Kn)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){ai=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{ai=!1}var rn=null,mo=null,go=null;function Zo(){if(go)return go;var n,o=mo,l=o.length,f,g="value"in rn?rn.value:rn.textContent,T=g.length;for(n=0;n<l&&o[n]===g[n];n++);var w=l-n;for(f=1;f<=w&&o[l-f]===g[T-f];f++);return go=g.slice(n,1<f?1-f:void 0)}function Ni(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function Cr(){return!0}function ca(){return!1}function xn(n){function o(l,f,g,T,w){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=T,this.target=w,this.currentTarget=null;for(var k in n)n.hasOwnProperty(k)&&(l=n[k],this[k]=l?l(T):T[k]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Cr:ca,this.isPropagationStopped=ca,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),o}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wo=xn(Yn),yo=v({},Yn,{view:0,detail:0}),jo=xn(yo),Er,vo,xo,el=v({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$i,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==xo&&(xo&&n.type==="mousemove"?(Er=n.screenX-xo.screenX,vo=n.screenY-xo.screenY):vo=Er=0,xo=n),Er)},movementY:function(n){return"movementY"in n?n.movementY:vo}}),Is=xn(el),fa=v({},el,{dataTransfer:0}),da=xn(fa),Ps=v({},yo,{relatedTarget:0}),br=xn(Ps),tl=v({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),nl=xn(tl),Us=v({},Yn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),_c=xn(Us),_r=v({},Yn,{data:0}),il=xn(_r),pa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ha={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ma={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function un(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=ma[n])?!!o[n]:!1}function $i(){return un}var To=v({},yo,{key:function(n){if(n.key){var o=pa[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=Ni(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ha[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$i,charCode:function(n){return n.type==="keypress"?Ni(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ni(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ls=xn(To),rl=v({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ga=xn(rl),qs=v({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$i}),ol=xn(qs),ya=v({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xi=xn(ya),va=v({},el,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=xn(va),ll=v({},Yn,{newState:0,oldState:0}),Ta=xn(ll),Bs=[9,13,27,32],Sa=Kn&&"CompositionEvent"in window,Qi=null;Kn&&"documentMode"in document&&(Qi=document.documentMode);var al=Kn&&"TextEvent"in window&&!Qi,Vs=Kn&&(!Sa||Qi&&8<Qi&&11>=Qi),sl=" ",ul=!1;function Os(n,o){switch(n){case"keyup":return Bs.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ar=!1;function Hs(n,o){switch(n){case"compositionend":return Ca(o);case"keypress":return o.which!==32?null:(ul=!0,sl);case"textInput":return n=o.data,n===sl&&ul?null:n;default:return null}}function zs(n,o){if(Ar)return n==="compositionend"||!Sa&&Os(n,o)?(n=Zo(),go=mo=rn=null,Ar=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Vs&&o.locale!=="ko"?null:o.data;default:return null}}var Ac={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ea(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!Ac[n.type]:o==="textarea"}function cl(n,o,l,f){Yi?Ji?Ji.push(f):Ji=[f]:Yi=f,o=wu(o,"onChange"),0<o.length&&(l=new Wo("onChange","change",null,l,f),n.push({event:l,listeners:o}))}var wr=null,Mr=null;function wc(n){Hm(n,0)}function fl(n){var o=Ei(n);if(yr(o))return n}function Gs(n,o){if(n==="change")return o}var So=!1;if(Kn){var Jn;if(Kn){var Pt="oninput"in document;if(!Pt){var Co=document.createElement("div");Co.setAttribute("oninput","return;"),Pt=typeof Co.oninput=="function"}Jn=Pt}else Jn=!1;So=Jn&&(!document.documentMode||9<document.documentMode)}function Rn(){wr&&(wr.detachEvent("onpropertychange",Fs),Mr=wr=null)}function Fs(n){if(n.propertyName==="value"&&fl(Mr)){var o=[];cl(o,Mr,n,li(n)),Sr(wc,o)}}function ba(n,o,l){n==="focusin"?(Rn(),wr=o,Mr=l,wr.attachEvent("onpropertychange",Fs)):n==="focusout"&&Rn()}function Ks(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return fl(Mr)}function Zi(n,o){if(n==="click")return fl(o)}function _a(n,o){if(n==="input"||n==="change")return fl(o)}function Rr(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var zt=typeof Object.is=="function"?Object.is:Rr;function Nr(n,o){if(zt(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var l=Object.keys(n),f=Object.keys(o);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!ht.call(o,g)||!zt(n[g],o[g]))return!1}return!0}function h(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function x(n,o){var l=h(n);n=0;for(var f;l;){if(l.nodeType===3){if(f=n+l.textContent.length,n<=o&&f>=o)return{node:l,offset:o-n};n=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=h(l)}}function C(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?C(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function b(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=Ri(n.document);o instanceof n.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)n=o.contentWindow;else break;o=Ri(n.document)}return o}function A(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var N=Kn&&"documentMode"in document&&11>=document.documentMode,D=null,P=null,V=null,z=!1;function K(n,o,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;z||D==null||D!==Ri(f)||(f=D,"selectionStart"in f&&A(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),V&&Nr(V,f)||(V=f,f=wu(P,"onSelect"),0<f.length&&(o=new Wo("onSelect","select",null,o,l),n.push({event:o,listeners:f}),o.target=D)))}function L(n,o){var l={};return l[n.toLowerCase()]=o.toLowerCase(),l["Webkit"+n]="webkit"+o,l["Moz"+n]="moz"+o,l}var Y={animationend:L("Animation","AnimationEnd"),animationiteration:L("Animation","AnimationIteration"),animationstart:L("Animation","AnimationStart"),transitionrun:L("Transition","TransitionRun"),transitionstart:L("Transition","TransitionStart"),transitioncancel:L("Transition","TransitionCancel"),transitionend:L("Transition","TransitionEnd")},O={},G={};Kn&&(G=document.createElement("div").style,"AnimationEvent"in window||(delete Y.animationend.animation,delete Y.animationiteration.animation,delete Y.animationstart.animation),"TransitionEvent"in window||delete Y.transitionend.transition);function F(n){if(O[n])return O[n];if(!Y[n])return n;var o=Y[n],l;for(l in o)if(o.hasOwnProperty(l)&&l in G)return O[n]=o[l];return n}var J=F("animationend"),Q=F("animationiteration"),le=F("animationstart"),ue=F("transitionrun"),de=F("transitionstart"),be=F("transitioncancel"),ke=F("transitionend"),_e=new Map,Ae="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ae.push("scrollEnd");function Ne(n,o){_e.set(n,o),_i(o,[n])}var Pe=new WeakMap;function De(n,o){if(typeof n=="object"&&n!==null){var l=Pe.get(n);return l!==void 0?l:(o={value:n,source:o,stack:la(o)},Pe.set(n,o),o)}return{value:n,source:o,stack:la(o)}}var $e=[],it=0,We=0;function Mt(){for(var n=it,o=We=it=0;o<n;){var l=$e[o];$e[o++]=null;var f=$e[o];$e[o++]=null;var g=$e[o];$e[o++]=null;var T=$e[o];if($e[o++]=null,f!==null&&g!==null){var w=f.pending;w===null?g.next=g:(g.next=w.next,w.next=g),f.pending=g}T!==0&&Eo(l,g,T)}}function Qe(n,o,l,f){$e[it++]=n,$e[it++]=o,$e[it++]=l,$e[it++]=f,We|=f,n.lanes|=f,n=n.alternate,n!==null&&(n.lanes|=f)}function Qt(n,o,l,f){return Qe(n,o,l,f),Zt(n)}function Vt(n,o){return Qe(n,null,null,o),Zt(n)}function Eo(n,o,l){n.lanes|=l;var f=n.alternate;f!==null&&(f.lanes|=l);for(var g=!1,T=n.return;T!==null;)T.childLanes|=l,f=T.alternate,f!==null&&(f.childLanes|=l),T.tag===22&&(n=T.stateNode,n===null||n._visibility&1||(g=!0)),n=T,T=T.return;return n.tag===3?(T=n.stateNode,g&&o!==null&&(g=31-Je(l),n=T.hiddenUpdates,f=n[g],f===null?n[g]=[o]:f.push(o),o.lane=l|536870912),T):null}function Zt(n){if(50<Za)throw Za=0,Pf=null,Error(r(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var Un={};function Aa(n,o,l,f){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(n,o,l,f){return new Aa(n,o,l,f)}function Mc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Wi(n,o){var l=n.alternate;return l===null?(l=$n(n.tag,o,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=o,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,o=n.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Ap(n,o){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,o=l.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function Ys(n,o,l,f,g,T){var w=0;if(f=n,typeof n=="function")Mc(n)&&(w=1);else if(typeof n=="string")w=gT(n,l,He.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case we:return n=$n(31,l,o,g),n.elementType=we,n.lanes=T,n;case U:return bo(l.children,g,T,o);case B:w=8,g|=24;break;case re:return n=$n(12,l,o,g|2),n.elementType=re,n.lanes=T,n;case ye:return n=$n(13,l,o,g),n.elementType=ye,n.lanes=T,n;case j:return n=$n(19,l,o,g),n.elementType=j,n.lanes=T,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case X:case te:w=10;break e;case se:w=9;break e;case Te:w=11;break e;case Se:w=14;break e;case ze:w=16,f=null;break e}w=29,l=Error(r(130,n===null?"null":typeof n,"")),f=null}return o=$n(w,l,o,g),o.elementType=n,o.type=f,o.lanes=T,o}function bo(n,o,l,f){return n=$n(7,n,f,o),n.lanes=l,n}function Rc(n,o,l){return n=$n(6,n,null,o),n.lanes=l,n}function Nc(n,o,l){return o=$n(4,n.children!==null?n.children:[],n.key,o),o.lanes=l,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var dl=[],pl=0,Js=null,$s=0,si=[],ui=0,_o=null,ji=1,er="";function Ao(n,o){dl[pl++]=$s,dl[pl++]=Js,Js=n,$s=o}function wp(n,o,l){si[ui++]=ji,si[ui++]=er,si[ui++]=_o,_o=n;var f=ji;n=er;var g=32-Je(f)-1;f&=~(1<<g),l+=1;var T=32-Je(o)+g;if(30<T){var w=g-g%5;T=(f&(1<<w)-1).toString(32),f>>=w,g-=w,ji=1<<32-Je(o)+g|l<<g|f,er=T+n}else ji=1<<T|l<<g|f,er=n}function kc(n){n.return!==null&&(Ao(n,1),wp(n,1,0))}function Dc(n){for(;n===Js;)Js=dl[--pl],dl[pl]=null,$s=dl[--pl],dl[pl]=null;for(;n===_o;)_o=si[--ui],si[ui]=null,er=si[--ui],si[ui]=null,ji=si[--ui],si[ui]=null}var Nn=null,Gt=null,vt=!1,wo=null,ki=!1,Ic=Error(r(519));function Mo(n){var o=Error(r(418,""));throw Ra(De(o,n)),Ic}function Mp(n){var o=n.stateNode,l=n.type,f=n.memoizedProps;switch(o[Kt]=n,o[lt]=f,l){case"dialog":ft("cancel",o),ft("close",o);break;case"iframe":case"object":case"embed":ft("load",o);break;case"video":case"audio":for(l=0;l<ja.length;l++)ft(ja[l],o);break;case"source":ft("error",o);break;case"img":case"image":case"link":ft("error",o),ft("load",o);break;case"details":ft("toggle",o);break;case"input":ft("invalid",o),po(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),St(o);break;case"select":ft("invalid",o);break;case"textarea":ft("invalid",o),xr(o,f.value,f.defaultValue,f.children),St(o)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||f.suppressHydrationWarning===!0||Km(o.textContent,l)?(f.popover!=null&&(ft("beforetoggle",o),ft("toggle",o)),f.onScroll!=null&&ft("scroll",o),f.onScrollEnd!=null&&ft("scrollend",o),f.onClick!=null&&(o.onclick=Mu),o=!0):o=!1,o||Mo(n)}function Rp(n){for(Nn=n.return;Nn;)switch(Nn.tag){case 5:case 13:ki=!1;return;case 27:case 3:ki=!0;return;default:Nn=Nn.return}}function wa(n){if(n!==Nn)return!1;if(!vt)return Rp(n),vt=!0,!1;var o=n.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Qf(n.type,n.memoizedProps)),l=!l),l&&Gt&&Mo(n),Rp(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(o===0){Gt=Si(n.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;n=n.nextSibling}Gt=null}}else o===27?(o=Gt,Yr(n.type)?(n=ed,ed=null,Gt=n):Gt=o):Gt=Nn?Si(n.stateNode.nextSibling):null;return!0}function Ma(){Gt=Nn=null,vt=!1}function Np(){var n=wo;return n!==null&&(Bn===null?Bn=n:Bn.push.apply(Bn,n),wo=null),n}function Ra(n){wo===null?wo=[n]:wo.push(n)}var Pc=ge(null),Ro=null,tr=null;function kr(n,o,l){I(Pc,o._currentValue),o._currentValue=l}function nr(n){n._currentValue=Pc.current,Ue(Pc)}function Uc(n,o,l){for(;n!==null;){var f=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),n===l)break;n=n.return}}function Lc(n,o,l,f){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var T=g.dependencies;if(T!==null){var w=g.child;T=T.firstContext;e:for(;T!==null;){var k=T;T=g;for(var q=0;q<o.length;q++)if(k.context===o[q]){T.lanes|=l,k=T.alternate,k!==null&&(k.lanes|=l),Uc(T.return,l,n),f||(w=null);break e}T=k.next}}else if(g.tag===18){if(w=g.return,w===null)throw Error(r(341));w.lanes|=l,T=w.alternate,T!==null&&(T.lanes|=l),Uc(w,l,n),w=null}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===n){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}}function Na(n,o,l,f){n=null;for(var g=o,T=!1;g!==null;){if(!T){if((g.flags&524288)!==0)T=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var w=g.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var k=g.type;zt(g.pendingProps.value,w.value)||(n!==null?n.push(k):n=[k])}}else if(g===qt.current){if(w=g.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(os):n=[os])}g=g.return}n!==null&&Lc(o,n,l,f),o.flags|=262144}function Xs(n){for(n=n.firstContext;n!==null;){if(!zt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function No(n){Ro=n,tr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Tn(n){return kp(Ro,n)}function Qs(n,o){return Ro===null&&No(n),kp(n,o)}function kp(n,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},tr===null){if(n===null)throw Error(r(308));tr=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else tr=tr.next=o;return l}var mx=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(l,f){n.push(f)}};this.abort=function(){o.aborted=!0,n.forEach(function(l){return l()})}},gx=t.unstable_scheduleCallback,yx=t.unstable_NormalPriority,on={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qc(){return{controller:new mx,data:new Map,refCount:0}}function ka(n){n.refCount--,n.refCount===0&&gx(yx,function(){n.controller.abort()})}var Da=null,Bc=0,hl=0,ml=null;function vx(n,o){if(Da===null){var l=Da=[];Bc=0,hl=Hf(),ml={status:"pending",value:void 0,then:function(f){l.push(f)}}}return Bc++,o.then(Dp,Dp),o}function Dp(){if(--Bc===0&&Da!==null){ml!==null&&(ml.status="fulfilled");var n=Da;Da=null,hl=0,ml=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function xx(n,o){var l=[],f={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){f.status="fulfilled",f.value=o;for(var g=0;g<l.length;g++)(0,l[g])(o)},function(g){for(f.status="rejected",f.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),f}var Ip=ne.S;ne.S=function(n,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&vx(n,o),Ip!==null&&Ip(n,o)};var ko=ge(null);function Vc(){var n=ko.current;return n!==null?n:Nt.pooledCache}function Zs(n,o){o===null?I(ko,ko.current):I(ko,o.pool)}function Pp(){var n=Vc();return n===null?null:{parent:on._currentValue,pool:n}}var Ia=Error(r(460)),Up=Error(r(474)),Ws=Error(r(542)),Oc={then:function(){}};function Lp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function js(){}function qp(n,o,l){switch(l=n[l],l===void 0?n.push(o):l!==o&&(o.then(js,js),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Vp(n),n;default:if(typeof o.status=="string")o.then(js,js);else{if(n=Nt,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=o,n.status="pending",n.then(function(f){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=f}},function(f){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Vp(n),n}throw Pa=o,Ia}}var Pa=null;function Bp(){if(Pa===null)throw Error(r(459));var n=Pa;return Pa=null,n}function Vp(n){if(n===Ia||n===Ws)throw Error(r(483))}var Dr=!1;function Hc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zc(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ir(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Pr(n,o,l){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(Ct&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,o=Zt(n),Eo(n,null,l),o}return Qe(n,f,o,l),Zt(n)}function Ua(n,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var f=o.lanes;f&=n.pendingLanes,l|=f,o.lanes=l,Yo(n,l)}}function Gc(n,o){var l=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,T=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};T===null?g=T=w:T=T.next=w,l=l.next}while(l!==null);T===null?g=T=o:T=T.next=o}else g=T=o;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:T,shared:f.shared,callbacks:f.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=o:n.next=o,l.lastBaseUpdate=o}var Fc=!1;function La(){if(Fc){var n=ml;if(n!==null)throw n}}function qa(n,o,l,f){Fc=!1;var g=n.updateQueue;Dr=!1;var T=g.firstBaseUpdate,w=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var q=k,ee=q.next;q.next=null,w===null?T=ee:w.next=ee,w=q;var he=n.alternate;he!==null&&(he=he.updateQueue,k=he.lastBaseUpdate,k!==w&&(k===null?he.firstBaseUpdate=ee:k.next=ee,he.lastBaseUpdate=q))}if(T!==null){var xe=g.baseState;w=0,he=ee=q=null,k=T;do{var ie=k.lane&-536870913,oe=ie!==k.lane;if(oe?(mt&ie)===ie:(f&ie)===ie){ie!==0&&ie===hl&&(Fc=!0),he!==null&&(he=he.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var je=n,Xe=k;ie=o;var At=l;switch(Xe.tag){case 1:if(je=Xe.payload,typeof je=="function"){xe=je.call(At,xe,ie);break e}xe=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Xe.payload,ie=typeof je=="function"?je.call(At,xe,ie):je,ie==null)break e;xe=v({},xe,ie);break e;case 2:Dr=!0}}ie=k.callback,ie!==null&&(n.flags|=64,oe&&(n.flags|=8192),oe=g.callbacks,oe===null?g.callbacks=[ie]:oe.push(ie))}else oe={lane:ie,tag:k.tag,payload:k.payload,callback:k.callback,next:null},he===null?(ee=he=oe,q=xe):he=he.next=oe,w|=ie;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;oe=k,k=oe.next,oe.next=null,g.lastBaseUpdate=oe,g.shared.pending=null}}while(!0);he===null&&(q=xe),g.baseState=q,g.firstBaseUpdate=ee,g.lastBaseUpdate=he,T===null&&(g.shared.lanes=0),zr|=w,n.lanes=w,n.memoizedState=xe}}function Op(n,o){if(typeof n!="function")throw Error(r(191,n));n.call(o)}function Hp(n,o){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Op(l[n],o)}var gl=ge(null),eu=ge(0);function zp(n,o){n=ur,I(eu,n),I(gl,o),ur=n|o.baseLanes}function Kc(){I(eu,ur),I(gl,gl.current)}function Yc(){ur=eu.current,Ue(gl),Ue(eu)}var Ur=0,at=null,bt=null,Wt=null,tu=!1,yl=!1,Do=!1,nu=0,Ba=0,vl=null,Tx=0;function Jt(){throw Error(r(321))}function Jc(n,o){if(o===null)return!1;for(var l=0;l<o.length&&l<n.length;l++)if(!zt(n[l],o[l]))return!1;return!0}function $c(n,o,l,f,g,T){return Ur=T,at=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ne.H=n===null||n.memoizedState===null?_h:Ah,Do=!1,T=l(f,g),Do=!1,yl&&(T=Fp(o,l,f,g)),Gp(n),T}function Gp(n){ne.H=su;var o=bt!==null&&bt.next!==null;if(Ur=0,Wt=bt=at=null,tu=!1,Ba=0,vl=null,o)throw Error(r(300));n===null||cn||(n=n.dependencies,n!==null&&Xs(n)&&(cn=!0))}function Fp(n,o,l,f){at=n;var g=0;do{if(yl&&(vl=null),Ba=0,yl=!1,25<=g)throw Error(r(301));if(g+=1,Wt=bt=null,n.updateQueue!=null){var T=n.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}ne.H=wx,T=o(l,f)}while(yl);return T}function Sx(){var n=ne.H,o=n.useState()[0];return o=typeof o.then=="function"?Va(o):o,n=n.useState()[0],(bt!==null?bt.memoizedState:null)!==n&&(at.flags|=1024),o}function Xc(){var n=nu!==0;return nu=0,n}function Qc(n,o,l){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~l}function Zc(n){if(tu){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}tu=!1}Ur=0,Wt=bt=at=null,yl=!1,Ba=nu=0,vl=null}function Ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?at.memoizedState=Wt=n:Wt=Wt.next=n,Wt}function jt(){if(bt===null){var n=at.alternate;n=n!==null?n.memoizedState:null}else n=bt.next;var o=Wt===null?at.memoizedState:Wt.next;if(o!==null)Wt=o,bt=n;else{if(n===null)throw at.alternate===null?Error(r(467)):Error(r(310));bt=n,n={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Wt===null?at.memoizedState=Wt=n:Wt=Wt.next=n}return Wt}function Wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Va(n){var o=Ba;return Ba+=1,vl===null&&(vl=[]),n=qp(vl,n,o),o=at,(Wt===null?o.memoizedState:Wt.next)===null&&(o=o.alternate,ne.H=o===null||o.memoizedState===null?_h:Ah),n}function iu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Va(n);if(n.$$typeof===te)return Tn(n)}throw Error(r(438,String(n)))}function jc(n){var o=null,l=at.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var f=at.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Wc(),at.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(n),f=0;f<n;f++)l[f]=ae;return o.index++,l}function ir(n,o){return typeof o=="function"?o(n):o}function ru(n){var o=jt();return ef(o,bt,n)}function ef(n,o,l){var f=n.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var g=n.baseQueue,T=f.pending;if(T!==null){if(g!==null){var w=g.next;g.next=T.next,T.next=w}o.baseQueue=g=T,f.pending=null}if(T=n.baseState,g===null)n.memoizedState=T;else{o=g.next;var k=w=null,q=null,ee=o,he=!1;do{var xe=ee.lane&-536870913;if(xe!==ee.lane?(mt&xe)===xe:(Ur&xe)===xe){var ie=ee.revertLane;if(ie===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),xe===hl&&(he=!0);else if((Ur&ie)===ie){ee=ee.next,ie===hl&&(he=!0);continue}else xe={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(k=q=xe,w=T):q=q.next=xe,at.lanes|=ie,zr|=ie;xe=ee.action,Do&&l(T,xe),T=ee.hasEagerState?ee.eagerState:l(T,xe)}else ie={lane:xe,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(k=q=ie,w=T):q=q.next=ie,at.lanes|=xe,zr|=xe;ee=ee.next}while(ee!==null&&ee!==o);if(q===null?w=T:q.next=k,!zt(T,n.memoizedState)&&(cn=!0,he&&(l=ml,l!==null)))throw l;n.memoizedState=T,n.baseState=w,n.baseQueue=q,f.lastRenderedState=T}return g===null&&(f.lanes=0),[n.memoizedState,f.dispatch]}function tf(n){var o=jt(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var f=l.dispatch,g=l.pending,T=o.memoizedState;if(g!==null){l.pending=null;var w=g=g.next;do T=n(T,w.action),w=w.next;while(w!==g);zt(T,o.memoizedState)||(cn=!0),o.memoizedState=T,o.baseQueue===null&&(o.baseState=T),l.lastRenderedState=T}return[T,f]}function Kp(n,o,l){var f=at,g=jt(),T=vt;if(T){if(l===void 0)throw Error(r(407));l=l()}else l=o();var w=!zt((bt||g).memoizedState,l);w&&(g.memoizedState=l,cn=!0),g=g.queue;var k=$p.bind(null,f,g,n);if(Oa(2048,8,k,[n]),g.getSnapshot!==o||w||Wt!==null&&Wt.memoizedState.tag&1){if(f.flags|=2048,xl(9,ou(),Jp.bind(null,f,g,l,o),null),Nt===null)throw Error(r(349));T||(Ur&124)!==0||Yp(f,o,l)}return l}function Yp(n,o,l){n.flags|=16384,n={getSnapshot:o,value:l},o=at.updateQueue,o===null?(o=Wc(),at.updateQueue=o,o.stores=[n]):(l=o.stores,l===null?o.stores=[n]:l.push(n))}function Jp(n,o,l,f){o.value=l,o.getSnapshot=f,Xp(o)&&Qp(n)}function $p(n,o,l){return l(function(){Xp(o)&&Qp(n)})}function Xp(n){var o=n.getSnapshot;n=n.value;try{var l=o();return!zt(n,l)}catch{return!0}}function Qp(n){var o=Vt(n,2);o!==null&&jn(o,n,2)}function nf(n){var o=Ln();if(typeof n=="function"){var l=n;if(n=l(),Do){Ye(!0);try{l()}finally{Ye(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:n},o}function Zp(n,o,l,f){return n.baseState=l,ef(n,bt,typeof f=="function"?f:ir)}function Cx(n,o,l,f,g){if(au(n))throw Error(r(485));if(n=o.action,n!==null){var T={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){T.listeners.push(w)}};ne.T!==null?l(!0):T.isTransition=!1,f(T),l=o.pending,l===null?(T.next=o.pending=T,Wp(o,T)):(T.next=l.next,o.pending=l.next=T)}}function Wp(n,o){var l=o.action,f=o.payload,g=n.state;if(o.isTransition){var T=ne.T,w={};ne.T=w;try{var k=l(g,f),q=ne.S;q!==null&&q(w,k),jp(n,o,k)}catch(ee){rf(n,o,ee)}finally{ne.T=T}}else try{T=l(g,f),jp(n,o,T)}catch(ee){rf(n,o,ee)}}function jp(n,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){eh(n,o,f)},function(f){return rf(n,o,f)}):eh(n,o,l)}function eh(n,o,l){o.status="fulfilled",o.value=l,th(o),n.state=l,o=n.pending,o!==null&&(l=o.next,l===o?n.pending=null:(l=l.next,o.next=l,Wp(n,l)))}function rf(n,o,l){var f=n.pending;if(n.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=l,th(o),o=o.next;while(o!==f)}n.action=null}function th(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function nh(n,o){return o}function ih(n,o){if(vt){var l=Nt.formState;if(l!==null){e:{var f=at;if(vt){if(Gt){t:{for(var g=Gt,T=ki;g.nodeType!==8;){if(!T){g=null;break t}if(g=Si(g.nextSibling),g===null){g=null;break t}}T=g.data,g=T==="F!"||T==="F"?g:null}if(g){Gt=Si(g.nextSibling),f=g.data==="F!";break e}}Mo(f)}f=!1}f&&(o=l[0])}}return l=Ln(),l.memoizedState=l.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nh,lastRenderedState:o},l.queue=f,l=Ch.bind(null,at,f),f.dispatch=l,f=nf(!1),T=uf.bind(null,at,!1,f.queue),f=Ln(),g={state:o,dispatch:null,action:n,pending:null},f.queue=g,l=Cx.bind(null,at,g,T,l),g.dispatch=l,f.memoizedState=n,[o,l,!1]}function rh(n){var o=jt();return oh(o,bt,n)}function oh(n,o,l){if(o=ef(n,o,nh)[0],n=ru(ir)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Va(o)}catch(w){throw w===Ia?Ws:w}else f=o;o=jt();var g=o.queue,T=g.dispatch;return l!==o.memoizedState&&(at.flags|=2048,xl(9,ou(),Ex.bind(null,g,l),null)),[f,T,n]}function Ex(n,o){n.action=o}function lh(n){var o=jt(),l=bt;if(l!==null)return oh(o,l,n);jt(),o=o.memoizedState,l=jt();var f=l.queue.dispatch;return l.memoizedState=n,[o,f,!1]}function xl(n,o,l,f){return n={tag:n,create:l,deps:f,inst:o,next:null},o=at.updateQueue,o===null&&(o=Wc(),at.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=n.next=n:(f=l.next,l.next=n,n.next=f,o.lastEffect=n),n}function ou(){return{destroy:void 0,resource:void 0}}function ah(){return jt().memoizedState}function lu(n,o,l,f){var g=Ln();f=f===void 0?null:f,at.flags|=n,g.memoizedState=xl(1|o,ou(),l,f)}function Oa(n,o,l,f){var g=jt();f=f===void 0?null:f;var T=g.memoizedState.inst;bt!==null&&f!==null&&Jc(f,bt.memoizedState.deps)?g.memoizedState=xl(o,T,l,f):(at.flags|=n,g.memoizedState=xl(1|o,T,l,f))}function sh(n,o){lu(8390656,8,n,o)}function uh(n,o){Oa(2048,8,n,o)}function ch(n,o){return Oa(4,2,n,o)}function fh(n,o){return Oa(4,4,n,o)}function dh(n,o){if(typeof o=="function"){n=n();var l=o(n);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function ph(n,o,l){l=l!=null?l.concat([n]):null,Oa(4,4,dh.bind(null,o,n),l)}function of(){}function hh(n,o){var l=jt();o=o===void 0?null:o;var f=l.memoizedState;return o!==null&&Jc(o,f[1])?f[0]:(l.memoizedState=[n,o],n)}function mh(n,o){var l=jt();o=o===void 0?null:o;var f=l.memoizedState;if(o!==null&&Jc(o,f[1]))return f[0];if(f=n(),Do){Ye(!0);try{n()}finally{Ye(!1)}}return l.memoizedState=[f,o],f}function lf(n,o,l){return l===void 0||(Ur&1073741824)!==0?n.memoizedState=o:(n.memoizedState=l,n=vm(),at.lanes|=n,zr|=n,l)}function gh(n,o,l,f){return zt(l,o)?l:gl.current!==null?(n=lf(n,l,f),zt(n,o)||(cn=!0),n):(Ur&42)===0?(cn=!0,n.memoizedState=l):(n=vm(),at.lanes|=n,zr|=n,o)}function yh(n,o,l,f,g){var T=Me.p;Me.p=T!==0&&8>T?T:8;var w=ne.T,k={};ne.T=k,uf(n,!1,o,l);try{var q=g(),ee=ne.S;if(ee!==null&&ee(k,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var he=xx(q,f);Ha(n,o,he,Wn(n))}else Ha(n,o,f,Wn(n))}catch(xe){Ha(n,o,{then:function(){},status:"rejected",reason:xe},Wn())}finally{Me.p=T,ne.T=w}}function bx(){}function af(n,o,l,f){if(n.tag!==5)throw Error(r(476));var g=vh(n).queue;yh(n,g,o,Ve,l===null?bx:function(){return xh(n),l(f)})}function vh(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:Ve,baseState:Ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:Ve},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:l},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function xh(n){var o=vh(n).next.queue;Ha(n,o,{},Wn())}function sf(){return Tn(os)}function Th(){return jt().memoizedState}function Sh(){return jt().memoizedState}function _x(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var l=Wn();n=Ir(l);var f=Pr(o,n,l);f!==null&&(jn(f,o,l),Ua(f,o,l)),o={cache:qc()},n.payload=o;return}o=o.return}}function Ax(n,o,l){var f=Wn();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},au(n)?Eh(o,l):(l=Qt(n,o,l,f),l!==null&&(jn(l,n,f),bh(l,o,f)))}function Ch(n,o,l){var f=Wn();Ha(n,o,l,f)}function Ha(n,o,l,f){var g={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(au(n))Eh(o,g);else{var T=n.alternate;if(n.lanes===0&&(T===null||T.lanes===0)&&(T=o.lastRenderedReducer,T!==null))try{var w=o.lastRenderedState,k=T(w,l);if(g.hasEagerState=!0,g.eagerState=k,zt(k,w))return Qe(n,o,g,0),Nt===null&&Mt(),!1}catch{}finally{}if(l=Qt(n,o,g,f),l!==null)return jn(l,n,f),bh(l,o,f),!0}return!1}function uf(n,o,l,f){if(f={lane:2,revertLane:Hf(),action:f,hasEagerState:!1,eagerState:null,next:null},au(n)){if(o)throw Error(r(479))}else o=Qt(n,l,f,2),o!==null&&jn(o,n,2)}function au(n){var o=n.alternate;return n===at||o!==null&&o===at}function Eh(n,o){yl=tu=!0;var l=n.pending;l===null?o.next=o:(o.next=l.next,l.next=o),n.pending=o}function bh(n,o,l){if((l&4194048)!==0){var f=o.lanes;f&=n.pendingLanes,l|=f,o.lanes=l,Yo(n,l)}}var su={readContext:Tn,use:iu,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt},_h={readContext:Tn,use:iu,useCallback:function(n,o){return Ln().memoizedState=[n,o===void 0?null:o],n},useContext:Tn,useEffect:sh,useImperativeHandle:function(n,o,l){l=l!=null?l.concat([n]):null,lu(4194308,4,dh.bind(null,o,n),l)},useLayoutEffect:function(n,o){return lu(4194308,4,n,o)},useInsertionEffect:function(n,o){lu(4,2,n,o)},useMemo:function(n,o){var l=Ln();o=o===void 0?null:o;var f=n();if(Do){Ye(!0);try{n()}finally{Ye(!1)}}return l.memoizedState=[f,o],f},useReducer:function(n,o,l){var f=Ln();if(l!==void 0){var g=l(o);if(Do){Ye(!0);try{l(o)}finally{Ye(!1)}}}else g=o;return f.memoizedState=f.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},f.queue=n,n=n.dispatch=Ax.bind(null,at,n),[f.memoizedState,n]},useRef:function(n){var o=Ln();return n={current:n},o.memoizedState=n},useState:function(n){n=nf(n);var o=n.queue,l=Ch.bind(null,at,o);return o.dispatch=l,[n.memoizedState,l]},useDebugValue:of,useDeferredValue:function(n,o){var l=Ln();return lf(l,n,o)},useTransition:function(){var n=nf(!1);return n=yh.bind(null,at,n.queue,!0,!1),Ln().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,l){var f=at,g=Ln();if(vt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),Nt===null)throw Error(r(349));(mt&124)!==0||Yp(f,o,l)}g.memoizedState=l;var T={value:l,getSnapshot:o};return g.queue=T,sh($p.bind(null,f,T,n),[n]),f.flags|=2048,xl(9,ou(),Jp.bind(null,f,T,l,o),null),l},useId:function(){var n=Ln(),o=Nt.identifierPrefix;if(vt){var l=er,f=ji;l=(f&~(1<<32-Je(f)-1)).toString(32)+l,o=""+o+"R"+l,l=nu++,0<l&&(o+="H"+l.toString(32)),o+=""}else l=Tx++,o=""+o+"r"+l.toString(32)+"";return n.memoizedState=o},useHostTransitionStatus:sf,useFormState:ih,useActionState:ih,useOptimistic:function(n){var o=Ln();o.memoizedState=o.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=uf.bind(null,at,!0,l),l.dispatch=o,[n,o]},useMemoCache:jc,useCacheRefresh:function(){return Ln().memoizedState=_x.bind(null,at)}},Ah={readContext:Tn,use:iu,useCallback:hh,useContext:Tn,useEffect:uh,useImperativeHandle:ph,useInsertionEffect:ch,useLayoutEffect:fh,useMemo:mh,useReducer:ru,useRef:ah,useState:function(){return ru(ir)},useDebugValue:of,useDeferredValue:function(n,o){var l=jt();return gh(l,bt.memoizedState,n,o)},useTransition:function(){var n=ru(ir)[0],o=jt().memoizedState;return[typeof n=="boolean"?n:Va(n),o]},useSyncExternalStore:Kp,useId:Th,useHostTransitionStatus:sf,useFormState:rh,useActionState:rh,useOptimistic:function(n,o){var l=jt();return Zp(l,bt,n,o)},useMemoCache:jc,useCacheRefresh:Sh},wx={readContext:Tn,use:iu,useCallback:hh,useContext:Tn,useEffect:uh,useImperativeHandle:ph,useInsertionEffect:ch,useLayoutEffect:fh,useMemo:mh,useReducer:tf,useRef:ah,useState:function(){return tf(ir)},useDebugValue:of,useDeferredValue:function(n,o){var l=jt();return bt===null?lf(l,n,o):gh(l,bt.memoizedState,n,o)},useTransition:function(){var n=tf(ir)[0],o=jt().memoizedState;return[typeof n=="boolean"?n:Va(n),o]},useSyncExternalStore:Kp,useId:Th,useHostTransitionStatus:sf,useFormState:lh,useActionState:lh,useOptimistic:function(n,o){var l=jt();return bt!==null?Zp(l,bt,n,o):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:jc,useCacheRefresh:Sh},Tl=null,za=0;function uu(n){var o=za;return za+=1,Tl===null&&(Tl=[]),qp(Tl,n,o)}function Ga(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function cu(n,o){throw o.$$typeof===S?Error(r(525)):(n=Object.prototype.toString.call(o),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function wh(n){var o=n._init;return o(n._payload)}function Mh(n){function o($,H){if(n){var W=$.deletions;W===null?($.deletions=[H],$.flags|=16):W.push(H)}}function l($,H){if(!n)return null;for(;H!==null;)o($,H),H=H.sibling;return null}function f($){for(var H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function g($,H){return $=Wi($,H),$.index=0,$.sibling=null,$}function T($,H,W){return $.index=W,n?(W=$.alternate,W!==null?(W=W.index,W<H?($.flags|=67108866,H):W):($.flags|=67108866,H)):($.flags|=1048576,H)}function w($){return n&&$.alternate===null&&($.flags|=67108866),$}function k($,H,W,ve){return H===null||H.tag!==6?(H=Rc(W,$.mode,ve),H.return=$,H):(H=g(H,W),H.return=$,H)}function q($,H,W,ve){var Ge=W.type;return Ge===U?he($,H,W.props.children,ve,W.key):H!==null&&(H.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===ze&&wh(Ge)===H.type)?(H=g(H,W.props),Ga(H,W),H.return=$,H):(H=Ys(W.type,W.key,W.props,null,$.mode,ve),Ga(H,W),H.return=$,H)}function ee($,H,W,ve){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=Nc(W,$.mode,ve),H.return=$,H):(H=g(H,W.children||[]),H.return=$,H)}function he($,H,W,ve,Ge){return H===null||H.tag!==7?(H=bo(W,$.mode,ve,Ge),H.return=$,H):(H=g(H,W),H.return=$,H)}function xe($,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Rc(""+H,$.mode,W),H.return=$,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return W=Ys(H.type,H.key,H.props,null,$.mode,W),Ga(W,H),W.return=$,W;case M:return H=Nc(H,$.mode,W),H.return=$,H;case ze:var ve=H._init;return H=ve(H._payload),xe($,H,W)}if(Ee(H)||me(H))return H=bo(H,$.mode,W,null),H.return=$,H;if(typeof H.then=="function")return xe($,uu(H),W);if(H.$$typeof===te)return xe($,Qs($,H),W);cu($,H)}return null}function ie($,H,W,ve){var Ge=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Ge!==null?null:k($,H,""+W,ve);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case E:return W.key===Ge?q($,H,W,ve):null;case M:return W.key===Ge?ee($,H,W,ve):null;case ze:return Ge=W._init,W=Ge(W._payload),ie($,H,W,ve)}if(Ee(W)||me(W))return Ge!==null?null:he($,H,W,ve,null);if(typeof W.then=="function")return ie($,H,uu(W),ve);if(W.$$typeof===te)return ie($,H,Qs($,W),ve);cu($,W)}return null}function oe($,H,W,ve,Ge){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return $=$.get(W)||null,k(H,$,""+ve,Ge);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case E:return $=$.get(ve.key===null?W:ve.key)||null,q(H,$,ve,Ge);case M:return $=$.get(ve.key===null?W:ve.key)||null,ee(H,$,ve,Ge);case ze:var st=ve._init;return ve=st(ve._payload),oe($,H,W,ve,Ge)}if(Ee(ve)||me(ve))return $=$.get(W)||null,he(H,$,ve,Ge,null);if(typeof ve.then=="function")return oe($,H,W,uu(ve),Ge);if(ve.$$typeof===te)return oe($,H,W,Qs(H,ve),Ge);cu(H,ve)}return null}function je($,H,W,ve){for(var Ge=null,st=null,Ke=H,Ze=H=0,dn=null;Ke!==null&&Ze<W.length;Ze++){Ke.index>Ze?(dn=Ke,Ke=null):dn=Ke.sibling;var yt=ie($,Ke,W[Ze],ve);if(yt===null){Ke===null&&(Ke=dn);break}n&&Ke&&yt.alternate===null&&o($,Ke),H=T(yt,H,Ze),st===null?Ge=yt:st.sibling=yt,st=yt,Ke=dn}if(Ze===W.length)return l($,Ke),vt&&Ao($,Ze),Ge;if(Ke===null){for(;Ze<W.length;Ze++)Ke=xe($,W[Ze],ve),Ke!==null&&(H=T(Ke,H,Ze),st===null?Ge=Ke:st.sibling=Ke,st=Ke);return vt&&Ao($,Ze),Ge}for(Ke=f(Ke);Ze<W.length;Ze++)dn=oe(Ke,$,Ze,W[Ze],ve),dn!==null&&(n&&dn.alternate!==null&&Ke.delete(dn.key===null?Ze:dn.key),H=T(dn,H,Ze),st===null?Ge=dn:st.sibling=dn,st=dn);return n&&Ke.forEach(function(Zr){return o($,Zr)}),vt&&Ao($,Ze),Ge}function Xe($,H,W,ve){if(W==null)throw Error(r(151));for(var Ge=null,st=null,Ke=H,Ze=H=0,dn=null,yt=W.next();Ke!==null&&!yt.done;Ze++,yt=W.next()){Ke.index>Ze?(dn=Ke,Ke=null):dn=Ke.sibling;var Zr=ie($,Ke,yt.value,ve);if(Zr===null){Ke===null&&(Ke=dn);break}n&&Ke&&Zr.alternate===null&&o($,Ke),H=T(Zr,H,Ze),st===null?Ge=Zr:st.sibling=Zr,st=Zr,Ke=dn}if(yt.done)return l($,Ke),vt&&Ao($,Ze),Ge;if(Ke===null){for(;!yt.done;Ze++,yt=W.next())yt=xe($,yt.value,ve),yt!==null&&(H=T(yt,H,Ze),st===null?Ge=yt:st.sibling=yt,st=yt);return vt&&Ao($,Ze),Ge}for(Ke=f(Ke);!yt.done;Ze++,yt=W.next())yt=oe(Ke,$,Ze,yt.value,ve),yt!==null&&(n&&yt.alternate!==null&&Ke.delete(yt.key===null?Ze:yt.key),H=T(yt,H,Ze),st===null?Ge=yt:st.sibling=yt,st=yt);return n&&Ke.forEach(function(MT){return o($,MT)}),vt&&Ao($,Ze),Ge}function At($,H,W,ve){if(typeof W=="object"&&W!==null&&W.type===U&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case E:e:{for(var Ge=W.key;H!==null;){if(H.key===Ge){if(Ge=W.type,Ge===U){if(H.tag===7){l($,H.sibling),ve=g(H,W.props.children),ve.return=$,$=ve;break e}}else if(H.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===ze&&wh(Ge)===H.type){l($,H.sibling),ve=g(H,W.props),Ga(ve,W),ve.return=$,$=ve;break e}l($,H);break}else o($,H);H=H.sibling}W.type===U?(ve=bo(W.props.children,$.mode,ve,W.key),ve.return=$,$=ve):(ve=Ys(W.type,W.key,W.props,null,$.mode,ve),Ga(ve,W),ve.return=$,$=ve)}return w($);case M:e:{for(Ge=W.key;H!==null;){if(H.key===Ge)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){l($,H.sibling),ve=g(H,W.children||[]),ve.return=$,$=ve;break e}else{l($,H);break}else o($,H);H=H.sibling}ve=Nc(W,$.mode,ve),ve.return=$,$=ve}return w($);case ze:return Ge=W._init,W=Ge(W._payload),At($,H,W,ve)}if(Ee(W))return je($,H,W,ve);if(me(W)){if(Ge=me(W),typeof Ge!="function")throw Error(r(150));return W=Ge.call(W),Xe($,H,W,ve)}if(typeof W.then=="function")return At($,H,uu(W),ve);if(W.$$typeof===te)return At($,H,Qs($,W),ve);cu($,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(l($,H.sibling),ve=g(H,W),ve.return=$,$=ve):(l($,H),ve=Rc(W,$.mode,ve),ve.return=$,$=ve),w($)):l($,H)}return function($,H,W,ve){try{za=0;var Ge=At($,H,W,ve);return Tl=null,Ge}catch(Ke){if(Ke===Ia||Ke===Ws)throw Ke;var st=$n(29,Ke,null,$.mode);return st.lanes=ve,st.return=$,st}finally{}}}var Sl=Mh(!0),Rh=Mh(!1),ci=ge(null),Di=null;function Lr(n){var o=n.alternate;I(ln,ln.current&1),I(ci,n),Di===null&&(o===null||gl.current!==null||o.memoizedState!==null)&&(Di=n)}function Nh(n){if(n.tag===22){if(I(ln,ln.current),I(ci,n),Di===null){var o=n.alternate;o!==null&&o.memoizedState!==null&&(Di=n)}}else qr()}function qr(){I(ln,ln.current),I(ci,ci.current)}function rr(n){Ue(ci),Di===n&&(Di=null),Ue(ln)}var ln=ge(0);function fu(n){for(var o=n;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||jf(l)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function cf(n,o,l,f){o=n.memoizedState,l=l(f,o),l=l==null?o:v({},o,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var ff={enqueueSetState:function(n,o,l){n=n._reactInternals;var f=Wn(),g=Ir(f);g.payload=o,l!=null&&(g.callback=l),o=Pr(n,g,f),o!==null&&(jn(o,n,f),Ua(o,n,f))},enqueueReplaceState:function(n,o,l){n=n._reactInternals;var f=Wn(),g=Ir(f);g.tag=1,g.payload=o,l!=null&&(g.callback=l),o=Pr(n,g,f),o!==null&&(jn(o,n,f),Ua(o,n,f))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var l=Wn(),f=Ir(l);f.tag=2,o!=null&&(f.callback=o),o=Pr(n,f,l),o!==null&&(jn(o,n,l),Ua(o,n,l))}};function kh(n,o,l,f,g,T,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,T,w):o.prototype&&o.prototype.isPureReactComponent?!Nr(l,f)||!Nr(g,T):!0}function Dh(n,o,l,f){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,f),o.state!==n&&ff.enqueueReplaceState(o,o.state,null)}function Io(n,o){var l=o;if("ref"in o){l={};for(var f in o)f!=="ref"&&(l[f]=o[f])}if(n=n.defaultProps){l===o&&(l=v({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}var du=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Ih(n){du(n)}function Ph(n){console.error(n)}function Uh(n){du(n)}function pu(n,o){try{var l=n.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function Lh(n,o,l){try{var f=n.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function df(n,o,l){return l=Ir(l),l.tag=3,l.payload={element:null},l.callback=function(){pu(n,o)},l}function qh(n){return n=Ir(n),n.tag=3,n}function Bh(n,o,l,f){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var T=f.value;n.payload=function(){return g(T)},n.callback=function(){Lh(o,l,f)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){Lh(o,l,f),typeof g!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})})}function Mx(n,o,l,f,g){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=l.alternate,o!==null&&Na(o,l,g,!0),l=ci.current,l!==null){switch(l.tag){case 13:return Di===null?Lf():l.alternate===null&&Ft===0&&(Ft=3),l.flags&=-257,l.flags|=65536,l.lanes=g,f===Oc?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([f]):o.add(f),Bf(n,f,g)),!1;case 22:return l.flags|=65536,f===Oc?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([f]):l.add(f)),Bf(n,f,g)),!1}throw Error(r(435,l.tag))}return Bf(n,f,g),Lf(),!1}if(vt)return o=ci.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,f!==Ic&&(n=Error(r(422),{cause:f}),Ra(De(n,l)))):(f!==Ic&&(o=Error(r(423),{cause:f}),Ra(De(o,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,f=De(f,l),g=df(n.stateNode,f,g),Gc(n,g),Ft!==4&&(Ft=2)),!1;var T=Error(r(520),{cause:f});if(T=De(T,l),Qa===null?Qa=[T]:Qa.push(T),Ft!==4&&(Ft=2),o===null)return!0;f=De(f,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=df(l.stateNode,f,n),Gc(l,n),!1;case 1:if(o=l.type,T=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Gr===null||!Gr.has(T))))return l.flags|=65536,g&=-g,l.lanes|=g,g=qh(g),Bh(g,n,l,f),Gc(l,g),!1}l=l.return}while(l!==null);return!1}var Vh=Error(r(461)),cn=!1;function mn(n,o,l,f){o.child=n===null?Rh(o,null,l,f):Sl(o,n.child,l,f)}function Oh(n,o,l,f,g){l=l.render;var T=o.ref;if("ref"in f){var w={};for(var k in f)k!=="ref"&&(w[k]=f[k])}else w=f;return No(o),f=$c(n,o,l,w,T,g),k=Xc(),n!==null&&!cn?(Qc(n,o,g),or(n,o,g)):(vt&&k&&kc(o),o.flags|=1,mn(n,o,f,g),o.child)}function Hh(n,o,l,f,g){if(n===null){var T=l.type;return typeof T=="function"&&!Mc(T)&&T.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=T,zh(n,o,T,f,g)):(n=Ys(l.type,null,f,o,o.mode,g),n.ref=o.ref,n.return=o,o.child=n)}if(T=n.child,!Tf(n,g)){var w=T.memoizedProps;if(l=l.compare,l=l!==null?l:Nr,l(w,f)&&n.ref===o.ref)return or(n,o,g)}return o.flags|=1,n=Wi(T,f),n.ref=o.ref,n.return=o,o.child=n}function zh(n,o,l,f,g){if(n!==null){var T=n.memoizedProps;if(Nr(T,f)&&n.ref===o.ref)if(cn=!1,o.pendingProps=f=T,Tf(n,g))(n.flags&131072)!==0&&(cn=!0);else return o.lanes=n.lanes,or(n,o,g)}return pf(n,o,l,f,g)}function Gh(n,o,l){var f=o.pendingProps,g=f.children,T=n!==null?n.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=T!==null?T.baseLanes|l:l,n!==null){for(g=o.child=n.child,T=0;g!==null;)T=T|g.lanes|g.childLanes,g=g.sibling;o.childLanes=T&~f}else o.childLanes=0,o.child=null;return Fh(n,o,f,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&Zs(o,T!==null?T.cachePool:null),T!==null?zp(o,T):Kc(),Nh(o);else return o.lanes=o.childLanes=536870912,Fh(n,o,T!==null?T.baseLanes|l:l,l)}else T!==null?(Zs(o,T.cachePool),zp(o,T),qr(),o.memoizedState=null):(n!==null&&Zs(o,null),Kc(),qr());return mn(n,o,g,l),o.child}function Fh(n,o,l,f){var g=Vc();return g=g===null?null:{parent:on._currentValue,pool:g},o.memoizedState={baseLanes:l,cachePool:g},n!==null&&Zs(o,null),Kc(),Nh(o),n!==null&&Na(n,o,f,!0),null}function hu(n,o){var l=o.ref;if(l===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(n===null||n.ref!==l)&&(o.flags|=4194816)}}function pf(n,o,l,f,g){return No(o),l=$c(n,o,l,f,void 0,g),f=Xc(),n!==null&&!cn?(Qc(n,o,g),or(n,o,g)):(vt&&f&&kc(o),o.flags|=1,mn(n,o,l,g),o.child)}function Kh(n,o,l,f,g,T){return No(o),o.updateQueue=null,l=Fp(o,f,l,g),Gp(n),f=Xc(),n!==null&&!cn?(Qc(n,o,T),or(n,o,T)):(vt&&f&&kc(o),o.flags|=1,mn(n,o,l,T),o.child)}function Yh(n,o,l,f,g){if(No(o),o.stateNode===null){var T=Un,w=l.contextType;typeof w=="object"&&w!==null&&(T=Tn(w)),T=new l(f,T),o.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=ff,o.stateNode=T,T._reactInternals=o,T=o.stateNode,T.props=f,T.state=o.memoizedState,T.refs={},Hc(o),w=l.contextType,T.context=typeof w=="object"&&w!==null?Tn(w):Un,T.state=o.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(cf(o,l,w,f),T.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(w=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),w!==T.state&&ff.enqueueReplaceState(T,T.state,null),qa(o,f,T,g),La(),T.state=o.memoizedState),typeof T.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(n===null){T=o.stateNode;var k=o.memoizedProps,q=Io(l,k);T.props=q;var ee=T.context,he=l.contextType;w=Un,typeof he=="object"&&he!==null&&(w=Tn(he));var xe=l.getDerivedStateFromProps;he=typeof xe=="function"||typeof T.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,he||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k||ee!==w)&&Dh(o,T,f,w),Dr=!1;var ie=o.memoizedState;T.state=ie,qa(o,f,T,g),La(),ee=o.memoizedState,k||ie!==ee||Dr?(typeof xe=="function"&&(cf(o,l,xe,f),ee=o.memoizedState),(q=Dr||kh(o,l,q,f,ie,ee,w))?(he||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=ee),T.props=f,T.state=ee,T.context=w,f=q):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{T=o.stateNode,zc(n,o),w=o.memoizedProps,he=Io(l,w),T.props=he,xe=o.pendingProps,ie=T.context,ee=l.contextType,q=Un,typeof ee=="object"&&ee!==null&&(q=Tn(ee)),k=l.getDerivedStateFromProps,(ee=typeof k=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(w!==xe||ie!==q)&&Dh(o,T,f,q),Dr=!1,ie=o.memoizedState,T.state=ie,qa(o,f,T,g),La();var oe=o.memoizedState;w!==xe||ie!==oe||Dr||n!==null&&n.dependencies!==null&&Xs(n.dependencies)?(typeof k=="function"&&(cf(o,l,k,f),oe=o.memoizedState),(he=Dr||kh(o,l,he,f,ie,oe,q)||n!==null&&n.dependencies!==null&&Xs(n.dependencies))?(ee||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,oe,q),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,oe,q)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||w===n.memoizedProps&&ie===n.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&ie===n.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=oe),T.props=f,T.state=oe,T.context=q,f=he):(typeof T.componentDidUpdate!="function"||w===n.memoizedProps&&ie===n.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&ie===n.memoizedState||(o.flags|=1024),f=!1)}return T=f,hu(n,o),f=(o.flags&128)!==0,T||f?(T=o.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:T.render(),o.flags|=1,n!==null&&f?(o.child=Sl(o,n.child,null,g),o.child=Sl(o,null,l,g)):mn(n,o,l,g),o.memoizedState=T.state,n=o.child):n=or(n,o,g),n}function Jh(n,o,l,f){return Ma(),o.flags|=256,mn(n,o,l,f),o.child}var hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mf(n){return{baseLanes:n,cachePool:Pp()}}function gf(n,o,l){return n=n!==null?n.childLanes&~l:0,o&&(n|=fi),n}function $h(n,o,l){var f=o.pendingProps,g=!1,T=(o.flags&128)!==0,w;if((w=T)||(w=n!==null&&n.memoizedState===null?!1:(ln.current&2)!==0),w&&(g=!0,o.flags&=-129),w=(o.flags&32)!==0,o.flags&=-33,n===null){if(vt){if(g?Lr(o):qr(),vt){var k=Gt,q;if(q=k){e:{for(q=k,k=ki;q.nodeType!==8;){if(!k){k=null;break e}if(q=Si(q.nextSibling),q===null){k=null;break e}}k=q}k!==null?(o.memoizedState={dehydrated:k,treeContext:_o!==null?{id:ji,overflow:er}:null,retryLane:536870912,hydrationErrors:null},q=$n(18,null,null,0),q.stateNode=k,q.return=o,o.child=q,Nn=o,Gt=null,q=!0):q=!1}q||Mo(o)}if(k=o.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return jf(k)?o.lanes=32:o.lanes=536870912,null;rr(o)}return k=f.children,f=f.fallback,g?(qr(),g=o.mode,k=mu({mode:"hidden",children:k},g),f=bo(f,g,l,null),k.return=o,f.return=o,k.sibling=f,o.child=k,g=o.child,g.memoizedState=mf(l),g.childLanes=gf(n,w,l),o.memoizedState=hf,f):(Lr(o),yf(o,k))}if(q=n.memoizedState,q!==null&&(k=q.dehydrated,k!==null)){if(T)o.flags&256?(Lr(o),o.flags&=-257,o=vf(n,o,l)):o.memoizedState!==null?(qr(),o.child=n.child,o.flags|=128,o=null):(qr(),g=f.fallback,k=o.mode,f=mu({mode:"visible",children:f.children},k),g=bo(g,k,l,null),g.flags|=2,f.return=o,g.return=o,f.sibling=g,o.child=f,Sl(o,n.child,null,l),f=o.child,f.memoizedState=mf(l),f.childLanes=gf(n,w,l),o.memoizedState=hf,o=g);else if(Lr(o),jf(k)){if(w=k.nextSibling&&k.nextSibling.dataset,w)var ee=w.dgst;w=ee,f=Error(r(419)),f.stack="",f.digest=w,Ra({value:f,source:null,stack:null}),o=vf(n,o,l)}else if(cn||Na(n,o,l,!1),w=(l&n.childLanes)!==0,cn||w){if(w=Nt,w!==null&&(f=l&-l,f=(f&42)!==0?1:na(f),f=(f&(w.suspendedLanes|l))!==0?0:f,f!==0&&f!==q.retryLane))throw q.retryLane=f,Vt(n,f),jn(w,n,f),Vh;k.data==="$?"||Lf(),o=vf(n,o,l)}else k.data==="$?"?(o.flags|=192,o.child=n.child,o=null):(n=q.treeContext,Gt=Si(k.nextSibling),Nn=o,vt=!0,wo=null,ki=!1,n!==null&&(si[ui++]=ji,si[ui++]=er,si[ui++]=_o,ji=n.id,er=n.overflow,_o=o),o=yf(o,f.children),o.flags|=4096);return o}return g?(qr(),g=f.fallback,k=o.mode,q=n.child,ee=q.sibling,f=Wi(q,{mode:"hidden",children:f.children}),f.subtreeFlags=q.subtreeFlags&65011712,ee!==null?g=Wi(ee,g):(g=bo(g,k,l,null),g.flags|=2),g.return=o,f.return=o,f.sibling=g,o.child=f,f=g,g=o.child,k=n.child.memoizedState,k===null?k=mf(l):(q=k.cachePool,q!==null?(ee=on._currentValue,q=q.parent!==ee?{parent:ee,pool:ee}:q):q=Pp(),k={baseLanes:k.baseLanes|l,cachePool:q}),g.memoizedState=k,g.childLanes=gf(n,w,l),o.memoizedState=hf,f):(Lr(o),l=n.child,n=l.sibling,l=Wi(l,{mode:"visible",children:f.children}),l.return=o,l.sibling=null,n!==null&&(w=o.deletions,w===null?(o.deletions=[n],o.flags|=16):w.push(n)),o.child=l,o.memoizedState=null,l)}function yf(n,o){return o=mu({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function mu(n,o){return n=$n(22,n,null,o),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function vf(n,o,l){return Sl(o,n.child,null,l),n=yf(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function Xh(n,o,l){n.lanes|=o;var f=n.alternate;f!==null&&(f.lanes|=o),Uc(n.return,o,l)}function xf(n,o,l,f,g){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=f,T.tail=l,T.tailMode=g)}function Qh(n,o,l){var f=o.pendingProps,g=f.revealOrder,T=f.tail;if(mn(n,o,f.children,l),f=ln.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Xh(n,l,o);else if(n.tag===19)Xh(n,l,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}switch(I(ln,f),g){case"forwards":for(l=o.child,g=null;l!==null;)n=l.alternate,n!==null&&fu(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=o.child,o.child=null):(g=l.sibling,l.sibling=null),xf(o,!1,g,l,T);break;case"backwards":for(l=null,g=o.child,o.child=null;g!==null;){if(n=g.alternate,n!==null&&fu(n)===null){o.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}xf(o,!0,l,null,T);break;case"together":xf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function or(n,o,l){if(n!==null&&(o.dependencies=n.dependencies),zr|=o.lanes,(l&o.childLanes)===0)if(n!==null){if(Na(n,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(r(153));if(o.child!==null){for(n=o.child,l=Wi(n,n.pendingProps),o.child=l,l.return=o;n.sibling!==null;)n=n.sibling,l=l.sibling=Wi(n,n.pendingProps),l.return=o;l.sibling=null}return o.child}function Tf(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&Xs(n)))}function Rx(n,o,l){switch(o.tag){case 3:dt(o,o.stateNode.containerInfo),kr(o,on,n.memoizedState.cache),Ma();break;case 27:case 5:zn(o);break;case 4:dt(o,o.stateNode.containerInfo);break;case 10:kr(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Lr(o),o.flags|=128,null):(l&o.child.childLanes)!==0?$h(n,o,l):(Lr(o),n=or(n,o,l),n!==null?n.sibling:null);Lr(o);break;case 19:var g=(n.flags&128)!==0;if(f=(l&o.childLanes)!==0,f||(Na(n,o,l,!1),f=(l&o.childLanes)!==0),g){if(f)return Qh(n,o,l);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),I(ln,ln.current),f)break;return null;case 22:case 23:return o.lanes=0,Gh(n,o,l);case 24:kr(o,on,n.memoizedState.cache)}return or(n,o,l)}function Zh(n,o,l){if(n!==null)if(n.memoizedProps!==o.pendingProps)cn=!0;else{if(!Tf(n,l)&&(o.flags&128)===0)return cn=!1,Rx(n,o,l);cn=(n.flags&131072)!==0}else cn=!1,vt&&(o.flags&1048576)!==0&&wp(o,$s,o.index);switch(o.lanes=0,o.tag){case 16:e:{n=o.pendingProps;var f=o.elementType,g=f._init;if(f=g(f._payload),o.type=f,typeof f=="function")Mc(f)?(n=Io(f,n),o.tag=1,o=Yh(null,o,f,n,l)):(o.tag=0,o=pf(null,o,f,n,l));else{if(f!=null){if(g=f.$$typeof,g===Te){o.tag=11,o=Oh(null,o,f,n,l);break e}else if(g===Se){o.tag=14,o=Hh(null,o,f,n,l);break e}}throw o=pe(f)||f,Error(r(306,o,""))}}return o;case 0:return pf(n,o,o.type,o.pendingProps,l);case 1:return f=o.type,g=Io(f,o.pendingProps),Yh(n,o,f,g,l);case 3:e:{if(dt(o,o.stateNode.containerInfo),n===null)throw Error(r(387));f=o.pendingProps;var T=o.memoizedState;g=T.element,zc(n,o),qa(o,f,null,l);var w=o.memoizedState;if(f=w.cache,kr(o,on,f),f!==T.cache&&Lc(o,[on],l,!0),La(),f=w.element,T.isDehydrated)if(T={element:f,isDehydrated:!1,cache:w.cache},o.updateQueue.baseState=T,o.memoizedState=T,o.flags&256){o=Jh(n,o,f,l);break e}else if(f!==g){g=De(Error(r(424)),o),Ra(g),o=Jh(n,o,f,l);break e}else{switch(n=o.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Gt=Si(n.firstChild),Nn=o,vt=!0,wo=null,ki=!0,l=Rh(o,null,f,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ma(),f===g){o=or(n,o,l);break e}mn(n,o,f,l)}o=o.child}return o;case 26:return hu(n,o),n===null?(l=tg(o.type,null,o.pendingProps,null))?o.memoizedState=l:vt||(l=o.type,n=o.pendingProps,f=Ru(Oe.current).createElement(l),f[Kt]=o,f[lt]=n,yn(f,l,n),wt(f),o.stateNode=f):o.memoizedState=tg(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return zn(o),n===null&&vt&&(f=o.stateNode=Wm(o.type,o.pendingProps,Oe.current),Nn=o,ki=!0,g=Gt,Yr(o.type)?(ed=g,Gt=Si(f.firstChild)):Gt=g),mn(n,o,o.pendingProps.children,l),hu(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&vt&&((g=f=Gt)&&(f=iT(f,o.type,o.pendingProps,ki),f!==null?(o.stateNode=f,Nn=o,Gt=Si(f.firstChild),ki=!1,g=!0):g=!1),g||Mo(o)),zn(o),g=o.type,T=o.pendingProps,w=n!==null?n.memoizedProps:null,f=T.children,Qf(g,T)?f=null:w!==null&&Qf(g,w)&&(o.flags|=32),o.memoizedState!==null&&(g=$c(n,o,Sx,null,null,l),os._currentValue=g),hu(n,o),mn(n,o,f,l),o.child;case 6:return n===null&&vt&&((n=l=Gt)&&(l=rT(l,o.pendingProps,ki),l!==null?(o.stateNode=l,Nn=o,Gt=null,n=!0):n=!1),n||Mo(o)),null;case 13:return $h(n,o,l);case 4:return dt(o,o.stateNode.containerInfo),f=o.pendingProps,n===null?o.child=Sl(o,null,f,l):mn(n,o,f,l),o.child;case 11:return Oh(n,o,o.type,o.pendingProps,l);case 7:return mn(n,o,o.pendingProps,l),o.child;case 8:return mn(n,o,o.pendingProps.children,l),o.child;case 12:return mn(n,o,o.pendingProps.children,l),o.child;case 10:return f=o.pendingProps,kr(o,o.type,f.value),mn(n,o,f.children,l),o.child;case 9:return g=o.type._context,f=o.pendingProps.children,No(o),g=Tn(g),f=f(g),o.flags|=1,mn(n,o,f,l),o.child;case 14:return Hh(n,o,o.type,o.pendingProps,l);case 15:return zh(n,o,o.type,o.pendingProps,l);case 19:return Qh(n,o,l);case 31:return f=o.pendingProps,l=o.mode,f={mode:f.mode,children:f.children},n===null?(l=mu(f,l),l.ref=o.ref,o.child=l,l.return=o,o=l):(l=Wi(n.child,f),l.ref=o.ref,o.child=l,l.return=o,o=l),o;case 22:return Gh(n,o,l);case 24:return No(o),f=Tn(on),n===null?(g=Vc(),g===null&&(g=Nt,T=qc(),g.pooledCache=T,T.refCount++,T!==null&&(g.pooledCacheLanes|=l),g=T),o.memoizedState={parent:f,cache:g},Hc(o),kr(o,on,g)):((n.lanes&l)!==0&&(zc(n,o),qa(o,null,null,l),La()),g=n.memoizedState,T=o.memoizedState,g.parent!==f?(g={parent:f,cache:f},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),kr(o,on,f)):(f=T.cache,kr(o,on,f),f!==g.cache&&Lc(o,[on],l,!0))),mn(n,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function lr(n){n.flags|=4}function Wh(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!lg(o)){if(o=ci.current,o!==null&&((mt&4194048)===mt?Di!==null:(mt&62914560)!==mt&&(mt&536870912)===0||o!==Di))throw Pa=Oc,Up;n.flags|=8192}}function gu(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?qe():536870912,n.lanes|=o,_l|=o)}function Fa(n,o){if(!vt)switch(n.tailMode){case"hidden":o=n.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function Ot(n){var o=n.alternate!==null&&n.alternate.child===n.child,l=0,f=0;if(o)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=f,n.childLanes=l,o}function Nx(n,o,l){var f=o.pendingProps;switch(Dc(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(o),null;case 1:return Ot(o),null;case 3:return l=o.stateNode,f=null,n!==null&&(f=n.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),nr(on),Be(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(wa(o)?lr(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Np())),Ot(o),null;case 26:return l=o.memoizedState,n===null?(lr(o),l!==null?(Ot(o),Wh(o,l)):(Ot(o),o.flags&=-16777217)):l?l!==n.memoizedState?(lr(o),Ot(o),Wh(o,l)):(Ot(o),o.flags&=-16777217):(n.memoizedProps!==f&&lr(o),Ot(o),o.flags&=-16777217),null;case 27:Dn(o),l=Oe.current;var g=o.type;if(n!==null&&o.stateNode!=null)n.memoizedProps!==f&&lr(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return Ot(o),null}n=He.current,wa(o)?Mp(o):(n=Wm(g,f,l),o.stateNode=n,lr(o))}return Ot(o),null;case 5:if(Dn(o),l=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==f&&lr(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return Ot(o),null}if(n=He.current,wa(o))Mp(o);else{switch(g=Ru(Oe.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?n.multiple=!0:f.size&&(n.size=f.size);break;default:n=typeof f.is=="string"?g.createElement(l,{is:f.is}):g.createElement(l)}}n[Kt]=o,n[lt]=f;e:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break e;for(;g.sibling===null;){if(g.return===null||g.return===o)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=n;e:switch(yn(n,l,f),l){case"button":case"input":case"select":case"textarea":n=!!f.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&lr(o)}}return Ot(o),o.flags&=-16777217,null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==f&&lr(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(r(166));if(n=Oe.current,wa(o)){if(n=o.stateNode,l=o.memoizedProps,f=null,g=Nn,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}n[Kt]=o,n=!!(n.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||Km(n.nodeValue,l)),n||Mo(o)}else n=Ru(n).createTextNode(f),n[Kt]=o,o.stateNode=n}return Ot(o),null;case 13:if(f=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=wa(o),f!==null&&f.dehydrated!==null){if(n===null){if(!g)throw Error(r(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Kt]=o}else Ma(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ot(o),g=!1}else g=Np(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(rr(o),o):(rr(o),null)}if(rr(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=f!==null,n=n!==null&&n.memoizedState!==null,l){f=o.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var T=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(T=f.memoizedState.cachePool.pool),T!==g&&(f.flags|=2048)}return l!==n&&l&&(o.child.flags|=8192),gu(o,o.updateQueue),Ot(o),null;case 4:return Be(),n===null&&Kf(o.stateNode.containerInfo),Ot(o),null;case 10:return nr(o.type),Ot(o),null;case 19:if(Ue(ln),g=o.memoizedState,g===null)return Ot(o),null;if(f=(o.flags&128)!==0,T=g.rendering,T===null)if(f)Fa(g,!1);else{if(Ft!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(T=fu(n),T!==null){for(o.flags|=128,Fa(g,!1),n=T.updateQueue,o.updateQueue=n,gu(o,n),o.subtreeFlags=0,n=l,l=o.child;l!==null;)Ap(l,n),l=l.sibling;return I(ln,ln.current&1|2),o.child}n=n.sibling}g.tail!==null&&_n()>xu&&(o.flags|=128,f=!0,Fa(g,!1),o.lanes=4194304)}else{if(!f)if(n=fu(T),n!==null){if(o.flags|=128,f=!0,n=n.updateQueue,o.updateQueue=n,gu(o,n),Fa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!T.alternate&&!vt)return Ot(o),null}else 2*_n()-g.renderingStartTime>xu&&l!==536870912&&(o.flags|=128,f=!0,Fa(g,!1),o.lanes=4194304);g.isBackwards?(T.sibling=o.child,o.child=T):(n=g.last,n!==null?n.sibling=T:o.child=T,g.last=T)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=_n(),o.sibling=null,n=ln.current,I(ln,f?n&1|2:n&1),o):(Ot(o),null);case 22:case 23:return rr(o),Yc(),f=o.memoizedState!==null,n!==null?n.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(l&536870912)!==0&&(o.flags&128)===0&&(Ot(o),o.subtreeFlags&6&&(o.flags|=8192)):Ot(o),l=o.updateQueue,l!==null&&gu(o,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==l&&(o.flags|=2048),n!==null&&Ue(ko),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),nr(on),Ot(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function kx(n,o){switch(Dc(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return nr(on),Be(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return Dn(o),null;case 13:if(rr(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ma()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return Ue(ln),null;case 4:return Be(),null;case 10:return nr(o.type),null;case 22:case 23:return rr(o),Yc(),n!==null&&Ue(ko),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return nr(on),null;case 25:return null;default:return null}}function jh(n,o){switch(Dc(o),o.tag){case 3:nr(on),Be();break;case 26:case 27:case 5:Dn(o);break;case 4:Be();break;case 13:rr(o);break;case 19:Ue(ln);break;case 10:nr(o.type);break;case 22:case 23:rr(o),Yc(),n!==null&&Ue(ko);break;case 24:nr(on)}}function Ka(n,o){try{var l=o.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&n)===n){f=void 0;var T=l.create,w=l.inst;f=T(),w.destroy=f}l=l.next}while(l!==g)}}catch(k){Rt(o,o.return,k)}}function Br(n,o,l){try{var f=o.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var T=g.next;f=T;do{if((f.tag&n)===n){var w=f.inst,k=w.destroy;if(k!==void 0){w.destroy=void 0,g=o;var q=l,ee=k;try{ee()}catch(he){Rt(g,q,he)}}}f=f.next}while(f!==T)}}catch(he){Rt(o,o.return,he)}}function em(n){var o=n.updateQueue;if(o!==null){var l=n.stateNode;try{Hp(o,l)}catch(f){Rt(n,n.return,f)}}}function tm(n,o,l){l.props=Io(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(f){Rt(n,o,f)}}function Ya(n,o){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var f=n.stateNode;break;case 30:f=n.stateNode;break;default:f=n.stateNode}typeof l=="function"?n.refCleanup=l(f):l.current=f}}catch(g){Rt(n,o,g)}}function Ii(n,o){var l=n.ref,f=n.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(g){Rt(n,o,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Rt(n,o,g)}else l.current=null}function nm(n){var o=n.type,l=n.memoizedProps,f=n.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(g){Rt(n,n.return,g)}}function Sf(n,o,l){try{var f=n.stateNode;Wx(f,n.type,l,o),f[lt]=o}catch(g){Rt(n,n.return,g)}}function im(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Yr(n.type)||n.tag===4}function Cf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||im(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Yr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ef(n,o,l){var f=n.tag;if(f===5||f===6)n=n.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(n),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Mu));else if(f!==4&&(f===27&&Yr(n.type)&&(l=n.stateNode,o=null),n=n.child,n!==null))for(Ef(n,o,l),n=n.sibling;n!==null;)Ef(n,o,l),n=n.sibling}function yu(n,o,l){var f=n.tag;if(f===5||f===6)n=n.stateNode,o?l.insertBefore(n,o):l.appendChild(n);else if(f!==4&&(f===27&&Yr(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(yu(n,o,l),n=n.sibling;n!==null;)yu(n,o,l),n=n.sibling}function rm(n){var o=n.stateNode,l=n.memoizedProps;try{for(var f=n.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);yn(o,f,l),o[Kt]=n,o[lt]=l}catch(T){Rt(n,n.return,T)}}var ar=!1,$t=!1,bf=!1,om=typeof WeakSet=="function"?WeakSet:Set,fn=null;function Dx(n,o){if(n=n.containerInfo,$f=Uu,n=b(n),A(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,T=f.focusNode;f=f.focusOffset;try{l.nodeType,T.nodeType}catch{l=null;break e}var w=0,k=-1,q=-1,ee=0,he=0,xe=n,ie=null;t:for(;;){for(var oe;xe!==l||g!==0&&xe.nodeType!==3||(k=w+g),xe!==T||f!==0&&xe.nodeType!==3||(q=w+f),xe.nodeType===3&&(w+=xe.nodeValue.length),(oe=xe.firstChild)!==null;)ie=xe,xe=oe;for(;;){if(xe===n)break t;if(ie===l&&++ee===g&&(k=w),ie===T&&++he===f&&(q=w),(oe=xe.nextSibling)!==null)break;xe=ie,ie=xe.parentNode}xe=oe}l=k===-1||q===-1?null:{start:k,end:q}}else l=null}l=l||{start:0,end:0}}else l=null;for(Xf={focusedElem:n,selectionRange:l},Uu=!1,fn=o;fn!==null;)if(o=fn,n=o.child,(o.subtreeFlags&1024)!==0&&n!==null)n.return=o,fn=n;else for(;fn!==null;){switch(o=fn,T=o.alternate,n=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&T!==null){n=void 0,l=o,g=T.memoizedProps,T=T.memoizedState,f=l.stateNode;try{var je=Io(l.type,g,l.elementType===l.type);n=f.getSnapshotBeforeUpdate(je,T),f.__reactInternalSnapshotBeforeUpdate=n}catch(Xe){Rt(l,l.return,Xe)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,l=n.nodeType,l===9)Wf(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Wf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=o.sibling,n!==null){n.return=o.return,fn=n;break}fn=o.return}}function lm(n,o,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Vr(n,l),f&4&&Ka(5,l);break;case 1:if(Vr(n,l),f&4)if(n=l.stateNode,o===null)try{n.componentDidMount()}catch(w){Rt(l,l.return,w)}else{var g=Io(l.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(g,o,n.__reactInternalSnapshotBeforeUpdate)}catch(w){Rt(l,l.return,w)}}f&64&&em(l),f&512&&Ya(l,l.return);break;case 3:if(Vr(n,l),f&64&&(n=l.updateQueue,n!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{Hp(n,o)}catch(w){Rt(l,l.return,w)}}break;case 27:o===null&&f&4&&rm(l);case 26:case 5:Vr(n,l),o===null&&f&4&&nm(l),f&512&&Ya(l,l.return);break;case 12:Vr(n,l);break;case 13:Vr(n,l),f&4&&um(n,l),f&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=Hx.bind(null,l),oT(n,l))));break;case 22:if(f=l.memoizedState!==null||ar,!f){o=o!==null&&o.memoizedState!==null||$t,g=ar;var T=$t;ar=f,($t=o)&&!T?Or(n,l,(l.subtreeFlags&8772)!==0):Vr(n,l),ar=g,$t=T}break;case 30:break;default:Vr(n,l)}}function am(n){var o=n.alternate;o!==null&&(n.alternate=null,am(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&ri(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Lt=null,qn=!1;function sr(n,o,l){for(l=l.child;l!==null;)sm(n,o,l),l=l.sibling}function sm(n,o,l){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(fe,l)}catch{}switch(l.tag){case 26:$t||Ii(l,o),sr(n,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:$t||Ii(l,o);var f=Lt,g=qn;Yr(l.type)&&(Lt=l.stateNode,qn=!1),sr(n,o,l),ts(l.stateNode),Lt=f,qn=g;break;case 5:$t||Ii(l,o);case 6:if(f=Lt,g=qn,Lt=null,sr(n,o,l),Lt=f,qn=g,Lt!==null)if(qn)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(l.stateNode)}catch(T){Rt(l,o,T)}else try{Lt.removeChild(l.stateNode)}catch(T){Rt(l,o,T)}break;case 18:Lt!==null&&(qn?(n=Lt,Qm(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),us(n)):Qm(Lt,l.stateNode));break;case 4:f=Lt,g=qn,Lt=l.stateNode.containerInfo,qn=!0,sr(n,o,l),Lt=f,qn=g;break;case 0:case 11:case 14:case 15:$t||Br(2,l,o),$t||Br(4,l,o),sr(n,o,l);break;case 1:$t||(Ii(l,o),f=l.stateNode,typeof f.componentWillUnmount=="function"&&tm(l,o,f)),sr(n,o,l);break;case 21:sr(n,o,l);break;case 22:$t=(f=$t)||l.memoizedState!==null,sr(n,o,l),$t=f;break;default:sr(n,o,l)}}function um(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{us(n)}catch(l){Rt(o,o.return,l)}}function Ix(n){switch(n.tag){case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new om),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new om),o;default:throw Error(r(435,n.tag))}}function _f(n,o){var l=Ix(n);o.forEach(function(f){var g=zx.bind(null,n,f);l.has(f)||(l.add(f),f.then(g,g))})}function Xn(n,o){var l=o.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f],T=n,w=o,k=w;e:for(;k!==null;){switch(k.tag){case 27:if(Yr(k.type)){Lt=k.stateNode,qn=!1;break e}break;case 5:Lt=k.stateNode,qn=!1;break e;case 3:case 4:Lt=k.stateNode.containerInfo,qn=!0;break e}k=k.return}if(Lt===null)throw Error(r(160));sm(T,w,g),Lt=null,qn=!1,T=g.alternate,T!==null&&(T.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)cm(o,n),o=o.sibling}var Ti=null;function cm(n,o){var l=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Xn(o,n),Qn(n),f&4&&(Br(3,n,n.return),Ka(3,n),Br(5,n,n.return));break;case 1:Xn(o,n),Qn(n),f&512&&($t||l===null||Ii(l,l.return)),f&64&&ar&&(n=n.updateQueue,n!==null&&(f=n.callbacks,f!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var g=Ti;if(Xn(o,n),Qn(n),f&512&&($t||l===null||Ii(l,l.return)),f&4){var T=l!==null?l.memoizedState:null;if(f=n.memoizedState,l===null)if(f===null)if(n.stateNode===null){e:{f=n.type,l=n.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":T=g.getElementsByTagName("title")[0],(!T||T[so]||T[Kt]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=g.createElement(f),g.head.insertBefore(T,g.querySelector("head > title"))),yn(T,f,l),T[Kt]=n,wt(T),f=T;break e;case"link":var w=rg("link","href",g).get(f+(l.href||""));if(w){for(var k=0;k<w.length;k++)if(T=w[k],T.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&T.getAttribute("rel")===(l.rel==null?null:l.rel)&&T.getAttribute("title")===(l.title==null?null:l.title)&&T.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(k,1);break t}}T=g.createElement(f),yn(T,f,l),g.head.appendChild(T);break;case"meta":if(w=rg("meta","content",g).get(f+(l.content||""))){for(k=0;k<w.length;k++)if(T=w[k],T.getAttribute("content")===(l.content==null?null:""+l.content)&&T.getAttribute("name")===(l.name==null?null:l.name)&&T.getAttribute("property")===(l.property==null?null:l.property)&&T.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&T.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(k,1);break t}}T=g.createElement(f),yn(T,f,l),g.head.appendChild(T);break;default:throw Error(r(468,f))}T[Kt]=n,wt(T),f=T}n.stateNode=f}else og(g,n.type,n.stateNode);else n.stateNode=ig(g,f,n.memoizedProps);else T!==f?(T===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):T.count--,f===null?og(g,n.type,n.stateNode):ig(g,f,n.memoizedProps)):f===null&&n.stateNode!==null&&Sf(n,n.memoizedProps,l.memoizedProps)}break;case 27:Xn(o,n),Qn(n),f&512&&($t||l===null||Ii(l,l.return)),l!==null&&f&4&&Sf(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Xn(o,n),Qn(n),f&512&&($t||l===null||Ii(l,l.return)),n.flags&32){g=n.stateNode;try{Ki(g,"")}catch(oe){Rt(n,n.return,oe)}}f&4&&n.stateNode!=null&&(g=n.memoizedProps,Sf(n,g,l!==null?l.memoizedProps:g)),f&1024&&(bf=!0);break;case 6:if(Xn(o,n),Qn(n),f&4){if(n.stateNode===null)throw Error(r(162));f=n.memoizedProps,l=n.stateNode;try{l.nodeValue=f}catch(oe){Rt(n,n.return,oe)}}break;case 3:if(Du=null,g=Ti,Ti=Nu(o.containerInfo),Xn(o,n),Ti=g,Qn(n),f&4&&l!==null&&l.memoizedState.isDehydrated)try{us(o.containerInfo)}catch(oe){Rt(n,n.return,oe)}bf&&(bf=!1,fm(n));break;case 4:f=Ti,Ti=Nu(n.stateNode.containerInfo),Xn(o,n),Qn(n),Ti=f;break;case 12:Xn(o,n),Qn(n);break;case 13:Xn(o,n),Qn(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(kf=_n()),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,_f(n,f)));break;case 22:g=n.memoizedState!==null;var q=l!==null&&l.memoizedState!==null,ee=ar,he=$t;if(ar=ee||g,$t=he||q,Xn(o,n),$t=he,ar=ee,Qn(n),f&8192)e:for(o=n.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(l===null||q||ar||$t||Po(n)),l=null,o=n;;){if(o.tag===5||o.tag===26){if(l===null){q=l=o;try{if(T=q.stateNode,g)w=T.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{k=q.stateNode;var xe=q.memoizedProps.style,ie=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;k.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(oe){Rt(q,q.return,oe)}}}else if(o.tag===6){if(l===null){q=o;try{q.stateNode.nodeValue=g?"":q.memoizedProps}catch(oe){Rt(q,q.return,oe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=n.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,_f(n,l))));break;case 19:Xn(o,n),Qn(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,_f(n,f)));break;case 30:break;case 21:break;default:Xn(o,n),Qn(n)}}function Qn(n){var o=n.flags;if(o&2){try{for(var l,f=n.return;f!==null;){if(im(f)){l=f;break}f=f.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,T=Cf(n);yu(n,T,g);break;case 5:var w=l.stateNode;l.flags&32&&(Ki(w,""),l.flags&=-33);var k=Cf(n);yu(n,k,w);break;case 3:case 4:var q=l.stateNode.containerInfo,ee=Cf(n);Ef(n,ee,q);break;default:throw Error(r(161))}}catch(he){Rt(n,n.return,he)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function fm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;fm(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function Vr(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)lm(n,o.alternate,o),o=o.sibling}function Po(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:Br(4,o,o.return),Po(o);break;case 1:Ii(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&tm(o,o.return,l),Po(o);break;case 27:ts(o.stateNode);case 26:case 5:Ii(o,o.return),Po(o);break;case 22:o.memoizedState===null&&Po(o);break;case 30:Po(o);break;default:Po(o)}n=n.sibling}}function Or(n,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,g=n,T=o,w=T.flags;switch(T.tag){case 0:case 11:case 15:Or(g,T,l),Ka(4,T);break;case 1:if(Or(g,T,l),f=T,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ee){Rt(f,f.return,ee)}if(f=T,g=f.updateQueue,g!==null){var k=f.stateNode;try{var q=g.shared.hiddenCallbacks;if(q!==null)for(g.shared.hiddenCallbacks=null,g=0;g<q.length;g++)Op(q[g],k)}catch(ee){Rt(f,f.return,ee)}}l&&w&64&&em(T),Ya(T,T.return);break;case 27:rm(T);case 26:case 5:Or(g,T,l),l&&f===null&&w&4&&nm(T),Ya(T,T.return);break;case 12:Or(g,T,l);break;case 13:Or(g,T,l),l&&w&4&&um(g,T);break;case 22:T.memoizedState===null&&Or(g,T,l),Ya(T,T.return);break;case 30:break;default:Or(g,T,l)}o=o.sibling}}function Af(n,o){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&ka(l))}function wf(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&ka(n))}function Pi(n,o,l,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)dm(n,o,l,f),o=o.sibling}function dm(n,o,l,f){var g=o.flags;switch(o.tag){case 0:case 11:case 15:Pi(n,o,l,f),g&2048&&Ka(9,o);break;case 1:Pi(n,o,l,f);break;case 3:Pi(n,o,l,f),g&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&ka(n)));break;case 12:if(g&2048){Pi(n,o,l,f),n=o.stateNode;try{var T=o.memoizedProps,w=T.id,k=T.onPostCommit;typeof k=="function"&&k(w,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(q){Rt(o,o.return,q)}}else Pi(n,o,l,f);break;case 13:Pi(n,o,l,f);break;case 23:break;case 22:T=o.stateNode,w=o.alternate,o.memoizedState!==null?T._visibility&2?Pi(n,o,l,f):Ja(n,o):T._visibility&2?Pi(n,o,l,f):(T._visibility|=2,Cl(n,o,l,f,(o.subtreeFlags&10256)!==0)),g&2048&&Af(w,o);break;case 24:Pi(n,o,l,f),g&2048&&wf(o.alternate,o);break;default:Pi(n,o,l,f)}}function Cl(n,o,l,f,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var T=n,w=o,k=l,q=f,ee=w.flags;switch(w.tag){case 0:case 11:case 15:Cl(T,w,k,q,g),Ka(8,w);break;case 23:break;case 22:var he=w.stateNode;w.memoizedState!==null?he._visibility&2?Cl(T,w,k,q,g):Ja(T,w):(he._visibility|=2,Cl(T,w,k,q,g)),g&&ee&2048&&Af(w.alternate,w);break;case 24:Cl(T,w,k,q,g),g&&ee&2048&&wf(w.alternate,w);break;default:Cl(T,w,k,q,g)}o=o.sibling}}function Ja(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=n,f=o,g=f.flags;switch(f.tag){case 22:Ja(l,f),g&2048&&Af(f.alternate,f);break;case 24:Ja(l,f),g&2048&&wf(f.alternate,f);break;default:Ja(l,f)}o=o.sibling}}var $a=8192;function El(n){if(n.subtreeFlags&$a)for(n=n.child;n!==null;)pm(n),n=n.sibling}function pm(n){switch(n.tag){case 26:El(n),n.flags&$a&&n.memoizedState!==null&&vT(Ti,n.memoizedState,n.memoizedProps);break;case 5:El(n);break;case 3:case 4:var o=Ti;Ti=Nu(n.stateNode.containerInfo),El(n),Ti=o;break;case 22:n.memoizedState===null&&(o=n.alternate,o!==null&&o.memoizedState!==null?(o=$a,$a=16777216,El(n),$a=o):El(n));break;default:El(n)}}function hm(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function Xa(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];fn=f,gm(f,n)}hm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)mm(n),n=n.sibling}function mm(n){switch(n.tag){case 0:case 11:case 15:Xa(n),n.flags&2048&&Br(9,n,n.return);break;case 3:Xa(n);break;case 12:Xa(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,vu(n)):Xa(n);break;default:Xa(n)}}function vu(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];fn=f,gm(f,n)}hm(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:Br(8,o,o.return),vu(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,vu(o));break;default:vu(o)}n=n.sibling}}function gm(n,o){for(;fn!==null;){var l=fn;switch(l.tag){case 0:case 11:case 15:Br(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ka(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,fn=f;else e:for(l=n;fn!==null;){f=fn;var g=f.sibling,T=f.return;if(am(f),f===l){fn=null;break e}if(g!==null){g.return=T,fn=g;break e}fn=T}}}var Px={getCacheForType:function(n){var o=Tn(on),l=o.data.get(n);return l===void 0&&(l=n(),o.data.set(n,l)),l}},Ux=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Nt=null,ct=null,mt=0,Et=0,Zn=null,Hr=!1,bl=!1,Mf=!1,ur=0,Ft=0,zr=0,Uo=0,Rf=0,fi=0,_l=0,Qa=null,Bn=null,Nf=!1,kf=0,xu=1/0,Tu=null,Gr=null,gn=0,Fr=null,Al=null,wl=0,Df=0,If=null,ym=null,Za=0,Pf=null;function Wn(){if((Ct&2)!==0&&mt!==0)return mt&-mt;if(ne.T!==null){var n=hl;return n!==0?n:Hf()}return zi()}function vm(){fi===0&&(fi=(mt&536870912)===0||vt?oo():536870912);var n=ci.current;return n!==null&&(n.flags|=32),fi}function jn(n,o,l){(n===Nt&&(Et===2||Et===9)||n.cancelPendingCommit!==null)&&(Ml(n,0),Kr(n,mt,fi,!1)),pr(n,l),((Ct&2)===0||n!==Nt)&&(n===Nt&&((Ct&2)===0&&(Uo|=l),Ft===4&&Kr(n,mt,fi,!1)),Ui(n))}function xm(n,o,l){if((Ct&6)!==0)throw Error(r(327));var f=!l&&(o&124)===0&&(o&n.expiredLanes)===0||sn(n,o),g=f?Bx(n,o):qf(n,o,!0),T=f;do{if(g===0){bl&&!f&&Kr(n,o,0,!1);break}else{if(l=n.current.alternate,T&&!Lx(l)){g=qf(n,o,!1),T=!1;continue}if(g===2){if(T=o,n.errorRecoveryDisabledLanes&T)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){o=w;e:{var k=n;g=Qa;var q=k.current.memoizedState.isDehydrated;if(q&&(Ml(k,w).flags|=256),w=qf(k,w,!1),w!==2){if(Mf&&!q){k.errorRecoveryDisabledLanes|=T,Uo|=T,g=4;break e}T=Bn,Bn=g,T!==null&&(Bn===null?Bn=T:Bn.push.apply(Bn,T))}g=w}if(T=!1,g!==2)continue}}if(g===1){Ml(n,0),Kr(n,o,0,!0);break}e:{switch(f=n,T=g,T){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Kr(f,o,fi,!Hr);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(g=kf+300-_n(),10<g)){if(Kr(f,o,fi,!Hr),Le(f,0,!0)!==0)break e;f.timeoutHandle=$m(Tm.bind(null,f,l,Bn,Tu,Nf,o,fi,Uo,_l,Hr,T,2,-0,0),g);break e}Tm(f,l,Bn,Tu,Nf,o,fi,Uo,_l,Hr,T,0,-0,0)}}break}while(!0);Ui(n)}function Tm(n,o,l,f,g,T,w,k,q,ee,he,xe,ie,oe){if(n.timeoutHandle=-1,xe=o.subtreeFlags,(xe&8192||(xe&16785408)===16785408)&&(rs={stylesheets:null,count:0,unsuspend:yT},pm(o),xe=xT(),xe!==null)){n.cancelPendingCommit=xe(wm.bind(null,n,o,T,l,f,g,w,k,q,he,1,ie,oe)),Kr(n,T,w,!ee);return}wm(n,o,T,l,f,g,w,k,q)}function Lx(n){for(var o=n;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var g=l[f],T=g.getSnapshot;g=g.value;try{if(!zt(T(),g))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Kr(n,o,l,f){o&=~Rf,o&=~Uo,n.suspendedLanes|=o,n.pingedLanes&=~o,f&&(n.warmLanes|=o),f=n.expirationTimes;for(var g=o;0<g;){var T=31-Je(g),w=1<<T;f[T]=-1,g&=~w}l!==0&&ta(n,l,o)}function Su(){return(Ct&6)===0?(Wa(0),!1):!0}function Uf(){if(ct!==null){if(Et===0)var n=ct.return;else n=ct,tr=Ro=null,Zc(n),Tl=null,za=0,n=ct;for(;n!==null;)jh(n.alternate,n),n=n.return;ct=null}}function Ml(n,o){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,eT(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Uf(),Nt=n,ct=l=Wi(n.current,null),mt=o,Et=0,Zn=null,Hr=!1,bl=sn(n,o),Mf=!1,_l=fi=Rf=Uo=zr=Ft=0,Bn=Qa=null,Nf=!1,(o&8)!==0&&(o|=o&32);var f=n.entangledLanes;if(f!==0)for(n=n.entanglements,f&=o;0<f;){var g=31-Je(f),T=1<<g;o|=n[g],f&=~T}return ur=o,Mt(),l}function Sm(n,o){at=null,ne.H=su,o===Ia||o===Ws?(o=Bp(),Et=3):o===Up?(o=Bp(),Et=4):Et=o===Vh?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Zn=o,ct===null&&(Ft=1,pu(n,De(o,n.current)))}function Cm(){var n=ne.H;return ne.H=su,n===null?su:n}function Em(){var n=ne.A;return ne.A=Px,n}function Lf(){Ft=4,Hr||(mt&4194048)!==mt&&ci.current!==null||(bl=!0),(zr&134217727)===0&&(Uo&134217727)===0||Nt===null||Kr(Nt,mt,fi,!1)}function qf(n,o,l){var f=Ct;Ct|=2;var g=Cm(),T=Em();(Nt!==n||mt!==o)&&(Tu=null,Ml(n,o)),o=!1;var w=Ft;e:do try{if(Et!==0&&ct!==null){var k=ct,q=Zn;switch(Et){case 8:Uf(),w=6;break e;case 3:case 2:case 9:case 6:ci.current===null&&(o=!0);var ee=Et;if(Et=0,Zn=null,Rl(n,k,q,ee),l&&bl){w=0;break e}break;default:ee=Et,Et=0,Zn=null,Rl(n,k,q,ee)}}qx(),w=Ft;break}catch(he){Sm(n,he)}while(!0);return o&&n.shellSuspendCounter++,tr=Ro=null,Ct=f,ne.H=g,ne.A=T,ct===null&&(Nt=null,mt=0,Mt()),w}function qx(){for(;ct!==null;)bm(ct)}function Bx(n,o){var l=Ct;Ct|=2;var f=Cm(),g=Em();Nt!==n||mt!==o?(Tu=null,xu=_n()+500,Ml(n,o)):bl=sn(n,o);e:do try{if(Et!==0&&ct!==null){o=ct;var T=Zn;t:switch(Et){case 1:Et=0,Zn=null,Rl(n,o,T,1);break;case 2:case 9:if(Lp(T)){Et=0,Zn=null,_m(o);break}o=function(){Et!==2&&Et!==9||Nt!==n||(Et=7),Ui(n)},T.then(o,o);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:Lp(T)?(Et=0,Zn=null,_m(o)):(Et=0,Zn=null,Rl(n,o,T,7));break;case 5:var w=null;switch(ct.tag){case 26:w=ct.memoizedState;case 5:case 27:var k=ct;if(!w||lg(w)){Et=0,Zn=null;var q=k.sibling;if(q!==null)ct=q;else{var ee=k.return;ee!==null?(ct=ee,Cu(ee)):ct=null}break t}}Et=0,Zn=null,Rl(n,o,T,5);break;case 6:Et=0,Zn=null,Rl(n,o,T,6);break;case 8:Uf(),Ft=6;break e;default:throw Error(r(462))}}Vx();break}catch(he){Sm(n,he)}while(!0);return tr=Ro=null,ne.H=f,ne.A=g,Ct=l,ct!==null?0:(Nt=null,mt=0,Mt(),Ft)}function Vx(){for(;ct!==null&&!ni();)bm(ct)}function bm(n){var o=Zh(n.alternate,n,ur);n.memoizedProps=n.pendingProps,o===null?Cu(n):ct=o}function _m(n){var o=n,l=o.alternate;switch(o.tag){case 15:case 0:o=Kh(l,o,o.pendingProps,o.type,void 0,mt);break;case 11:o=Kh(l,o,o.pendingProps,o.type.render,o.ref,mt);break;case 5:Zc(o);default:jh(l,o),o=ct=Ap(o,ur),o=Zh(l,o,ur)}n.memoizedProps=n.pendingProps,o===null?Cu(n):ct=o}function Rl(n,o,l,f){tr=Ro=null,Zc(o),Tl=null,za=0;var g=o.return;try{if(Mx(n,g,o,l,mt)){Ft=1,pu(n,De(l,n.current)),ct=null;return}}catch(T){if(g!==null)throw ct=g,T;Ft=1,pu(n,De(l,n.current)),ct=null;return}o.flags&32768?(vt||f===1?n=!0:bl||(mt&536870912)!==0?n=!1:(Hr=n=!0,(f===2||f===9||f===3||f===6)&&(f=ci.current,f!==null&&f.tag===13&&(f.flags|=16384))),Am(o,n)):Cu(o)}function Cu(n){var o=n;do{if((o.flags&32768)!==0){Am(o,Hr);return}n=o.return;var l=Nx(o.alternate,o,ur);if(l!==null){ct=l;return}if(o=o.sibling,o!==null){ct=o;return}ct=o=n}while(o!==null);Ft===0&&(Ft=5)}function Am(n,o){do{var l=kx(n.alternate,n);if(l!==null){l.flags&=32767,ct=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(n=n.sibling,n!==null)){ct=n;return}ct=n=l}while(n!==null);Ft=6,ct=null}function wm(n,o,l,f,g,T,w,k,q){n.cancelPendingCommit=null;do Eu();while(gn!==0);if((Ct&6)!==0)throw Error(r(327));if(o!==null){if(o===n.current)throw Error(r(177));if(T=o.lanes|o.childLanes,T|=We,ea(n,l,T,w,k,q),n===Nt&&(ct=Nt=null,mt=0),Al=o,Fr=n,wl=l,Df=T,If=g,ym=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Gx(pn,function(){return Dm(),null})):(n.callbackNode=null,n.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=ne.T,ne.T=null,g=Me.p,Me.p=2,w=Ct,Ct|=4;try{Dx(n,o,l)}finally{Ct=w,Me.p=g,ne.T=f}}gn=1,Mm(),Rm(),Nm()}}function Mm(){if(gn===1){gn=0;var n=Fr,o=Al,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=ne.T,ne.T=null;var f=Me.p;Me.p=2;var g=Ct;Ct|=4;try{cm(o,n);var T=Xf,w=b(n.containerInfo),k=T.focusedElem,q=T.selectionRange;if(w!==k&&k&&k.ownerDocument&&C(k.ownerDocument.documentElement,k)){if(q!==null&&A(k)){var ee=q.start,he=q.end;if(he===void 0&&(he=ee),"selectionStart"in k)k.selectionStart=ee,k.selectionEnd=Math.min(he,k.value.length);else{var xe=k.ownerDocument||document,ie=xe&&xe.defaultView||window;if(ie.getSelection){var oe=ie.getSelection(),je=k.textContent.length,Xe=Math.min(q.start,je),At=q.end===void 0?Xe:Math.min(q.end,je);!oe.extend&&Xe>At&&(w=At,At=Xe,Xe=w);var $=x(k,Xe),H=x(k,At);if($&&H&&(oe.rangeCount!==1||oe.anchorNode!==$.node||oe.anchorOffset!==$.offset||oe.focusNode!==H.node||oe.focusOffset!==H.offset)){var W=xe.createRange();W.setStart($.node,$.offset),oe.removeAllRanges(),Xe>At?(oe.addRange(W),oe.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),oe.addRange(W))}}}}for(xe=[],oe=k;oe=oe.parentNode;)oe.nodeType===1&&xe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<xe.length;k++){var ve=xe[k];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}Uu=!!$f,Xf=$f=null}finally{Ct=g,Me.p=f,ne.T=l}}n.current=o,gn=2}}function Rm(){if(gn===2){gn=0;var n=Fr,o=Al,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=ne.T,ne.T=null;var f=Me.p;Me.p=2;var g=Ct;Ct|=4;try{lm(n,o.alternate,o)}finally{Ct=g,Me.p=f,ne.T=l}}gn=3}}function Nm(){if(gn===4||gn===3){gn=0,Go();var n=Fr,o=Al,l=wl,f=ym;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?gn=5:(gn=0,Al=Fr=null,km(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Gr=null),ia(l),o=o.stateNode,Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(fe,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=ne.T,g=Me.p,Me.p=2,ne.T=null;try{for(var T=n.onRecoverableError,w=0;w<f.length;w++){var k=f[w];T(k.value,{componentStack:k.stack})}}finally{ne.T=o,Me.p=g}}(wl&3)!==0&&Eu(),Ui(n),g=n.pendingLanes,(l&4194090)!==0&&(g&42)!==0?n===Pf?Za++:(Za=0,Pf=n):Za=0,Wa(0)}}function km(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,ka(o)))}function Eu(n){return Mm(),Rm(),Nm(),Dm()}function Dm(){if(gn!==5)return!1;var n=Fr,o=Df;Df=0;var l=ia(wl),f=ne.T,g=Me.p;try{Me.p=32>l?32:l,ne.T=null,l=If,If=null;var T=Fr,w=wl;if(gn=0,Al=Fr=null,wl=0,(Ct&6)!==0)throw Error(r(331));var k=Ct;if(Ct|=4,mm(T.current),dm(T,T.current,w,l),Ct=k,Wa(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(fe,T)}catch{}return!0}finally{Me.p=g,ne.T=f,km(n,o)}}function Im(n,o,l){o=De(l,o),o=df(n.stateNode,o,2),n=Pr(n,o,2),n!==null&&(pr(n,2),Ui(n))}function Rt(n,o,l){if(n.tag===3)Im(n,n,l);else for(;o!==null;){if(o.tag===3){Im(o,n,l);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Gr===null||!Gr.has(f))){n=De(l,n),l=qh(2),f=Pr(o,l,2),f!==null&&(Bh(l,f,o,n),pr(f,2),Ui(f));break}}o=o.return}}function Bf(n,o,l){var f=n.pingCache;if(f===null){f=n.pingCache=new Ux;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(l)||(Mf=!0,g.add(l),n=Ox.bind(null,n,o,l),o.then(n,n))}function Ox(n,o,l){var f=n.pingCache;f!==null&&f.delete(o),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Nt===n&&(mt&l)===l&&(Ft===4||Ft===3&&(mt&62914560)===mt&&300>_n()-kf?(Ct&2)===0&&Ml(n,0):Rf|=l,_l===mt&&(_l=0)),Ui(n)}function Pm(n,o){o===0&&(o=qe()),n=Vt(n,o),n!==null&&(pr(n,o),Ui(n))}function Hx(n){var o=n.memoizedState,l=0;o!==null&&(l=o.retryLane),Pm(n,l)}function zx(n,o){var l=0;switch(n.tag){case 13:var f=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=n.stateNode;break;case 22:f=n.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(o),Pm(n,l)}function Gx(n,o){return mi(n,o)}var bu=null,Nl=null,Vf=!1,_u=!1,Of=!1,Lo=0;function Ui(n){n!==Nl&&n.next===null&&(Nl===null?bu=Nl=n:Nl=Nl.next=n),_u=!0,Vf||(Vf=!0,Kx())}function Wa(n,o){if(!Of&&_u){Of=!0;do for(var l=!1,f=bu;f!==null;){if(n!==0){var g=f.pendingLanes;if(g===0)var T=0;else{var w=f.suspendedLanes,k=f.pingedLanes;T=(1<<31-Je(42|n)+1)-1,T&=g&~(w&~k),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(l=!0,Bm(f,T))}else T=mt,T=Le(f,f===Nt?T:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(T&3)===0||sn(f,T)||(l=!0,Bm(f,T));f=f.next}while(l);Of=!1}}function Fx(){Um()}function Um(){_u=Vf=!1;var n=0;Lo!==0&&(jx()&&(n=Lo),Lo=0);for(var o=_n(),l=null,f=bu;f!==null;){var g=f.next,T=Lm(f,o);T===0?(f.next=null,l===null?bu=g:l.next=g,g===null&&(Nl=l)):(l=f,(n!==0||(T&3)!==0)&&(_u=!0)),f=g}Wa(n)}function Lm(n,o){for(var l=n.suspendedLanes,f=n.pingedLanes,g=n.expirationTimes,T=n.pendingLanes&-62914561;0<T;){var w=31-Je(T),k=1<<w,q=g[w];q===-1?((k&l)===0||(k&f)!==0)&&(g[w]=nn(k,o)):q<=o&&(n.expiredLanes|=k),T&=~k}if(o=Nt,l=mt,l=Le(n,n===o?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f=n.callbackNode,l===0||n===o&&(Et===2||Et===9)||n.cancelPendingCommit!==null)return f!==null&&f!==null&&io(f),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||sn(n,l)){if(o=l&-l,o===n.callbackPriority)return o;switch(f!==null&&io(f),ia(l)){case 2:case 8:l=Oi;break;case 32:l=pn;break;case 268435456:l=Ci;break;default:l=pn}return f=qm.bind(null,n),l=mi(l,f),n.callbackPriority=o,n.callbackNode=l,o}return f!==null&&f!==null&&io(f),n.callbackPriority=2,n.callbackNode=null,2}function qm(n,o){if(gn!==0&&gn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Eu()&&n.callbackNode!==l)return null;var f=mt;return f=Le(n,n===Nt?f:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f===0?null:(xm(n,f,o),Lm(n,_n()),n.callbackNode!=null&&n.callbackNode===l?qm.bind(null,n):null)}function Bm(n,o){if(Eu())return null;xm(n,o,!0)}function Kx(){tT(function(){(Ct&6)!==0?mi(ro,Fx):Um()})}function Hf(){return Lo===0&&(Lo=oo()),Lo}function Vm(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:vi(""+n)}function Om(n,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,n.id&&l.setAttribute("form",n.id),o.parentNode.insertBefore(l,o),n=new FormData(n),l.parentNode.removeChild(l),n}function Yx(n,o,l,f,g){if(o==="submit"&&l&&l.stateNode===g){var T=Vm((g[lt]||null).action),w=f.submitter;w&&(o=(o=w[lt]||null)?Vm(o.formAction):w.getAttribute("formAction"),o!==null&&(T=o,w=null));var k=new Wo("action","action",null,f,g);n.push({event:k,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Lo!==0){var q=w?Om(g,w):new FormData(g);af(l,{pending:!0,data:q,method:g.method,action:T},null,q)}}else typeof T=="function"&&(k.preventDefault(),q=w?Om(g,w):new FormData(g),af(l,{pending:!0,data:q,method:g.method,action:T},T,q))},currentTarget:g}]})}}for(var zf=0;zf<Ae.length;zf++){var Gf=Ae[zf],Jx=Gf.toLowerCase(),$x=Gf[0].toUpperCase()+Gf.slice(1);Ne(Jx,"on"+$x)}Ne(J,"onAnimationEnd"),Ne(Q,"onAnimationIteration"),Ne(le,"onAnimationStart"),Ne("dblclick","onDoubleClick"),Ne("focusin","onFocus"),Ne("focusout","onBlur"),Ne(ue,"onTransitionRun"),Ne(de,"onTransitionStart"),Ne(be,"onTransitionCancel"),Ne(ke,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ja));function Hm(n,o){o=(o&4)!==0;for(var l=0;l<n.length;l++){var f=n[l],g=f.event;f=f.listeners;e:{var T=void 0;if(o)for(var w=f.length-1;0<=w;w--){var k=f[w],q=k.instance,ee=k.currentTarget;if(k=k.listener,q!==T&&g.isPropagationStopped())break e;T=k,g.currentTarget=ee;try{T(g)}catch(he){du(he)}g.currentTarget=null,T=q}else for(w=0;w<f.length;w++){if(k=f[w],q=k.instance,ee=k.currentTarget,k=k.listener,q!==T&&g.isPropagationStopped())break e;T=k,g.currentTarget=ee;try{T(g)}catch(he){du(he)}g.currentTarget=null,T=q}}}}function ft(n,o){var l=o[ra];l===void 0&&(l=o[ra]=new Set);var f=n+"__bubble";l.has(f)||(zm(o,n,2,!1),l.add(f))}function Ff(n,o,l){var f=0;o&&(f|=4),zm(l,n,f,o)}var Au="_reactListening"+Math.random().toString(36).slice(2);function Kf(n){if(!n[Au]){n[Au]=!0,oa.forEach(function(l){l!=="selectionchange"&&(Xx.has(l)||Ff(l,!1,n),Ff(l,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[Au]||(o[Au]=!0,Ff("selectionchange",!1,o))}}function zm(n,o,l,f){switch(dg(o)){case 2:var g=CT;break;case 8:g=ET;break;default:g=od}l=g.bind(null,o,l,n),g=void 0,!ai||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?n.addEventListener(o,l,{capture:!0,passive:g}):n.addEventListener(o,l,!0):g!==void 0?n.addEventListener(o,l,{passive:g}):n.addEventListener(o,l,!1)}function Yf(n,o,l,f,g){var T=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var k=f.stateNode.containerInfo;if(k===g)break;if(w===4)for(w=f.return;w!==null;){var q=w.tag;if((q===3||q===4)&&w.stateNode.containerInfo===g)return;w=w.return}for(;k!==null;){if(w=Gn(k),w===null)return;if(q=w.tag,q===5||q===6||q===26||q===27){f=T=w;continue e}k=k.parentNode}}f=f.return}Sr(function(){var ee=T,he=li(l),xe=[];e:{var ie=_e.get(n);if(ie!==void 0){var oe=Wo,je=n;switch(n){case"keypress":if(Ni(l)===0)break e;case"keydown":case"keyup":oe=Ls;break;case"focusin":je="focus",oe=br;break;case"focusout":je="blur",oe=br;break;case"beforeblur":case"afterblur":oe=br;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=da;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=ol;break;case J:case Q:case le:oe=nl;break;case ke:oe=Xi;break;case"scroll":case"scrollend":oe=jo;break;case"wheel":oe=xa;break;case"copy":case"cut":case"paste":oe=_c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=ga;break;case"toggle":case"beforetoggle":oe=Ta}var Xe=(o&4)!==0,At=!Xe&&(n==="scroll"||n==="scrollend"),$=Xe?ie!==null?ie+"Capture":null:ie;Xe=[];for(var H=ee,W;H!==null;){var ve=H;if(W=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||W===null||$===null||(ve=xi(H,$),ve!=null&&Xe.push(es(H,ve,W))),At)break;H=H.return}0<Xe.length&&(ie=new oe(ie,je,null,l,he),xe.push({event:ie,listeners:Xe}))}}if((o&7)===0){e:{if(ie=n==="mouseover"||n==="pointerover",oe=n==="mouseout"||n==="pointerout",ie&&l!==Tr&&(je=l.relatedTarget||l.fromElement)&&(Gn(je)||je[It]))break e;if((oe||ie)&&(ie=he.window===he?he:(ie=he.ownerDocument)?ie.defaultView||ie.parentWindow:window,oe?(je=l.relatedTarget||l.toElement,oe=ee,je=je?Gn(je):null,je!==null&&(At=c(je),Xe=je.tag,je!==At||Xe!==5&&Xe!==27&&Xe!==6)&&(je=null)):(oe=null,je=ee),oe!==je)){if(Xe=Is,ve="onMouseLeave",$="onMouseEnter",H="mouse",(n==="pointerout"||n==="pointerover")&&(Xe=ga,ve="onPointerLeave",$="onPointerEnter",H="pointer"),At=oe==null?ie:Ei(oe),W=je==null?ie:Ei(je),ie=new Xe(ve,H+"leave",oe,l,he),ie.target=At,ie.relatedTarget=W,ve=null,Gn(he)===ee&&(Xe=new Xe($,H+"enter",je,l,he),Xe.target=W,Xe.relatedTarget=At,ve=Xe),At=ve,oe&&je)t:{for(Xe=oe,$=je,H=0,W=Xe;W;W=kl(W))H++;for(W=0,ve=$;ve;ve=kl(ve))W++;for(;0<H-W;)Xe=kl(Xe),H--;for(;0<W-H;)$=kl($),W--;for(;H--;){if(Xe===$||$!==null&&Xe===$.alternate)break t;Xe=kl(Xe),$=kl($)}Xe=null}else Xe=null;oe!==null&&Gm(xe,ie,oe,Xe,!1),je!==null&&At!==null&&Gm(xe,At,je,Xe,!0)}}e:{if(ie=ee?Ei(ee):window,oe=ie.nodeName&&ie.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ie.type==="file")var Ge=Gs;else if(Ea(ie))if(So)Ge=_a;else{Ge=Ks;var st=ba}else oe=ie.nodeName,!oe||oe.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ee&&ua(ee.elementType)&&(Ge=Gs):Ge=Zi;if(Ge&&(Ge=Ge(n,ee))){cl(xe,Ge,l,he);break e}st&&st(n,ie,ee),n==="focusout"&&ee&&ie.type==="number"&&ee.memoizedProps.value!=null&&Qo(ie,"number",ie.value)}switch(st=ee?Ei(ee):window,n){case"focusin":(Ea(st)||st.contentEditable==="true")&&(D=st,P=ee,V=null);break;case"focusout":V=P=D=null;break;case"mousedown":z=!0;break;case"contextmenu":case"mouseup":case"dragend":z=!1,K(xe,l,he);break;case"selectionchange":if(N)break;case"keydown":case"keyup":K(xe,l,he)}var Ke;if(Sa)e:{switch(n){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Ar?Os(n,l)&&(Ze="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ze="onCompositionStart");Ze&&(Vs&&l.locale!=="ko"&&(Ar||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Ar&&(Ke=Zo()):(rn=he,mo="value"in rn?rn.value:rn.textContent,Ar=!0)),st=wu(ee,Ze),0<st.length&&(Ze=new il(Ze,n,null,l,he),xe.push({event:Ze,listeners:st}),Ke?Ze.data=Ke:(Ke=Ca(l),Ke!==null&&(Ze.data=Ke)))),(Ke=al?Hs(n,l):zs(n,l))&&(Ze=wu(ee,"onBeforeInput"),0<Ze.length&&(st=new il("onBeforeInput","beforeinput",null,l,he),xe.push({event:st,listeners:Ze}),st.data=Ke)),Yx(xe,n,ee,l,he)}Hm(xe,o)})}function es(n,o,l){return{instance:n,listener:o,currentTarget:l}}function wu(n,o){for(var l=o+"Capture",f=[];n!==null;){var g=n,T=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||T===null||(g=xi(n,l),g!=null&&f.unshift(es(n,g,T)),g=xi(n,o),g!=null&&f.push(es(n,g,T))),n.tag===3)return f;n=n.return}return[]}function kl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Gm(n,o,l,f,g){for(var T=o._reactName,w=[];l!==null&&l!==f;){var k=l,q=k.alternate,ee=k.stateNode;if(k=k.tag,q!==null&&q===f)break;k!==5&&k!==26&&k!==27||ee===null||(q=ee,g?(ee=xi(l,T),ee!=null&&w.unshift(es(l,ee,q))):g||(ee=xi(l,T),ee!=null&&w.push(es(l,ee,q)))),l=l.return}w.length!==0&&n.push({event:o,listeners:w})}var Qx=/\r\n?/g,Zx=/\u0000|\uFFFD/g;function Fm(n){return(typeof n=="string"?n:""+n).replace(Qx,`
`).replace(Zx,"")}function Km(n,o){return o=Fm(o),Fm(n)===o}function Mu(){}function _t(n,o,l,f,g,T){switch(l){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Ki(n,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Ki(n,""+f);break;case"className":Gi(n,"class",f);break;case"tabIndex":Gi(n,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Gi(n,l,f);break;case"style":sa(n,f,T);break;case"data":if(o!=="object"){Gi(n,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||l!=="href")){n.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(l);break}f=vi(""+f),n.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(l==="formAction"?(o!=="input"&&_t(n,o,"name",g.name,g,null),_t(n,o,"formEncType",g.formEncType,g,null),_t(n,o,"formMethod",g.formMethod,g,null),_t(n,o,"formTarget",g.formTarget,g,null)):(_t(n,o,"encType",g.encType,g,null),_t(n,o,"method",g.method,g,null),_t(n,o,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(l);break}f=vi(""+f),n.setAttribute(l,f);break;case"onClick":f!=null&&(n.onclick=Mu);break;case"onScroll":f!=null&&ft("scroll",n);break;case"onScrollEnd":f!=null&&ft("scrollend",n);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"multiple":n.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":n.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){n.removeAttribute("xlink:href");break}l=vi(""+f),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(l,""+f):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":f===!0?n.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(l,f):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?n.setAttribute(l,f):n.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?n.removeAttribute(l):n.setAttribute(l,f);break;case"popover":ft("beforetoggle",n),ft("toggle",n),gi(n,"popover",f);break;case"xlinkActuate":Fn(n,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Fn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Fn(n,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Fn(n,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Fn(n,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Fn(n,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Fn(n,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Fn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Fn(n,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":gi(n,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=bc.get(l)||l,gi(n,l,f))}}function Jf(n,o,l,f,g,T){switch(l){case"style":sa(n,f,T);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"children":typeof f=="string"?Ki(n,f):(typeof f=="number"||typeof f=="bigint")&&Ki(n,""+f);break;case"onScroll":f!=null&&ft("scroll",n);break;case"onScrollEnd":f!=null&&ft("scrollend",n);break;case"onClick":f!=null&&(n.onclick=Mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bi.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),o=l.slice(2,g?l.length-7:void 0),T=n[lt]||null,T=T!=null?T[l]:null,typeof T=="function"&&n.removeEventListener(o,T,g),typeof f=="function")){typeof T!="function"&&T!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(o,f,g);break e}l in n?n[l]=f:f===!0?n.setAttribute(l,""):gi(n,l,f)}}}function yn(n,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",n),ft("load",n);var f=!1,g=!1,T;for(T in l)if(l.hasOwnProperty(T)){var w=l[T];if(w!=null)switch(T){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:_t(n,o,T,w,l,null)}}g&&_t(n,o,"srcSet",l.srcSet,l,null),f&&_t(n,o,"src",l.src,l,null);return;case"input":ft("invalid",n);var k=T=w=g=null,q=null,ee=null;for(f in l)if(l.hasOwnProperty(f)){var he=l[f];if(he!=null)switch(f){case"name":g=he;break;case"type":w=he;break;case"checked":q=he;break;case"defaultChecked":ee=he;break;case"value":T=he;break;case"defaultValue":k=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,o));break;default:_t(n,o,f,he,l,null)}}po(n,T,k,q,ee,w,g,!1),St(n);return;case"select":ft("invalid",n),f=w=T=null;for(g in l)if(l.hasOwnProperty(g)&&(k=l[g],k!=null))switch(g){case"value":T=k;break;case"defaultValue":w=k;break;case"multiple":f=k;default:_t(n,o,g,k,l,null)}o=T,l=w,n.multiple=!!f,o!=null?yi(n,!!f,o,!1):l!=null&&yi(n,!!f,l,!0);return;case"textarea":ft("invalid",n),T=g=f=null;for(w in l)if(l.hasOwnProperty(w)&&(k=l[w],k!=null))switch(w){case"value":f=k;break;case"defaultValue":g=k;break;case"children":T=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:_t(n,o,w,k,l,null)}xr(n,f,g,T),St(n);return;case"option":for(q in l)if(l.hasOwnProperty(q)&&(f=l[q],f!=null))switch(q){case"selected":n.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:_t(n,o,q,f,l,null)}return;case"dialog":ft("beforetoggle",n),ft("toggle",n),ft("cancel",n),ft("close",n);break;case"iframe":case"object":ft("load",n);break;case"video":case"audio":for(f=0;f<ja.length;f++)ft(ja[f],n);break;case"image":ft("error",n),ft("load",n);break;case"details":ft("toggle",n);break;case"embed":case"source":case"link":ft("error",n),ft("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in l)if(l.hasOwnProperty(ee)&&(f=l[ee],f!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:_t(n,o,ee,f,l,null)}return;default:if(ua(o)){for(he in l)l.hasOwnProperty(he)&&(f=l[he],f!==void 0&&Jf(n,o,he,f,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(f=l[k],f!=null&&_t(n,o,k,f,l,null))}function Wx(n,o,l,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,T=null,w=null,k=null,q=null,ee=null,he=null;for(oe in l){var xe=l[oe];if(l.hasOwnProperty(oe)&&xe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":q=xe;default:f.hasOwnProperty(oe)||_t(n,o,oe,null,f,xe)}}for(var ie in f){var oe=f[ie];if(xe=l[ie],f.hasOwnProperty(ie)&&(oe!=null||xe!=null))switch(ie){case"type":T=oe;break;case"name":g=oe;break;case"checked":ee=oe;break;case"defaultChecked":he=oe;break;case"value":w=oe;break;case"defaultValue":k=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,o));break;default:oe!==xe&&_t(n,o,ie,oe,f,xe)}}fo(n,w,k,q,ee,he,T,g);return;case"select":oe=w=k=ie=null;for(T in l)if(q=l[T],l.hasOwnProperty(T)&&q!=null)switch(T){case"value":break;case"multiple":oe=q;default:f.hasOwnProperty(T)||_t(n,o,T,null,f,q)}for(g in f)if(T=f[g],q=l[g],f.hasOwnProperty(g)&&(T!=null||q!=null))switch(g){case"value":ie=T;break;case"defaultValue":k=T;break;case"multiple":w=T;default:T!==q&&_t(n,o,g,T,f,q)}o=k,l=w,f=oe,ie!=null?yi(n,!!l,ie,!1):!!f!=!!l&&(o!=null?yi(n,!!l,o,!0):yi(n,!!l,l?[]:"",!1));return;case"textarea":oe=ie=null;for(k in l)if(g=l[k],l.hasOwnProperty(k)&&g!=null&&!f.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:_t(n,o,k,null,f,g)}for(w in f)if(g=f[w],T=l[w],f.hasOwnProperty(w)&&(g!=null||T!=null))switch(w){case"value":ie=g;break;case"defaultValue":oe=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==T&&_t(n,o,w,g,f,T)}aa(n,ie,oe);return;case"option":for(var je in l)if(ie=l[je],l.hasOwnProperty(je)&&ie!=null&&!f.hasOwnProperty(je))switch(je){case"selected":n.selected=!1;break;default:_t(n,o,je,null,f,ie)}for(q in f)if(ie=f[q],oe=l[q],f.hasOwnProperty(q)&&ie!==oe&&(ie!=null||oe!=null))switch(q){case"selected":n.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:_t(n,o,q,ie,f,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in l)ie=l[Xe],l.hasOwnProperty(Xe)&&ie!=null&&!f.hasOwnProperty(Xe)&&_t(n,o,Xe,null,f,ie);for(ee in f)if(ie=f[ee],oe=l[ee],f.hasOwnProperty(ee)&&ie!==oe&&(ie!=null||oe!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,o));break;default:_t(n,o,ee,ie,f,oe)}return;default:if(ua(o)){for(var At in l)ie=l[At],l.hasOwnProperty(At)&&ie!==void 0&&!f.hasOwnProperty(At)&&Jf(n,o,At,void 0,f,ie);for(he in f)ie=f[he],oe=l[he],!f.hasOwnProperty(he)||ie===oe||ie===void 0&&oe===void 0||Jf(n,o,he,ie,f,oe);return}}for(var $ in l)ie=l[$],l.hasOwnProperty($)&&ie!=null&&!f.hasOwnProperty($)&&_t(n,o,$,null,f,ie);for(xe in f)ie=f[xe],oe=l[xe],!f.hasOwnProperty(xe)||ie===oe||ie==null&&oe==null||_t(n,o,xe,ie,f,oe)}var $f=null,Xf=null;function Ru(n){return n.nodeType===9?n:n.ownerDocument}function Ym(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jm(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function Qf(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Zf=null;function jx(){var n=window.event;return n&&n.type==="popstate"?n===Zf?!1:(Zf=n,!0):(Zf=null,!1)}var $m=typeof setTimeout=="function"?setTimeout:void 0,eT=typeof clearTimeout=="function"?clearTimeout:void 0,Xm=typeof Promise=="function"?Promise:void 0,tT=typeof queueMicrotask=="function"?queueMicrotask:typeof Xm<"u"?function(n){return Xm.resolve(null).then(n).catch(nT)}:$m;function nT(n){setTimeout(function(){throw n})}function Yr(n){return n==="head"}function Qm(n,o){var l=o,f=0,g=0;do{var T=l.nextSibling;if(n.removeChild(l),T&&T.nodeType===8)if(l=T.data,l==="/$"){if(0<f&&8>f){l=f;var w=n.ownerDocument;if(l&1&&ts(w.documentElement),l&2&&ts(w.body),l&4)for(l=w.head,ts(l),w=l.firstChild;w;){var k=w.nextSibling,q=w.nodeName;w[so]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=k}}if(g===0){n.removeChild(T),us(o);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:f=l.charCodeAt(0)-48;else f=0;l=T}while(l);us(o)}function Wf(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Wf(l),ri(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function iT(n,o,l,f){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(f){if(!n[so])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(T=n.getAttribute("rel"),T==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(T!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(T=n.getAttribute("src"),(T!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&T&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var T=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===T)return n}else return n;if(n=Si(n.nextSibling),n===null)break}return null}function rT(n,o,l){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Si(n.nextSibling),n===null))return null;return n}function jf(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function oT(n,o){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")o();else{var f=function(){o(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),n._reactRetry=f}}function Si(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return n}var ed=null;function Zm(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return n;o--}else l==="/$"&&o++}n=n.previousSibling}return null}function Wm(n,o,l){switch(o=Ru(l),n){case"html":if(n=o.documentElement,!n)throw Error(r(452));return n;case"head":if(n=o.head,!n)throw Error(r(453));return n;case"body":if(n=o.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function ts(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);ri(n)}var di=new Map,jm=new Set;function Nu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var cr=Me.d;Me.d={f:lT,r:aT,D:sT,C:uT,L:cT,m:fT,X:pT,S:dT,M:hT};function lT(){var n=cr.f(),o=Su();return n||o}function aT(n){var o=An(n);o!==null&&o.tag===5&&o.type==="form"?xh(o):cr.r(n)}var Dl=typeof document>"u"?null:document;function eg(n,o,l){var f=Dl;if(f&&typeof o=="string"&&o){var g=vn(o);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),jm.has(g)||(jm.add(g),n={rel:n,crossOrigin:l,href:o},f.querySelector(g)===null&&(o=f.createElement("link"),yn(o,"link",n),wt(o),f.head.appendChild(o)))}}function sT(n){cr.D(n),eg("dns-prefetch",n,null)}function uT(n,o){cr.C(n,o),eg("preconnect",n,o)}function cT(n,o,l){cr.L(n,o,l);var f=Dl;if(f&&n&&o){var g='link[rel="preload"][as="'+vn(o)+'"]';o==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+vn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+vn(l.imageSizes)+'"]')):g+='[href="'+vn(n)+'"]';var T=g;switch(o){case"style":T=Il(n);break;case"script":T=Pl(n)}di.has(T)||(n=v({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:n,as:o},l),di.set(T,n),f.querySelector(g)!==null||o==="style"&&f.querySelector(ns(T))||o==="script"&&f.querySelector(is(T))||(o=f.createElement("link"),yn(o,"link",n),wt(o),f.head.appendChild(o)))}}function fT(n,o){cr.m(n,o);var l=Dl;if(l&&n){var f=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+vn(f)+'"][href="'+vn(n)+'"]',T=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Pl(n)}if(!di.has(T)&&(n=v({rel:"modulepreload",href:n},o),di.set(T,n),l.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(is(T)))return}f=l.createElement("link"),yn(f,"link",n),wt(f),l.head.appendChild(f)}}}function dT(n,o,l){cr.S(n,o,l);var f=Dl;if(f&&n){var g=mr(f).hoistableStyles,T=Il(n);o=o||"default";var w=g.get(T);if(!w){var k={loading:0,preload:null};if(w=f.querySelector(ns(T)))k.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":o},l),(l=di.get(T))&&td(n,l);var q=w=f.createElement("link");wt(q),yn(q,"link",n),q._p=new Promise(function(ee,he){q.onload=ee,q.onerror=he}),q.addEventListener("load",function(){k.loading|=1}),q.addEventListener("error",function(){k.loading|=2}),k.loading|=4,ku(w,o,f)}w={type:"stylesheet",instance:w,count:1,state:k},g.set(T,w)}}}function pT(n,o){cr.X(n,o);var l=Dl;if(l&&n){var f=mr(l).hoistableScripts,g=Pl(n),T=f.get(g);T||(T=l.querySelector(is(g)),T||(n=v({src:n,async:!0},o),(o=di.get(g))&&nd(n,o),T=l.createElement("script"),wt(T),yn(T,"link",n),l.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},f.set(g,T))}}function hT(n,o){cr.M(n,o);var l=Dl;if(l&&n){var f=mr(l).hoistableScripts,g=Pl(n),T=f.get(g);T||(T=l.querySelector(is(g)),T||(n=v({src:n,async:!0,type:"module"},o),(o=di.get(g))&&nd(n,o),T=l.createElement("script"),wt(T),yn(T,"link",n),l.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},f.set(g,T))}}function tg(n,o,l,f){var g=(g=Oe.current)?Nu(g):null;if(!g)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=Il(l.href),l=mr(g).hoistableStyles,f=l.get(o),f||(f={type:"style",instance:null,count:0,state:null},l.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Il(l.href);var T=mr(g).hoistableStyles,w=T.get(n);if(w||(g=g.ownerDocument||g,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(n,w),(T=g.querySelector(ns(n)))&&!T._p&&(w.instance=T,w.state.loading=5),di.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},di.set(n,l),T||mT(g,n,l,w.state))),o&&f===null)throw Error(r(528,""));return w}if(o&&f!==null)throw Error(r(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Pl(l),l=mr(g).hoistableScripts,f=l.get(o),f||(f={type:"script",instance:null,count:0,state:null},l.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Il(n){return'href="'+vn(n)+'"'}function ns(n){return'link[rel="stylesheet"]['+n+"]"}function ng(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function mT(n,o,l,f){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=n.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),yn(o,"link",l),wt(o),n.head.appendChild(o))}function Pl(n){return'[src="'+vn(n)+'"]'}function is(n){return"script[async]"+n}function ig(n,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var f=n.querySelector('style[data-href~="'+vn(l.href)+'"]');if(f)return o.instance=f,wt(f),f;var g=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(n.ownerDocument||n).createElement("style"),wt(f),yn(f,"style",g),ku(f,l.precedence,n),o.instance=f;case"stylesheet":g=Il(l.href);var T=n.querySelector(ns(g));if(T)return o.state.loading|=4,o.instance=T,wt(T),T;f=ng(l),(g=di.get(g))&&td(f,g),T=(n.ownerDocument||n).createElement("link"),wt(T);var w=T;return w._p=new Promise(function(k,q){w.onload=k,w.onerror=q}),yn(T,"link",f),o.state.loading|=4,ku(T,l.precedence,n),o.instance=T;case"script":return T=Pl(l.src),(g=n.querySelector(is(T)))?(o.instance=g,wt(g),g):(f=l,(g=di.get(T))&&(f=v({},l),nd(f,g)),n=n.ownerDocument||n,g=n.createElement("script"),wt(g),yn(g,"link",f),n.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,ku(f,l.precedence,n));return o.instance}function ku(n,o,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,T=g,w=0;w<f.length;w++){var k=f[w];if(k.dataset.precedence===o)T=k;else if(T!==g)break}T?T.parentNode.insertBefore(n,T.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(n,o.firstChild))}function td(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function nd(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var Du=null;function rg(n,o,l){if(Du===null){var f=new Map,g=Du=new Map;g.set(l,f)}else g=Du,f=g.get(l),f||(f=new Map,g.set(l,f));if(f.has(n))return f;for(f.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var T=l[g];if(!(T[so]||T[Kt]||n==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var w=T.getAttribute(o)||"";w=n+w;var k=f.get(w);k?k.push(T):f.set(w,[T])}}return f}function og(n,o,l){n=n.ownerDocument||n,n.head.insertBefore(l,o==="title"?n.querySelector("head > title"):null)}function gT(n,o,l){if(l===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return n=o.disabled,typeof o.precedence=="string"&&n==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function lg(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var rs=null;function yT(){}function vT(n,o,l){if(rs===null)throw Error(r(475));var f=rs;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=Il(l.href),T=n.querySelector(ns(g));if(T){n=T._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(f.count++,f=Iu.bind(f),n.then(f,f)),o.state.loading|=4,o.instance=T,wt(T);return}T=n.ownerDocument||n,l=ng(l),(g=di.get(g))&&td(l,g),T=T.createElement("link"),wt(T);var w=T;w._p=new Promise(function(k,q){w.onload=k,w.onerror=q}),yn(T,"link",l),o.instance=T}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=Iu.bind(f),n.addEventListener("load",o),n.addEventListener("error",o))}}function xT(){if(rs===null)throw Error(r(475));var n=rs;return n.stylesheets&&n.count===0&&id(n,n.stylesheets),0<n.count?function(o){var l=setTimeout(function(){if(n.stylesheets&&id(n,n.stylesheets),n.unsuspend){var f=n.unsuspend;n.unsuspend=null,f()}},6e4);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(l)}}:null}function Iu(){if(this.count--,this.count===0){if(this.stylesheets)id(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Pu=null;function id(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Pu=new Map,o.forEach(TT,n),Pu=null,Iu.call(n))}function TT(n,o){if(!(o.state.loading&4)){var l=Pu.get(n);if(l)var f=l.get(null);else{l=new Map,Pu.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<g.length;T++){var w=g[T];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),f=w)}f&&l.set(null,f)}g=o.instance,w=g.getAttribute("data-precedence"),T=l.get(w)||f,T===f&&l.set(null,g),l.set(w,g),this.count++,f=Iu.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),T?T.parentNode.insertBefore(g,T.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),o.state.loading|=4}}var os={$$typeof:te,Provider:null,Consumer:null,_currentValue:Ve,_currentValue2:Ve,_threadCount:0};function ST(n,o,l,f,g,T,w,k){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.hiddenUpdates=lo(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=T,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function ag(n,o,l,f,g,T,w,k,q,ee,he,xe){return n=new ST(n,o,l,w,k,q,ee,xe),o=1,T===!0&&(o|=24),T=$n(3,null,null,o),n.current=T,T.stateNode=n,o=qc(),o.refCount++,n.pooledCache=o,o.refCount++,T.memoizedState={element:f,isDehydrated:l,cache:o},Hc(T),n}function sg(n){return n?(n=Un,n):Un}function ug(n,o,l,f,g,T){g=sg(g),f.context===null?f.context=g:f.pendingContext=g,f=Ir(o),f.payload={element:l},T=T===void 0?null:T,T!==null&&(f.callback=T),l=Pr(n,f,o),l!==null&&(jn(l,n,o),Ua(l,n,o))}function cg(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<o?l:o}}function rd(n,o){cg(n,o),(n=n.alternate)&&cg(n,o)}function fg(n){if(n.tag===13){var o=Vt(n,67108864);o!==null&&jn(o,n,67108864),rd(n,67108864)}}var Uu=!0;function CT(n,o,l,f){var g=ne.T;ne.T=null;var T=Me.p;try{Me.p=2,od(n,o,l,f)}finally{Me.p=T,ne.T=g}}function ET(n,o,l,f){var g=ne.T;ne.T=null;var T=Me.p;try{Me.p=8,od(n,o,l,f)}finally{Me.p=T,ne.T=g}}function od(n,o,l,f){if(Uu){var g=ld(f);if(g===null)Yf(n,o,f,Lu,l),pg(n,f);else if(_T(g,n,o,l,f))f.stopPropagation();else if(pg(n,f),o&4&&-1<bT.indexOf(n)){for(;g!==null;){var T=An(g);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var w=Ht(T.pendingLanes);if(w!==0){var k=T;for(k.pendingLanes|=2,k.entangledLanes|=2;w;){var q=1<<31-Je(w);k.entanglements[1]|=q,w&=~q}Ui(T),(Ct&6)===0&&(xu=_n()+500,Wa(0))}}break;case 13:k=Vt(T,2),k!==null&&jn(k,T,2),Su(),rd(T,2)}if(T=ld(f),T===null&&Yf(n,o,f,Lu,l),T===g)break;g=T}g!==null&&f.stopPropagation()}else Yf(n,o,f,null,l)}}function ld(n){return n=li(n),ad(n)}var Lu=null;function ad(n){if(Lu=null,n=Gn(n),n!==null){var o=c(n);if(o===null)n=null;else{var l=o.tag;if(l===13){if(n=d(o),n!==null)return n;n=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return Lu=n,null}function dg(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jl()){case ro:return 2;case Oi:return 8;case pn:case Fo:return 32;case Ci:return 268435456;default:return 32}default:return 32}}var sd=!1,Jr=null,$r=null,Xr=null,ls=new Map,as=new Map,Qr=[],bT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pg(n,o){switch(n){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":ls.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":as.delete(o.pointerId)}}function ss(n,o,l,f,g,T){return n===null||n.nativeEvent!==T?(n={blockedOn:o,domEventName:l,eventSystemFlags:f,nativeEvent:T,targetContainers:[g]},o!==null&&(o=An(o),o!==null&&fg(o)),n):(n.eventSystemFlags|=f,o=n.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),n)}function _T(n,o,l,f,g){switch(o){case"focusin":return Jr=ss(Jr,n,o,l,f,g),!0;case"dragenter":return $r=ss($r,n,o,l,f,g),!0;case"mouseover":return Xr=ss(Xr,n,o,l,f,g),!0;case"pointerover":var T=g.pointerId;return ls.set(T,ss(ls.get(T)||null,n,o,l,f,g)),!0;case"gotpointercapture":return T=g.pointerId,as.set(T,ss(as.get(T)||null,n,o,l,f,g)),!0}return!1}function hg(n){var o=Gn(n.target);if(o!==null){var l=c(o);if(l!==null){if(o=l.tag,o===13){if(o=d(l),o!==null){n.blockedOn=o,hr(n.priority,function(){if(l.tag===13){var f=Wn();f=na(f);var g=Vt(l,f);g!==null&&jn(g,l,f),rd(l,f)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function qu(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var l=ld(n.nativeEvent);if(l===null){l=n.nativeEvent;var f=new l.constructor(l.type,l);Tr=f,l.target.dispatchEvent(f),Tr=null}else return o=An(l),o!==null&&fg(o),n.blockedOn=l,!1;o.shift()}return!0}function mg(n,o,l){qu(n)&&l.delete(o)}function AT(){sd=!1,Jr!==null&&qu(Jr)&&(Jr=null),$r!==null&&qu($r)&&($r=null),Xr!==null&&qu(Xr)&&(Xr=null),ls.forEach(mg),as.forEach(mg)}function Bu(n,o){n.blockedOn===o&&(n.blockedOn=null,sd||(sd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,AT)))}var Vu=null;function gg(n){Vu!==n&&(Vu=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vu===n&&(Vu=null);for(var o=0;o<n.length;o+=3){var l=n[o],f=n[o+1],g=n[o+2];if(typeof f!="function"){if(ad(f||l)===null)continue;break}var T=An(l);T!==null&&(n.splice(o,3),o-=3,af(T,{pending:!0,data:g,method:l.method,action:f},f,g))}}))}function us(n){function o(q){return Bu(q,n)}Jr!==null&&Bu(Jr,n),$r!==null&&Bu($r,n),Xr!==null&&Bu(Xr,n),ls.forEach(o),as.forEach(o);for(var l=0;l<Qr.length;l++){var f=Qr[l];f.blockedOn===n&&(f.blockedOn=null)}for(;0<Qr.length&&(l=Qr[0],l.blockedOn===null);)hg(l),l.blockedOn===null&&Qr.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var g=l[f],T=l[f+1],w=g[lt]||null;if(typeof T=="function")w||gg(l);else if(w){var k=null;if(T&&T.hasAttribute("formAction")){if(g=T,w=T[lt]||null)k=w.formAction;else if(ad(g)!==null)continue}else k=w.action;typeof k=="function"?l[f+1]=k:(l.splice(f,3),f-=3),gg(l)}}}function ud(n){this._internalRoot=n}Ou.prototype.render=ud.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(r(409));var l=o.current,f=Wn();ug(l,f,n,o,null,null)},Ou.prototype.unmount=ud.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;ug(n.current,2,null,n,null,null),Su(),o[It]=null}};function Ou(n){this._internalRoot=n}Ou.prototype.unstable_scheduleHydration=function(n){if(n){var o=zi();n={blockedOn:null,target:n,priority:o};for(var l=0;l<Qr.length&&o!==0&&o<Qr[l].priority;l++);Qr.splice(l,0,n),l===0&&hg(n)}};var yg=e.version;if(yg!=="19.1.1")throw Error(r(527,yg,"19.1.1"));Me.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=y(o),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var wT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{fe=Hu.inject(wT),Ce=Hu}catch{}}return fs.createRoot=function(n,o){if(!a(n))throw Error(r(299));var l=!1,f="",g=Ih,T=Ph,w=Uh,k=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks)),o=ag(n,1,!1,null,null,l,f,g,T,w,k,null),n[It]=o.current,Kf(n),new ud(o)},fs.hydrateRoot=function(n,o,l){if(!a(n))throw Error(r(299));var f=!1,g="",T=Ih,w=Ph,k=Uh,q=null,ee=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(q=l.unstable_transitionCallbacks),l.formState!==void 0&&(ee=l.formState)),o=ag(n,1,!0,o,l??null,f,g,T,w,k,q,ee),o.context=sg(null),l=o.current,f=Wn(),f=na(f),g=Ir(f),g.callback=null,Pr(l,g,f),l=f,o.current.lanes=l,pr(o,l),Ui(o),n[It]=o.current,Kf(n),new Ou(o)},fs.version="19.1.1",fs}var wg;function BT(){if(wg)return dd.exports;wg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dd.exports=qT(),dd.exports}var VT=BT();const OT=Es(VT);var Xu={exports:{}},HT=Xu.exports,Mg;function zT(){return Mg||(Mg=1,(function(t,e){(function(i,r){t.exports=r()})(HT,function(){var i=function(h,x){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,b){C.__proto__=b}||function(C,b){for(var A in b)Object.prototype.hasOwnProperty.call(b,A)&&(C[A]=b[A])})(h,x)},r=function(){return(r=Object.assign||function(h){for(var x,C=1,b=arguments.length;C<b;C++)for(var A in x=arguments[C])Object.prototype.hasOwnProperty.call(x,A)&&(h[A]=x[A]);return h}).apply(this,arguments)};function a(h,x,C){for(var b,A=0,N=x.length;A<N;A++)!b&&A in x||((b=b||Array.prototype.slice.call(x,0,A))[A]=x[A]);return h.concat(b||Array.prototype.slice.call(x))}var c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:RT,d=Object.keys,p=Array.isArray;function y(h,x){return typeof x!="object"||d(x).forEach(function(C){h[C]=x[C]}),h}typeof Promise>"u"||c.Promise||(c.Promise=Promise);var m=Object.getPrototypeOf,v={}.hasOwnProperty;function S(h,x){return v.call(h,x)}function E(h,x){typeof x=="function"&&(x=x(m(h))),(typeof Reflect>"u"?d:Reflect.ownKeys)(x).forEach(function(C){U(h,C,x[C])})}var M=Object.defineProperty;function U(h,x,C,b){M(h,x,y(C&&S(C,"get")&&typeof C.get=="function"?{get:C.get,set:C.set,configurable:!0}:{value:C,configurable:!0,writable:!0},b))}function B(h){return{from:function(x){return h.prototype=Object.create(x.prototype),U(h.prototype,"constructor",h),{extend:E.bind(null,h.prototype)}}}}var re=Object.getOwnPropertyDescriptor,X=[].slice;function se(h,x,C){return X.call(h,x,C)}function te(h,x){return x(h)}function Te(h){if(!h)throw new Error("Assertion Failed")}function ye(h){c.setImmediate?setImmediate(h):setTimeout(h,0)}function j(h,x){if(typeof x=="string"&&S(h,x))return h[x];if(!x)return h;if(typeof x!="string"){for(var C=[],b=0,A=x.length;b<A;++b){var N=j(h,x[b]);C.push(N)}return C}var D=x.indexOf(".");if(D!==-1){var P=h[x.substr(0,D)];return P==null?void 0:j(P,x.substr(D+1))}}function Se(h,x,C){if(h&&x!==void 0&&!("isFrozen"in Object&&Object.isFrozen(h)))if(typeof x!="string"&&"length"in x){Te(typeof C!="string"&&"length"in C);for(var b=0,A=x.length;b<A;++b)Se(h,x[b],C[b])}else{var N,D,P=x.indexOf(".");P!==-1?(N=x.substr(0,P),(D=x.substr(P+1))===""?C===void 0?p(h)&&!isNaN(parseInt(N))?h.splice(N,1):delete h[N]:h[N]=C:Se(P=!(P=h[N])||!S(h,N)?h[N]={}:P,D,C)):C===void 0?p(h)&&!isNaN(parseInt(x))?h.splice(x,1):delete h[x]:h[x]=C}}function ze(h){var x,C={};for(x in h)S(h,x)&&(C[x]=h[x]);return C}var we=[].concat;function ae(h){return we.apply([],h)}var fe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ae([8,16,32,64].map(function(h){return["Int","Uint","Float"].map(function(x){return x+h+"Array"})}))).filter(function(h){return c[h]}),ce=new Set(fe.map(function(h){return c[h]})),me=null;function Z(h){return me=new WeakMap,h=(function x(C){if(!C||typeof C!="object")return C;var b=me.get(C);if(b)return b;if(p(C)){b=[],me.set(C,b);for(var A=0,N=C.length;A<N;++A)b.push(x(C[A]))}else if(ce.has(C.constructor))b=C;else{var D,P=m(C);for(D in b=P===Object.prototype?{}:Object.create(P),me.set(C,b),C)S(C,D)&&(b[D]=x(C[D]))}return b})(h),me=null,h}var pe={}.toString;function Ee(h){return pe.call(h).slice(8,-1)}var ne=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Me=typeof ne=="symbol"?function(h){var x;return h!=null&&(x=h[ne])&&x.apply(h)}:function(){return null};function Ve(h,x){return x=h.indexOf(x),0<=x&&h.splice(x,1),0<=x}var nt={};function R(h){var x,C,b,A;if(arguments.length===1){if(p(h))return h.slice();if(this===nt&&typeof h=="string")return[h];if(A=Me(h)){for(C=[];!(b=A.next()).done;)C.push(b.value);return C}if(h==null)return[h];if(typeof(x=h.length)!="number")return[h];for(C=new Array(x);x--;)C[x]=h[x];return C}for(x=arguments.length,C=new Array(x);x--;)C[x]=arguments[x];return C}var ge=typeof Symbol<"u"?function(h){return h[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Hi=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Rn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Hi),Ue={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function I(h,x){this.name=h,this.message=x}function He(h,x){return h+". Errors: "+Object.keys(x).map(function(C){return x[C].toString()}).filter(function(C,b,A){return A.indexOf(C)===b}).join(`
`)}function tt(h,x,C,b){this.failures=x,this.failedKeys=b,this.successCount=C,this.message=He(h,x)}function Oe(h,x){this.name="BulkError",this.failures=Object.keys(x).map(function(C){return x[C]}),this.failuresByPos=x,this.message=He(h,this.failures)}B(I).from(Error).extend({toString:function(){return this.name+": "+this.message}}),B(tt).from(I),B(Oe).from(I);var qt=Rn.reduce(function(h,x){return h[x]=x+"Error",h},{}),dt=I,Be=Rn.reduce(function(h,x){var C=x+"Error";function b(A,N){this.name=C,A?typeof A=="string"?(this.message="".concat(A).concat(N?`
 `+N:""),this.inner=N||null):typeof A=="object"&&(this.message="".concat(A.name," ").concat(A.message),this.inner=A):(this.message=Ue[x]||C,this.inner=null)}return B(b).from(dt),h[x]=b,h},{});Be.Syntax=SyntaxError,Be.Type=TypeError,Be.Range=RangeError;var zn=Hi.reduce(function(h,x){return h[x+"Error"]=Be[x],h},{}),Dn=Rn.reduce(function(h,x){return["Syntax","Type","Range"].indexOf(x)===-1&&(h[x+"Error"]=Be[x]),h},{});function ht(){}function mi(h){return h}function io(h,x){return h==null||h===mi?x:function(C){return x(h(C))}}function ni(h,x){return function(){h.apply(this,arguments),x.apply(this,arguments)}}function Go(h,x){return h===ht?x:function(){var C=h.apply(this,arguments);C!==void 0&&(arguments[0]=C);var b=this.onsuccess,A=this.onerror;this.onsuccess=null,this.onerror=null;var N=x.apply(this,arguments);return b&&(this.onsuccess=this.onsuccess?ni(b,this.onsuccess):b),A&&(this.onerror=this.onerror?ni(A,this.onerror):A),N!==void 0?N:C}}function _n(h,x){return h===ht?x:function(){h.apply(this,arguments);var C=this.onsuccess,b=this.onerror;this.onsuccess=this.onerror=null,x.apply(this,arguments),C&&(this.onsuccess=this.onsuccess?ni(C,this.onsuccess):C),b&&(this.onerror=this.onerror?ni(b,this.onerror):b)}}function jl(h,x){return h===ht?x:function(C){var b=h.apply(this,arguments);y(C,b);var A=this.onsuccess,N=this.onerror;return this.onsuccess=null,this.onerror=null,C=x.apply(this,arguments),A&&(this.onsuccess=this.onsuccess?ni(A,this.onsuccess):A),N&&(this.onerror=this.onerror?ni(N,this.onerror):N),b===void 0?C===void 0?void 0:C:y(b,C)}}function ro(h,x){return h===ht?x:function(){return x.apply(this,arguments)!==!1&&h.apply(this,arguments)}}function Oi(h,x){return h===ht?x:function(){var C=h.apply(this,arguments);if(C&&typeof C.then=="function"){for(var b=this,A=arguments.length,N=new Array(A);A--;)N[A]=arguments[A];return C.then(function(){return x.apply(b,N)})}return x.apply(this,arguments)}}Dn.ModifyError=tt,Dn.DexieError=I,Dn.BulkError=Oe;var pn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Fo(h){pn=h}var Ci={},Ko=100,fe=typeof Promise>"u"?[]:(function(){var h=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[h,m(h),h];var x=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[x,m(x),h]})(),Hi=fe[0],Rn=fe[1],fe=fe[2],Rn=Rn&&Rn.then,Ce=Hi&&Hi.constructor,Ye=!!fe,Je=function(h,x){sn.push([h,x]),an&&(queueMicrotask(ia),an=!1)},gt=!0,an=!0,hn=[],tn=[],In=mi,Ht={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ht,pgp:!1,env:{},finalize:ht},Le=Ht,sn=[],nn=0,oo=[];function qe(h){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var x=this._PSD=Le;if(typeof h!="function"){if(h!==Ci)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ea(this,this._value))}this._state=null,this._value=null,++x.ref,(function C(b,A){try{A(function(N){if(b._state===null){if(N===b)throw new TypeError("A promise cannot be resolved with itself.");var D=b._lib&&zi();N&&typeof N.then=="function"?C(b,function(P,V){N instanceof qe?N._then(P,V):N.then(P,V)}):(b._state=!0,b._value=N,ta(b)),D&&hr()}},ea.bind(null,b))}catch(N){ea(b,N)}})(this,h)}var lo={get:function(){var h=Le,x=ao;function C(b,A){var N=this,D=!h.global&&(h!==Le||x!==ao),P=D&&!An(),V=new qe(function(z,K){Yo(N,new pr(_i(b,h,D,P),_i(A,h,D,P),z,K,h))});return this._consoleTask&&(V._consoleTask=this._consoleTask),V}return C.prototype=Ci,C},set:function(h){U(this,"then",h&&h.prototype===Ci?lo:{get:function(){return h},set:lo.set})}};function pr(h,x,C,b,A){this.onFulfilled=typeof h=="function"?h:null,this.onRejected=typeof x=="function"?x:null,this.resolve=C,this.reject=b,this.psd=A}function ea(h,x){var C,b;tn.push(x),h._state===null&&(C=h._lib&&zi(),x=In(x),h._state=!1,h._value=x,b=h,hn.some(function(A){return A._value===b._value})||hn.push(b),ta(h),C&&hr())}function ta(h){var x=h._listeners;h._listeners=[];for(var C=0,b=x.length;C<b;++C)Yo(h,x[C]);var A=h._PSD;--A.ref||A.finalize(),nn===0&&(++nn,Je(function(){--nn==0&&ii()},[]))}function Yo(h,x){if(h._state!==null){var C=h._state?x.onFulfilled:x.onRejected;if(C===null)return(h._state?x.resolve:x.reject)(h._value);++x.psd.ref,++nn,Je(na,[C,h,x])}else h._listeners.push(x)}function na(h,x,C){try{var b,A=x._value;!x._state&&tn.length&&(tn=[]),b=pn&&x._consoleTask?x._consoleTask.run(function(){return h(A)}):h(A),x._state||tn.indexOf(A)!==-1||(function(N){for(var D=hn.length;D;)if(hn[--D]._value===N._value)return hn.splice(D,1)})(x),C.resolve(b)}catch(N){C.reject(N)}finally{--nn==0&&ii(),--C.psd.ref||C.psd.finalize()}}function ia(){bi(Ht,function(){zi()&&hr()})}function zi(){var h=gt;return an=gt=!1,h}function hr(){var h,x,C;do for(;0<sn.length;)for(h=sn,sn=[],C=h.length,x=0;x<C;++x){var b=h[x];b[0].apply(null,b[1])}while(0<sn.length);an=gt=!0}function ii(){var h=hn;hn=[],h.forEach(function(b){b._PSD.onunhandled.call(null,b._value,b)});for(var x=oo.slice(0),C=x.length;C;)x[--C]()}function Kt(h){return new qe(Ci,!1,h)}function lt(h,x){var C=Le;return function(){var b=zi(),A=Le;try{return wt(C,!0),h.apply(this,arguments)}catch(N){x&&x(N)}finally{wt(A,!1),b&&hr()}}}E(qe.prototype,{then:lo,_then:function(h,x){Yo(this,new pr(null,null,h,x,Le))},catch:function(h){if(arguments.length===1)return this.then(null,h);var x=h,C=arguments[1];return typeof x=="function"?this.then(null,function(b){return(b instanceof x?C:Kt)(b)}):this.then(null,function(b){return(b&&b.name===x?C:Kt)(b)})},finally:function(h){return this.then(function(x){return qe.resolve(h()).then(function(){return x})},function(x){return qe.resolve(h()).then(function(){return Kt(x)})})},timeout:function(h,x){var C=this;return h<1/0?new qe(function(b,A){var N=setTimeout(function(){return A(new Be.Timeout(x))},h);C.then(b,A).finally(clearTimeout.bind(null,N))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&U(qe.prototype,Symbol.toStringTag,"Dexie.Promise"),Ht.env=oa(),E(qe,{all:function(){var h=R.apply(null,arguments).map(Ei);return new qe(function(x,C){h.length===0&&x([]);var b=h.length;h.forEach(function(A,N){return qe.resolve(A).then(function(D){h[N]=D,--b||x(h)},C)})})},resolve:function(h){return h instanceof qe?h:h&&typeof h.then=="function"?new qe(function(x,C){h.then(x,C)}):new qe(Ci,!0,h)},reject:Kt,race:function(){var h=R.apply(null,arguments).map(Ei);return new qe(function(x,C){h.map(function(b){return qe.resolve(b).then(x,C)})})},PSD:{get:function(){return Le},set:function(h){return Le=h}},totalEchoes:{get:function(){return ao}},newPSD:ri,usePSD:bi,scheduler:{get:function(){return Je},set:function(h){Je=h}},rejectionMapper:{get:function(){return In},set:function(h){In=h}},follow:function(h,x){return new qe(function(C,b){return ri(function(A,N){var D=Le;D.unhandleds=[],D.onunhandled=N,D.finalize=ni(function(){var P,V=this;P=function(){V.unhandleds.length===0?A():N(V.unhandleds[0])},oo.push(function z(){P(),oo.splice(oo.indexOf(z),1)}),++nn,Je(function(){--nn==0&&ii()},[])},D.finalize),h()},x,C,b)})}}),Ce&&(Ce.allSettled&&U(qe,"allSettled",function(){var h=R.apply(null,arguments).map(Ei);return new qe(function(x){h.length===0&&x([]);var C=h.length,b=new Array(C);h.forEach(function(A,N){return qe.resolve(A).then(function(D){return b[N]={status:"fulfilled",value:D}},function(D){return b[N]={status:"rejected",reason:D}}).then(function(){return--C||x(b)})})})}),Ce.any&&typeof AggregateError<"u"&&U(qe,"any",function(){var h=R.apply(null,arguments).map(Ei);return new qe(function(x,C){h.length===0&&C(new AggregateError([]));var b=h.length,A=new Array(b);h.forEach(function(N,D){return qe.resolve(N).then(function(P){return x(P)},function(P){A[D]=P,--b||C(new AggregateError(A))})})})}),Ce.withResolvers&&(qe.withResolvers=Ce.withResolvers));var It={awaits:0,echoes:0,id:0},ra=0,Jo=[],$o=0,ao=0,so=0;function ri(h,x,C,b){var A=Le,N=Object.create(A);return N.parent=A,N.ref=0,N.global=!1,N.id=++so,Ht.env,N.env=Ye?{Promise:qe,PromiseProp:{value:qe,configurable:!0,writable:!0},all:qe.all,race:qe.race,allSettled:qe.allSettled,any:qe.any,resolve:qe.resolve,reject:qe.reject}:{},x&&y(N,x),++A.ref,N.finalize=function(){--this.parent.ref||this.parent.finalize()},b=bi(N,h,C,b),N.ref===0&&N.finalize(),b}function Gn(){return It.id||(It.id=++ra),++It.awaits,It.echoes+=Ko,It.id}function An(){return!!It.awaits&&(--It.awaits==0&&(It.id=0),It.echoes=It.awaits*Ko,!0)}function Ei(h){return It.echoes&&h&&h.constructor===Ce?(Gn(),h.then(function(x){return An(),x},function(x){return An(),Bt(x)})):h}function mr(){var h=Jo[Jo.length-1];Jo.pop(),wt(h,!1)}function wt(h,x){var C,b=Le;(x?!It.echoes||$o++&&h===Le:!$o||--$o&&h===Le)||queueMicrotask(x?(function(A){++ao,It.echoes&&--It.echoes!=0||(It.echoes=It.awaits=It.id=0),Jo.push(Le),wt(A,!0)}).bind(null,h):mr),h!==Le&&(Le=h,b===Ht&&(Ht.env=oa()),Ye&&(C=Ht.env.Promise,x=h.env,(b.global||h.global)&&(Object.defineProperty(c,"Promise",x.PromiseProp),C.all=x.all,C.race=x.race,C.resolve=x.resolve,C.reject=x.reject,x.allSettled&&(C.allSettled=x.allSettled),x.any&&(C.any=x.any))))}function oa(){var h=c.Promise;return Ye?{Promise:h,PromiseProp:Object.getOwnPropertyDescriptor(c,"Promise"),all:h.all,race:h.race,allSettled:h.allSettled,any:h.any,resolve:h.resolve,reject:h.reject}:{}}function bi(h,x,C,b,A){var N=Le;try{return wt(h,!0),x(C,b,A)}finally{wt(N,!1)}}function _i(h,x,C,b){return typeof h!="function"?h:function(){var A=Le;C&&Gn(),wt(x,!0);try{return h.apply(this,arguments)}finally{wt(A,!1),b&&queueMicrotask(An)}}}function Ai(h){Promise===Ce&&It.echoes===0?$o===0?h():enqueueNativeMicroTask(h):setTimeout(h,0)}(""+Rn).indexOf("[native code]")===-1&&(Gn=An=ht);var Bt=qe.reject,wi="",oi="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ks="String expected.",gi=[],Gi="__dbnames",Fn="readonly",uo="readwrite";function Mi(h,x){return h?x?function(){return h.apply(this,arguments)&&x.apply(this,arguments)}:h:x}var Fi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function gr(h){return typeof h!="string"||/\./.test(h)?function(x){return x}:function(x){return x[h]===void 0&&h in x&&delete(x=Z(x))[h],x}}function Xo(){throw Be.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ut(h,x){try{var C=la(h),b=la(x);if(C!==b)return C==="Array"?1:b==="Array"?-1:C==="binary"?1:b==="binary"?-1:C==="string"?1:b==="string"?-1:C==="Date"?1:b!=="Date"?NaN:-1;switch(C){case"number":case"Date":case"string":return x<h?1:h<x?-1:0;case"binary":return(function(A,N){for(var D=A.length,P=N.length,V=D<P?D:P,z=0;z<V;++z)if(A[z]!==N[z])return A[z]<N[z]?-1:1;return D===P?0:D<P?-1:1})(wn(h),wn(x));case"Array":return(function(A,N){for(var D=A.length,P=N.length,V=D<P?D:P,z=0;z<V;++z){var K=ut(A[z],N[z]);if(K!==0)return K}return D===P?0:D<P?-1:1})(h,x)}}catch{}return NaN}function la(h){var x=typeof h;return x!="object"?x:ArrayBuffer.isView(h)?"binary":(h=Ee(h),h==="ArrayBuffer"?"binary":h)}function wn(h){return h instanceof Uint8Array?h:ArrayBuffer.isView(h)?new Uint8Array(h.buffer,h.byteOffset,h.byteLength):new Uint8Array(h)}function co(h,x,C){var b=h.schema.yProps;return b?(x&&0<C.numFailures&&(x=x.filter(function(A,N){return!C.failures[N]})),Promise.all(b.map(function(A){return A=A.updatesTable,x?h.db.table(A).where("k").anyOf(x).delete():h.db.table(A).clear()})).then(function(){return C})):C}var Ds=(St.prototype._trans=function(h,x,C){var b=this._tx||Le.trans,A=this.name,N=pn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(h==="readonly"?"read":"write"," ").concat(this.name));function D(z,K,L){if(!L.schema[A])throw new Be.NotFound("Table "+A+" not part of transaction");return x(L.idbtrans,L)}var P=zi();try{var V=b&&b.db._novip===this.db._novip?b===Le.trans?b._promise(h,D,C):ri(function(){return b._promise(h,D,C)},{trans:b,transless:Le.transless||Le}):(function z(K,L,Y,O){if(K.idbdb&&(K._state.openComplete||Le.letThrough||K._vip)){var G=K._createTransaction(L,Y,K._dbSchema);try{G.create(),K._state.PR1398_maxLoop=3}catch(F){return F.name===qt.InvalidState&&K.isOpen()&&0<--K._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),K.close({disableAutoOpen:!1}),K.open().then(function(){return z(K,L,Y,O)})):Bt(F)}return G._promise(L,function(F,J){return ri(function(){return Le.trans=G,O(F,J,G)})}).then(function(F){if(L==="readwrite")try{G.idbtrans.commit()}catch{}return L==="readonly"?F:G._completion.then(function(){return F})})}if(K._state.openComplete)return Bt(new Be.DatabaseClosed(K._state.dbOpenError));if(!K._state.isBeingOpened){if(!K._state.autoOpen)return Bt(new Be.DatabaseClosed);K.open().catch(ht)}return K._state.dbReadyPromise.then(function(){return z(K,L,Y,O)})})(this.db,h,[this.name],D);return N&&(V._consoleTask=N,V=V.catch(function(z){return console.trace(z),Bt(z)})),V}finally{P&&hr()}},St.prototype.get=function(h,x){var C=this;return h&&h.constructor===Object?this.where(h).first(x):h==null?Bt(new Be.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return C.core.get({trans:b,key:h}).then(function(A){return C.hook.reading.fire(A)})}).then(x)},St.prototype.where=function(h){if(typeof h=="string")return new this.db.WhereClause(this,h);if(p(h))return new this.db.WhereClause(this,"[".concat(h.join("+"),"]"));var x=d(h);if(x.length===1)return this.where(x[0]).equals(h[x[0]]);var C=this.schema.indexes.concat(this.schema.primKey).filter(function(P){if(P.compound&&x.every(function(z){return 0<=P.keyPath.indexOf(z)})){for(var V=0;V<x.length;++V)if(x.indexOf(P.keyPath[V])===-1)return!1;return!0}return!1}).sort(function(P,V){return P.keyPath.length-V.keyPath.length})[0];if(C&&this.db._maxKey!==wi){var N=C.keyPath.slice(0,x.length);return this.where(N).equals(N.map(function(V){return h[V]}))}!C&&pn&&console.warn("The query ".concat(JSON.stringify(h)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(x.join("+"),"]"));var b=this.schema.idxByName;function A(P,V){return ut(P,V)===0}var D=x.reduce(function(L,V){var z=L[0],K=L[1],L=b[V],Y=h[V];return[z||L,z||!L?Mi(K,L&&L.multi?function(O){return O=j(O,V),p(O)&&O.some(function(G){return A(Y,G)})}:function(O){return A(Y,j(O,V))}):K]},[null,null]),N=D[0],D=D[1];return N?this.where(N.name).equals(h[N.keyPath]).filter(D):C?this.filter(D):this.where(x).equals("")},St.prototype.filter=function(h){return this.toCollection().and(h)},St.prototype.count=function(h){return this.toCollection().count(h)},St.prototype.offset=function(h){return this.toCollection().offset(h)},St.prototype.limit=function(h){return this.toCollection().limit(h)},St.prototype.each=function(h){return this.toCollection().each(h)},St.prototype.toArray=function(h){return this.toCollection().toArray(h)},St.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},St.prototype.orderBy=function(h){return new this.db.Collection(new this.db.WhereClause(this,p(h)?"[".concat(h.join("+"),"]"):h))},St.prototype.reverse=function(){return this.toCollection().reverse()},St.prototype.mapToClass=function(h){var x,C=this.db,b=this.name;function A(){return x!==null&&x.apply(this,arguments)||this}(this.schema.mappedClass=h).prototype instanceof Xo&&((function(V,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");function K(){this.constructor=V}i(V,z),V.prototype=z===null?Object.create(z):(K.prototype=z.prototype,new K)})(A,x=h),Object.defineProperty(A.prototype,"db",{get:function(){return C},enumerable:!1,configurable:!0}),A.prototype.table=function(){return b},h=A);for(var N=new Set,D=h.prototype;D;D=m(D))Object.getOwnPropertyNames(D).forEach(function(V){return N.add(V)});function P(V){if(!V)return V;var z,K=Object.create(h.prototype);for(z in V)if(!N.has(z))try{K[z]=V[z]}catch{}return K}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=P,this.hook("reading",P),h},St.prototype.defineClass=function(){return this.mapToClass(function(h){y(this,h)})},St.prototype.add=function(h,x){var C=this,b=this.schema.primKey,A=b.auto,N=b.keyPath,D=h;return N&&A&&(D=gr(N)(h)),this._trans("readwrite",function(P){return C.core.mutate({trans:P,type:"add",keys:x!=null?[x]:null,values:[D]})}).then(function(P){return P.numFailures?qe.reject(P.failures[0]):P.lastResult}).then(function(P){if(N)try{Se(h,N,P)}catch{}return P})},St.prototype.update=function(h,x){return typeof h!="object"||p(h)?this.where(":id").equals(h).modify(x):(h=j(h,this.schema.primKey.keyPath),h===void 0?Bt(new Be.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(h).modify(x))},St.prototype.put=function(h,x){var C=this,b=this.schema.primKey,A=b.auto,N=b.keyPath,D=h;return N&&A&&(D=gr(N)(h)),this._trans("readwrite",function(P){return C.core.mutate({trans:P,type:"put",values:[D],keys:x!=null?[x]:null})}).then(function(P){return P.numFailures?qe.reject(P.failures[0]):P.lastResult}).then(function(P){if(N)try{Se(h,N,P)}catch{}return P})},St.prototype.delete=function(h){var x=this;return this._trans("readwrite",function(C){return x.core.mutate({trans:C,type:"delete",keys:[h]}).then(function(b){return co(x,[h],b)}).then(function(b){return b.numFailures?qe.reject(b.failures[0]):void 0})})},St.prototype.clear=function(){var h=this;return this._trans("readwrite",function(x){return h.core.mutate({trans:x,type:"deleteRange",range:Fi}).then(function(C){return co(h,null,C)})}).then(function(x){return x.numFailures?qe.reject(x.failures[0]):void 0})},St.prototype.bulkGet=function(h){var x=this;return this._trans("readonly",function(C){return x.core.getMany({keys:h,trans:C}).then(function(b){return b.map(function(A){return x.hook.reading.fire(A)})})})},St.prototype.bulkAdd=function(h,x,C){var b=this,A=Array.isArray(x)?x:void 0,N=(C=C||(A?void 0:x))?C.allKeys:void 0;return this._trans("readwrite",function(D){var z=b.schema.primKey,P=z.auto,z=z.keyPath;if(z&&A)throw new Be.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(A&&A.length!==h.length)throw new Be.InvalidArgument("Arguments objects and keys must have the same length");var V=h.length,z=z&&P?h.map(gr(z)):h;return b.core.mutate({trans:D,type:"add",keys:A,values:z,wantResults:N}).then(function(G){var L=G.numFailures,Y=G.results,O=G.lastResult,G=G.failures;if(L===0)return N?Y:O;throw new Oe("".concat(b.name,".bulkAdd(): ").concat(L," of ").concat(V," operations failed"),G)})})},St.prototype.bulkPut=function(h,x,C){var b=this,A=Array.isArray(x)?x:void 0,N=(C=C||(A?void 0:x))?C.allKeys:void 0;return this._trans("readwrite",function(D){var z=b.schema.primKey,P=z.auto,z=z.keyPath;if(z&&A)throw new Be.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(A&&A.length!==h.length)throw new Be.InvalidArgument("Arguments objects and keys must have the same length");var V=h.length,z=z&&P?h.map(gr(z)):h;return b.core.mutate({trans:D,type:"put",keys:A,values:z,wantResults:N}).then(function(G){var L=G.numFailures,Y=G.results,O=G.lastResult,G=G.failures;if(L===0)return N?Y:O;throw new Oe("".concat(b.name,".bulkPut(): ").concat(L," of ").concat(V," operations failed"),G)})})},St.prototype.bulkUpdate=function(h){var x=this,C=this.core,b=h.map(function(D){return D.key}),A=h.map(function(D){return D.changes}),N=[];return this._trans("readwrite",function(D){return C.getMany({trans:D,keys:b,cache:"clone"}).then(function(P){var V=[],z=[];h.forEach(function(L,Y){var O=L.key,G=L.changes,F=P[Y];if(F){for(var J=0,Q=Object.keys(G);J<Q.length;J++){var le=Q[J],ue=G[le];if(le===x.schema.primKey.keyPath){if(ut(ue,O)!==0)throw new Be.Constraint("Cannot update primary key in bulkUpdate()")}else Se(F,le,ue)}N.push(Y),V.push(O),z.push(F)}});var K=V.length;return C.mutate({trans:D,type:"put",keys:V,values:z,updates:{keys:b,changeSpecs:A}}).then(function(L){var Y=L.numFailures,O=L.failures;if(Y===0)return K;for(var G=0,F=Object.keys(O);G<F.length;G++){var J,Q=F[G],le=N[Number(Q)];le!=null&&(J=O[Q],delete O[Q],O[le]=J)}throw new Oe("".concat(x.name,".bulkUpdate(): ").concat(Y," of ").concat(K," operations failed"),O)})})})},St.prototype.bulkDelete=function(h){var x=this,C=h.length;return this._trans("readwrite",function(b){return x.core.mutate({trans:b,type:"delete",keys:h}).then(function(A){return co(x,h,A)})}).then(function(D){var A=D.numFailures,N=D.lastResult,D=D.failures;if(A===0)return N;throw new Oe("".concat(x.name,".bulkDelete(): ").concat(A," of ").concat(C," operations failed"),D)})},St);function St(){}function yr(h){function x(D,P){if(P){for(var V=arguments.length,z=new Array(V-1);--V;)z[V-1]=arguments[V];return C[D].subscribe.apply(null,z),h}if(typeof D=="string")return C[D]}var C={};x.addEventType=N;for(var b=1,A=arguments.length;b<A;++b)N(arguments[b]);return x;function N(D,P,V){if(typeof D!="object"){var z;P=P||ro;var K={subscribers:[],fire:V=V||ht,subscribe:function(L){K.subscribers.indexOf(L)===-1&&(K.subscribers.push(L),K.fire=P(K.fire,L))},unsubscribe:function(L){K.subscribers=K.subscribers.filter(function(Y){return Y!==L}),K.fire=K.subscribers.reduce(P,V)}};return C[D]=x[D]=K}d(z=D).forEach(function(L){var Y=z[L];if(p(Y))N(L,z[L][0],z[L][1]);else{if(Y!=="asap")throw new Be.InvalidArgument("Invalid event config");var O=N(L,mi,function(){for(var G=arguments.length,F=new Array(G);G--;)F[G]=arguments[G];O.subscribers.forEach(function(J){ye(function(){J.apply(null,F)})})})}})}}function Ri(h,x){return B(x).from({prototype:h}),x}function vr(h,x){return!(h.filter||h.algorithm||h.or)&&(x?h.justLimit:!h.replayFilter)}function vn(h,x){h.filter=Mi(h.filter,x)}function fo(h,x,C){var b=h.replayFilter;h.replayFilter=b?function(){return Mi(b(),x())}:x,h.justLimit=C&&!b}function po(h,x){if(h.isPrimKey)return x.primaryKey;var C=x.getIndexByKeyPath(h.index);if(!C)throw new Be.Schema("KeyPath "+h.index+" on object store "+x.name+" is not indexed");return C}function Qo(h,x,C){var b=po(h,x.schema);return x.openCursor({trans:C,values:!h.keysOnly,reverse:h.dir==="prev",unique:!!h.unique,query:{index:b,range:h.range}})}function yi(h,x,C,b){var A=h.replayFilter?Mi(h.filter,h.replayFilter()):h.filter;if(h.or){var N={},D=function(P,V,z){var K,L;A&&!A(V,z,function(Y){return V.stop(Y)},function(Y){return V.fail(Y)})||((L=""+(K=V.primaryKey))=="[object ArrayBuffer]"&&(L=""+new Uint8Array(K)),S(N,L)||(N[L]=!0,x(P,V,z)))};return Promise.all([h.or._iterate(D,C),aa(Qo(h,b,C),h.algorithm,D,!h.keysOnly&&h.valueMapper)])}return aa(Qo(h,b,C),Mi(h.algorithm,A),x,!h.keysOnly&&h.valueMapper)}function aa(h,x,C,b){var A=lt(b?function(N,D,P){return C(b(N),D,P)}:C);return h.then(function(N){if(N)return N.start(function(){var D=function(){return N.continue()};x&&!x(N,function(P){return D=P},function(P){N.stop(P),D=ht},function(P){N.fail(P),D=ht})||A(N.value,N,function(P){return D=P}),D()})})}var xr=(Ki.prototype.execute=function(h){var x=this["@@propmod"];if(x.add!==void 0){var C=x.add;if(p(C))return a(a([],p(h)?h:[],!0),C).sort();if(typeof C=="number")return(Number(h)||0)+C;if(typeof C=="bigint")try{return BigInt(h)+C}catch{return BigInt(0)+C}throw new TypeError("Invalid term ".concat(C))}if(x.remove!==void 0){var b=x.remove;if(p(b))return p(h)?h.filter(function(A){return!b.includes(A)}).sort():[];if(typeof b=="number")return Number(h)-b;if(typeof b=="bigint")try{return BigInt(h)-b}catch{return BigInt(0)-b}throw new TypeError("Invalid subtrahend ".concat(b))}return C=(C=x.replacePrefix)===null||C===void 0?void 0:C[0],C&&typeof h=="string"&&h.startsWith(C)?x.replacePrefix[1]+h.substring(C.length):h},Ki);function Ki(h){this["@@propmod"]=h}var Ec=(pt.prototype._read=function(h,x){var C=this._ctx;return C.error?C.table._trans(null,Bt.bind(null,C.error)):C.table._trans("readonly",h).then(x)},pt.prototype._write=function(h){var x=this._ctx;return x.error?x.table._trans(null,Bt.bind(null,x.error)):x.table._trans("readwrite",h,"locked")},pt.prototype._addAlgorithm=function(h){var x=this._ctx;x.algorithm=Mi(x.algorithm,h)},pt.prototype._iterate=function(h,x){return yi(this._ctx,h,x,this._ctx.table.core)},pt.prototype.clone=function(h){var x=Object.create(this.constructor.prototype),C=Object.create(this._ctx);return h&&y(C,h),x._ctx=C,x},pt.prototype.raw=function(){return this._ctx.valueMapper=null,this},pt.prototype.each=function(h){var x=this._ctx;return this._read(function(C){return yi(x,h,C,x.table.core)})},pt.prototype.count=function(h){var x=this;return this._read(function(C){var b=x._ctx,A=b.table.core;if(vr(b,!0))return A.count({trans:C,query:{index:po(b,A.schema),range:b.range}}).then(function(D){return Math.min(D,b.limit)});var N=0;return yi(b,function(){return++N,!1},C,A).then(function(){return N})}).then(h)},pt.prototype.sortBy=function(h,x){var C=h.split(".").reverse(),b=C[0],A=C.length-1;function N(V,z){return z?N(V[C[z]],z-1):V[b]}var D=this._ctx.dir==="next"?1:-1;function P(V,z){return ut(N(V,A),N(z,A))*D}return this.toArray(function(V){return V.sort(P)}).then(x)},pt.prototype.toArray=function(h){var x=this;return this._read(function(C){var b=x._ctx;if(b.dir==="next"&&vr(b,!0)&&0<b.limit){var A=b.valueMapper,N=po(b,b.table.core.schema);return b.table.core.query({trans:C,limit:b.limit,values:!0,query:{index:N,range:b.range}}).then(function(P){return P=P.result,A?P.map(A):P})}var D=[];return yi(b,function(P){return D.push(P)},C,b.table.core).then(function(){return D})},h)},pt.prototype.offset=function(h){var x=this._ctx;return h<=0||(x.offset+=h,vr(x)?fo(x,function(){var C=h;return function(b,A){return C===0||(C===1?--C:A(function(){b.advance(C),C=0}),!1)}}):fo(x,function(){var C=h;return function(){return--C<0}})),this},pt.prototype.limit=function(h){return this._ctx.limit=Math.min(this._ctx.limit,h),fo(this._ctx,function(){var x=h;return function(C,b,A){return--x<=0&&b(A),0<=x}},!0),this},pt.prototype.until=function(h,x){return vn(this._ctx,function(C,b,A){return!h(C.value)||(b(A),x)}),this},pt.prototype.first=function(h){return this.limit(1).toArray(function(x){return x[0]}).then(h)},pt.prototype.last=function(h){return this.reverse().first(h)},pt.prototype.filter=function(h){var x;return vn(this._ctx,function(C){return h(C.value)}),(x=this._ctx).isMatch=Mi(x.isMatch,h),this},pt.prototype.and=function(h){return this.filter(h)},pt.prototype.or=function(h){return new this.db.WhereClause(this._ctx.table,h,this)},pt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},pt.prototype.desc=function(){return this.reverse()},pt.prototype.eachKey=function(h){var x=this._ctx;return x.keysOnly=!x.isMatch,this.each(function(C,b){h(b.key,b)})},pt.prototype.eachUniqueKey=function(h){return this._ctx.unique="unique",this.eachKey(h)},pt.prototype.eachPrimaryKey=function(h){var x=this._ctx;return x.keysOnly=!x.isMatch,this.each(function(C,b){h(b.primaryKey,b)})},pt.prototype.keys=function(h){var x=this._ctx;x.keysOnly=!x.isMatch;var C=[];return this.each(function(b,A){C.push(A.key)}).then(function(){return C}).then(h)},pt.prototype.primaryKeys=function(h){var x=this._ctx;if(x.dir==="next"&&vr(x,!0)&&0<x.limit)return this._read(function(b){var A=po(x,x.table.core.schema);return x.table.core.query({trans:b,values:!1,limit:x.limit,query:{index:A,range:x.range}})}).then(function(b){return b.result}).then(h);x.keysOnly=!x.isMatch;var C=[];return this.each(function(b,A){C.push(A.primaryKey)}).then(function(){return C}).then(h)},pt.prototype.uniqueKeys=function(h){return this._ctx.unique="unique",this.keys(h)},pt.prototype.firstKey=function(h){return this.limit(1).keys(function(x){return x[0]}).then(h)},pt.prototype.lastKey=function(h){return this.reverse().firstKey(h)},pt.prototype.distinct=function(){var h=this._ctx,h=h.index&&h.table.schema.idxByName[h.index];if(!h||!h.multi)return this;var x={};return vn(this._ctx,function(A){var b=A.primaryKey.toString(),A=S(x,b);return x[b]=!0,!A}),this},pt.prototype.modify=function(h){var x=this,C=this._ctx;return this._write(function(b){var A,N,D;D=typeof h=="function"?h:(A=d(h),N=A.length,function(Q){for(var le=!1,ue=0;ue<N;++ue){var de=A[ue],be=h[de],ke=j(Q,de);be instanceof xr?(Se(Q,de,be.execute(ke)),le=!0):ke!==be&&(Se(Q,de,be),le=!0)}return le});var P=C.table.core,L=P.schema.primaryKey,V=L.outbound,z=L.extractKey,K=200,L=x.db._options.modifyChunkSize;L&&(K=typeof L=="object"?L[P.name]||L["*"]||200:L);function Y(Q,de){var ue=de.failures,de=de.numFailures;G+=Q-de;for(var be=0,ke=d(ue);be<ke.length;be++){var _e=ke[be];O.push(ue[_e])}}var O=[],G=0,F=[],J=h===sa;return x.clone().primaryKeys().then(function(Q){function le(de){var be=Math.min(K,Q.length-de),ke=Q.slice(de,de+be);return(J?Promise.resolve([]):P.getMany({trans:b,keys:ke,cache:"immutable"})).then(function(_e){var Ae=[],Ne=[],Pe=V?[]:null,De=J?ke:[];if(!J)for(var $e=0;$e<be;++$e){var it=_e[$e],We={value:Z(it),primKey:Q[de+$e]};D.call(We,We.value,We)!==!1&&(We.value==null?De.push(Q[de+$e]):V||ut(z(it),z(We.value))===0?(Ne.push(We.value),V&&Pe.push(Q[de+$e])):(De.push(Q[de+$e]),Ae.push(We.value)))}return Promise.resolve(0<Ae.length&&P.mutate({trans:b,type:"add",values:Ae}).then(function(Mt){for(var Qe in Mt.failures)De.splice(parseInt(Qe),1);Y(Ae.length,Mt)})).then(function(){return(0<Ne.length||ue&&typeof h=="object")&&P.mutate({trans:b,type:"put",keys:Pe,values:Ne,criteria:ue,changeSpec:typeof h!="function"&&h,isAdditionalChunk:0<de}).then(function(Mt){return Y(Ne.length,Mt)})}).then(function(){return(0<De.length||ue&&J)&&P.mutate({trans:b,type:"delete",keys:De,criteria:ue,isAdditionalChunk:0<de}).then(function(Mt){return co(C.table,De,Mt)}).then(function(Mt){return Y(De.length,Mt)})}).then(function(){return Q.length>de+be&&le(de+K)})})}var ue=vr(C)&&C.limit===1/0&&(typeof h!="function"||J)&&{index:C.index,range:C.range};return le(0).then(function(){if(0<O.length)throw new tt("Error modifying one or more objects",O,G,F);return Q.length})})})},pt.prototype.delete=function(){var h=this._ctx,x=h.range;return!vr(h)||h.table.schema.yProps||!h.isPrimKey&&x.type!==3?this.modify(sa):this._write(function(C){var b=h.table.core.schema.primaryKey,A=x;return h.table.core.count({trans:C,query:{index:b,range:A}}).then(function(N){return h.table.core.mutate({trans:C,type:"deleteRange",range:A}).then(function(V){var P=V.failures,V=V.numFailures;if(V)throw new tt("Could not delete some values",Object.keys(P).map(function(z){return P[z]}),N-V);return N-V})})})},pt);function pt(){}var sa=function(h,x){return x.value=null};function ua(h,x){return h<x?-1:h===x?0:1}function bc(h,x){return x<h?-1:h===x?0:1}function Mn(h,x,C){return h=h instanceof Ji?new h.Collection(h):h,h._ctx.error=new(C||TypeError)(x),h}function vi(h){return new h.Collection(h,function(){return Yi("")}).limit(0)}function Tr(h,x,C,b){var A,N,D,P,V,z,K,L=C.length;if(!C.every(function(G){return typeof G=="string"}))return Mn(h,ks);function Y(G){A=G==="next"?function(J){return J.toUpperCase()}:function(J){return J.toLowerCase()},N=G==="next"?function(J){return J.toLowerCase()}:function(J){return J.toUpperCase()},D=G==="next"?ua:bc;var F=C.map(function(J){return{lower:N(J),upper:A(J)}}).sort(function(J,Q){return D(J.lower,Q.lower)});P=F.map(function(J){return J.upper}),V=F.map(function(J){return J.lower}),K=(z=G)==="next"?"":b}Y("next"),h=new h.Collection(h,function(){return li(P[0],V[L-1]+b)}),h._ondirectionchange=function(G){Y(G)};var O=0;return h._addAlgorithm(function(G,F,J){var Q=G.key;if(typeof Q!="string")return!1;var le=N(Q);if(x(le,V,O))return!0;for(var ue=null,de=O;de<L;++de){var be=(function(ke,_e,Ae,Ne,Pe,De){for(var $e=Math.min(ke.length,Ne.length),it=-1,We=0;We<$e;++We){var Mt=_e[We];if(Mt!==Ne[We])return Pe(ke[We],Ae[We])<0?ke.substr(0,We)+Ae[We]+Ae.substr(We+1):Pe(ke[We],Ne[We])<0?ke.substr(0,We)+Ne[We]+Ae.substr(We+1):0<=it?ke.substr(0,it)+_e[it]+Ae.substr(it+1):null;Pe(ke[We],Mt)<0&&(it=We)}return $e<Ne.length&&De==="next"?ke+Ae.substr(ke.length):$e<ke.length&&De==="prev"?ke.substr(0,Ae.length):it<0?null:ke.substr(0,it)+Ne[it]+Ae.substr(it+1)})(Q,le,P[de],V[de],D,z);be===null&&ue===null?O=de+1:(ue===null||0<D(ue,be))&&(ue=be)}return F(ue!==null?function(){G.continue(ue+K)}:J),!1}),h}function li(h,x,C,b){return{type:2,lower:h,upper:x,lowerOpen:C,upperOpen:b}}function Yi(h){return{type:1,lower:h,upper:h}}var Ji=(Object.defineProperty(Yt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Yt.prototype.between=function(h,x,C,b){C=C!==!1,b=b===!0;try{return 0<this._cmp(h,x)||this._cmp(h,x)===0&&(C||b)&&(!C||!b)?vi(this):new this.Collection(this,function(){return li(h,x,!C,!b)})}catch{return Mn(this,oi)}},Yt.prototype.equals=function(h){return h==null?Mn(this,oi):new this.Collection(this,function(){return Yi(h)})},Yt.prototype.above=function(h){return h==null?Mn(this,oi):new this.Collection(this,function(){return li(h,void 0,!0)})},Yt.prototype.aboveOrEqual=function(h){return h==null?Mn(this,oi):new this.Collection(this,function(){return li(h,void 0,!1)})},Yt.prototype.below=function(h){return h==null?Mn(this,oi):new this.Collection(this,function(){return li(void 0,h,!1,!0)})},Yt.prototype.belowOrEqual=function(h){return h==null?Mn(this,oi):new this.Collection(this,function(){return li(void 0,h)})},Yt.prototype.startsWith=function(h){return typeof h!="string"?Mn(this,ks):this.between(h,h+wi,!0,!0)},Yt.prototype.startsWithIgnoreCase=function(h){return h===""?this.startsWith(h):Tr(this,function(x,C){return x.indexOf(C[0])===0},[h],wi)},Yt.prototype.equalsIgnoreCase=function(h){return Tr(this,function(x,C){return x===C[0]},[h],"")},Yt.prototype.anyOfIgnoreCase=function(){var h=R.apply(nt,arguments);return h.length===0?vi(this):Tr(this,function(x,C){return C.indexOf(x)!==-1},h,"")},Yt.prototype.startsWithAnyOfIgnoreCase=function(){var h=R.apply(nt,arguments);return h.length===0?vi(this):Tr(this,function(x,C){return C.some(function(b){return x.indexOf(b)===0})},h,wi)},Yt.prototype.anyOf=function(){var h=this,x=R.apply(nt,arguments),C=this._cmp;try{x.sort(C)}catch{return Mn(this,oi)}if(x.length===0)return vi(this);var b=new this.Collection(this,function(){return li(x[0],x[x.length-1])});b._ondirectionchange=function(N){C=N==="next"?h._ascending:h._descending,x.sort(C)};var A=0;return b._addAlgorithm(function(N,D,P){for(var V=N.key;0<C(V,x[A]);)if(++A===x.length)return D(P),!1;return C(V,x[A])===0||(D(function(){N.continue(x[A])}),!1)}),b},Yt.prototype.notEqual=function(h){return this.inAnyRange([[-1/0,h],[h,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Yt.prototype.noneOf=function(){var h=R.apply(nt,arguments);if(h.length===0)return new this.Collection(this);try{h.sort(this._ascending)}catch{return Mn(this,oi)}var x=h.reduce(function(C,b){return C?C.concat([[C[C.length-1][1],b]]):[[-1/0,b]]},null);return x.push([h[h.length-1],this.db._maxKey]),this.inAnyRange(x,{includeLowers:!1,includeUppers:!1})},Yt.prototype.inAnyRange=function(Q,x){var C=this,b=this._cmp,A=this._ascending,N=this._descending,D=this._min,P=this._max;if(Q.length===0)return vi(this);if(!Q.every(function(le){return le[0]!==void 0&&le[1]!==void 0&&A(le[0],le[1])<=0}))return Mn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Be.InvalidArgument);var V=!x||x.includeLowers!==!1,z=x&&x.includeUppers===!0,K,L=A;function Y(le,ue){return L(le[0],ue[0])}try{(K=Q.reduce(function(le,ue){for(var de=0,be=le.length;de<be;++de){var ke=le[de];if(b(ue[0],ke[1])<0&&0<b(ue[1],ke[0])){ke[0]=D(ke[0],ue[0]),ke[1]=P(ke[1],ue[1]);break}}return de===be&&le.push(ue),le},[])).sort(Y)}catch{return Mn(this,oi)}var O=0,G=z?function(le){return 0<A(le,K[O][1])}:function(le){return 0<=A(le,K[O][1])},F=V?function(le){return 0<N(le,K[O][0])}:function(le){return 0<=N(le,K[O][0])},J=G,Q=new this.Collection(this,function(){return li(K[0][0],K[K.length-1][1],!V,!z)});return Q._ondirectionchange=function(le){L=le==="next"?(J=G,A):(J=F,N),K.sort(Y)},Q._addAlgorithm(function(le,ue,de){for(var be,ke=le.key;J(ke);)if(++O===K.length)return ue(de),!1;return!G(be=ke)&&!F(be)||(C._cmp(ke,K[O][1])===0||C._cmp(ke,K[O][0])===0||ue(function(){L===A?le.continue(K[O][0]):le.continue(K[O][1])}),!1)}),Q},Yt.prototype.startsWithAnyOf=function(){var h=R.apply(nt,arguments);return h.every(function(x){return typeof x=="string"})?h.length===0?vi(this):this.inAnyRange(h.map(function(x){return[x,x+wi]})):Mn(this,"startsWithAnyOf() only works with strings")},Yt);function Yt(){}function Pn(h){return lt(function(x){return Sr(x),h(x.target.error),!1})}function Sr(h){h.stopPropagation&&h.stopPropagation(),h.preventDefault&&h.preventDefault()}var xi="storagemutated",Kn="x-storagemutated-1",ai=yr(null,xi),ho=(rn.prototype._lock=function(){return Te(!Le.global),++this._reculock,this._reculock!==1||Le.global||(Le.lockOwnerFor=this),this},rn.prototype._unlock=function(){if(Te(!Le.global),--this._reculock==0)for(Le.global||(Le.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var h=this._blockedFuncs.shift();try{bi(h[1],h[0])}catch{}}return this},rn.prototype._locked=function(){return this._reculock&&Le.lockOwnerFor!==this},rn.prototype.create=function(h){var x=this;if(!this.mode)return this;var C=this.db.idbdb,b=this.db._state.dbOpenError;if(Te(!this.idbtrans),!h&&!C)switch(b&&b.name){case"DatabaseClosedError":throw new Be.DatabaseClosed(b);case"MissingAPIError":throw new Be.MissingAPI(b.message,b);default:throw new Be.OpenFailed(b)}if(!this.active)throw new Be.TransactionInactive;return Te(this._completion._state===null),(h=this.idbtrans=h||(this.db.core||C).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=lt(function(A){Sr(A),x._reject(h.error)}),h.onabort=lt(function(A){Sr(A),x.active&&x._reject(new Be.Abort(h.error)),x.active=!1,x.on("abort").fire(A)}),h.oncomplete=lt(function(){x.active=!1,x._resolve(),"mutatedParts"in h&&ai.storagemutated.fire(h.mutatedParts)}),this},rn.prototype._promise=function(h,x,C){var b=this;if(h==="readwrite"&&this.mode!=="readwrite")return Bt(new Be.ReadOnly("Transaction is readonly"));if(!this.active)return Bt(new Be.TransactionInactive);if(this._locked())return new qe(function(N,D){b._blockedFuncs.push([function(){b._promise(h,x,C).then(N,D)},Le])});if(C)return ri(function(){var N=new qe(function(D,P){b._lock();var V=x(D,P,b);V&&V.then&&V.then(D,P)});return N.finally(function(){return b._unlock()}),N._lib=!0,N});var A=new qe(function(N,D){var P=x(N,D,b);P&&P.then&&P.then(N,D)});return A._lib=!0,A},rn.prototype._root=function(){return this.parent?this.parent._root():this},rn.prototype.waitFor=function(h){var x,C=this._root(),b=qe.resolve(h);C._waitingFor?C._waitingFor=C._waitingFor.then(function(){return b}):(C._waitingFor=b,C._waitingQueue=[],x=C.idbtrans.objectStore(C.storeNames[0]),(function N(){for(++C._spinCount;C._waitingQueue.length;)C._waitingQueue.shift()();C._waitingFor&&(x.get(-1/0).onsuccess=N)})());var A=C._waitingFor;return new qe(function(N,D){b.then(function(P){return C._waitingQueue.push(lt(N.bind(null,P)))},function(P){return C._waitingQueue.push(lt(D.bind(null,P)))}).finally(function(){C._waitingFor===A&&(C._waitingFor=null)})})},rn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Be.Abort))},rn.prototype.table=function(h){var x=this._memoizedTables||(this._memoizedTables={});if(S(x,h))return x[h];var C=this.schema[h];if(!C)throw new Be.NotFound("Table "+h+" not part of transaction");return C=new this.db.Table(h,C,this),C.core=this.db.core.table(h),x[h]=C},rn);function rn(){}function mo(h,x,C,b,A,N,D,P){return{name:h,keyPath:x,unique:C,multi:b,auto:A,compound:N,src:(C&&!D?"&":"")+(b?"*":"")+(A?"++":"")+go(x),type:P}}function go(h){return typeof h=="string"?h:h?"["+[].join.call(h,"+")+"]":""}function Zo(h,x,C){return{name:h,primKey:x,indexes:C,mappedClass:null,idxByName:(b=function(A){return[A.name,A]},C.reduce(function(A,N,D){return D=b(N,D),D&&(A[D[0]]=D[1]),A},{}))};var b}var Ni=function(h){try{return h.only([[]]),Ni=function(){return[[]]},[[]]}catch{return Ni=function(){return wi},wi}};function Cr(h){return h==null?function(){}:typeof h=="string"?(x=h).split(".").length===1?function(C){return C[x]}:function(C){return j(C,x)}:function(C){return j(C,h)};var x}function ca(h){return[].slice.call(h)}var xn=0;function Yn(h){return h==null?":id":typeof h=="string"?h:"[".concat(h.join("+"),"]")}function Wo(h,x,V){function b(J){if(J.type===3)return null;if(J.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var O=J.lower,G=J.upper,F=J.lowerOpen,J=J.upperOpen;return O===void 0?G===void 0?null:x.upperBound(G,!!J):G===void 0?x.lowerBound(O,!!F):x.bound(O,G,!!F,!!J)}function A(Y){var O,G=Y.name;return{name:G,schema:Y,mutate:function(F){var J=F.trans,Q=F.type,le=F.keys,ue=F.values,de=F.range;return new Promise(function(be,ke){be=lt(be);var _e=J.objectStore(G),Ae=_e.keyPath==null,Ne=Q==="put"||Q==="add";if(!Ne&&Q!=="delete"&&Q!=="deleteRange")throw new Error("Invalid operation type: "+Q);var Pe,De=(le||ue||{length:1}).length;if(le&&ue&&le.length!==ue.length)throw new Error("Given keys array must have same length as given values array.");if(De===0)return be({numFailures:0,failures:{},results:[],lastResult:void 0});function $e(Zt){++Mt,Sr(Zt)}var it=[],We=[],Mt=0;if(Q==="deleteRange"){if(de.type===4)return be({numFailures:Mt,failures:We,results:[],lastResult:void 0});de.type===3?it.push(Pe=_e.clear()):it.push(Pe=_e.delete(b(de)))}else{var Ae=Ne?Ae?[ue,le]:[ue,null]:[le,null],Qe=Ae[0],Qt=Ae[1];if(Ne)for(var Vt=0;Vt<De;++Vt)it.push(Pe=Qt&&Qt[Vt]!==void 0?_e[Q](Qe[Vt],Qt[Vt]):_e[Q](Qe[Vt])),Pe.onerror=$e;else for(Vt=0;Vt<De;++Vt)it.push(Pe=_e[Q](Qe[Vt])),Pe.onerror=$e}function Eo(Zt){Zt=Zt.target.result,it.forEach(function(Un,Aa){return Un.error!=null&&(We[Aa]=Un.error)}),be({numFailures:Mt,failures:We,results:Q==="delete"?le:it.map(function(Un){return Un.result}),lastResult:Zt})}Pe.onerror=function(Zt){$e(Zt),Eo(Zt)},Pe.onsuccess=Eo})},getMany:function(F){var J=F.trans,Q=F.keys;return new Promise(function(le,ue){le=lt(le);for(var de,be=J.objectStore(G),ke=Q.length,_e=new Array(ke),Ae=0,Ne=0,Pe=function(it){it=it.target,_e[it._pos]=it.result,++Ne===Ae&&le(_e)},De=Pn(ue),$e=0;$e<ke;++$e)Q[$e]!=null&&((de=be.get(Q[$e]))._pos=$e,de.onsuccess=Pe,de.onerror=De,++Ae);Ae===0&&le(_e)})},get:function(F){var J=F.trans,Q=F.key;return new Promise(function(le,ue){le=lt(le);var de=J.objectStore(G).get(Q);de.onsuccess=function(be){return le(be.target.result)},de.onerror=Pn(ue)})},query:(O=z,function(F){return new Promise(function(J,Q){J=lt(J);var le,ue,de,Ae=F.trans,be=F.values,ke=F.limit,Pe=F.query,_e=ke===1/0?void 0:ke,Ne=Pe.index,Pe=Pe.range,Ae=Ae.objectStore(G),Ne=Ne.isPrimaryKey?Ae:Ae.index(Ne.name),Pe=b(Pe);if(ke===0)return J({result:[]});O?((_e=be?Ne.getAll(Pe,_e):Ne.getAllKeys(Pe,_e)).onsuccess=function(De){return J({result:De.target.result})},_e.onerror=Pn(Q)):(le=0,ue=!be&&"openKeyCursor"in Ne?Ne.openKeyCursor(Pe):Ne.openCursor(Pe),de=[],ue.onsuccess=function(De){var $e=ue.result;return $e?(de.push(be?$e.value:$e.primaryKey),++le===ke?J({result:de}):void $e.continue()):J({result:de})},ue.onerror=Pn(Q))})}),openCursor:function(F){var J=F.trans,Q=F.values,le=F.query,ue=F.reverse,de=F.unique;return new Promise(function(be,ke){be=lt(be);var Ne=le.index,_e=le.range,Ae=J.objectStore(G),Ae=Ne.isPrimaryKey?Ae:Ae.index(Ne.name),Ne=ue?de?"prevunique":"prev":de?"nextunique":"next",Pe=!Q&&"openKeyCursor"in Ae?Ae.openKeyCursor(b(_e),Ne):Ae.openCursor(b(_e),Ne);Pe.onerror=Pn(ke),Pe.onsuccess=lt(function(De){var $e,it,We,Mt,Qe=Pe.result;Qe?(Qe.___id=++xn,Qe.done=!1,$e=Qe.continue.bind(Qe),it=(it=Qe.continuePrimaryKey)&&it.bind(Qe),We=Qe.advance.bind(Qe),Mt=function(){throw new Error("Cursor not stopped")},Qe.trans=J,Qe.stop=Qe.continue=Qe.continuePrimaryKey=Qe.advance=function(){throw new Error("Cursor not started")},Qe.fail=lt(ke),Qe.next=function(){var Qt=this,Vt=1;return this.start(function(){return Vt--?Qt.continue():Qt.stop()}).then(function(){return Qt})},Qe.start=function(Qt){function Vt(){if(Pe.result)try{Qt()}catch(Zt){Qe.fail(Zt)}else Qe.done=!0,Qe.start=function(){throw new Error("Cursor behind last entry")},Qe.stop()}var Eo=new Promise(function(Zt,Un){Zt=lt(Zt),Pe.onerror=Pn(Un),Qe.fail=Un,Qe.stop=function(Aa){Qe.stop=Qe.continue=Qe.continuePrimaryKey=Qe.advance=Mt,Zt(Aa)}});return Pe.onsuccess=lt(function(Zt){Pe.onsuccess=Vt,Vt()}),Qe.continue=$e,Qe.continuePrimaryKey=it,Qe.advance=We,Vt(),Eo},be(Qe)):be(null)},ke)})},count:function(F){var J=F.query,Q=F.trans,le=J.index,ue=J.range;return new Promise(function(de,be){var ke=Q.objectStore(G),_e=le.isPrimaryKey?ke:ke.index(le.name),ke=b(ue),_e=ke?_e.count(ke):_e.count();_e.onsuccess=lt(function(Ae){return de(Ae.target.result)}),_e.onerror=Pn(be)})}}}var N,D,P,K=(D=V,P=ca((N=h).objectStoreNames),{schema:{name:N.name,tables:P.map(function(Y){return D.objectStore(Y)}).map(function(Y){var O=Y.keyPath,J=Y.autoIncrement,G=p(O),F={},J={name:Y.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:O==null,compound:G,keyPath:O,autoIncrement:J,unique:!0,extractKey:Cr(O)},indexes:ca(Y.indexNames).map(function(Q){return Y.index(Q)}).map(function(de){var le=de.name,ue=de.unique,be=de.multiEntry,de=de.keyPath,be={name:le,compound:p(de),keyPath:de,unique:ue,multiEntry:be,extractKey:Cr(de)};return F[Yn(de)]=be}),getIndexByKeyPath:function(Q){return F[Yn(Q)]}};return F[":id"]=J.primaryKey,O!=null&&(F[Yn(O)]=J.primaryKey),J})},hasGetAll:0<P.length&&"getAll"in D.objectStore(P[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),V=K.schema,z=K.hasGetAll,K=V.tables.map(A),L={};return K.forEach(function(Y){return L[Y.name]=Y}),{stack:"dbcore",transaction:h.transaction.bind(h),table:function(Y){if(!L[Y])throw new Error("Table '".concat(Y,"' not found"));return L[Y]},MIN_KEY:-1/0,MAX_KEY:Ni(x),schema:V}}function yo(h,x,C,b){var A=C.IDBKeyRange;return C.indexedDB,{dbcore:(b=Wo(x,A,b),h.dbcore.reduce(function(N,D){return D=D.create,r(r({},N),D(N))},b))}}function jo(h,b){var C=b.db,b=yo(h._middlewares,C,h._deps,b);h.core=b.dbcore,h.tables.forEach(function(A){var N=A.name;h.core.schema.tables.some(function(D){return D.name===N})&&(A.core=h.core.table(N),h[N]instanceof h.Table&&(h[N].core=A.core))})}function Er(h,x,C,b){C.forEach(function(A){var N=b[A];x.forEach(function(D){var P=(function V(z,K){return re(z,K)||(z=m(z))&&V(z,K)})(D,A);(!P||"value"in P&&P.value===void 0)&&(D===h.Transaction.prototype||D instanceof h.Transaction?U(D,A,{get:function(){return this.table(A)},set:function(V){M(this,A,{value:V,writable:!0,configurable:!0,enumerable:!0})}}):D[A]=new h.Table(A,N))})})}function vo(h,x){x.forEach(function(C){for(var b in C)C[b]instanceof h.Table&&delete C[b]})}function xo(h,x){return h._cfg.version-x._cfg.version}function el(h,x,C,b){var A=h._dbSchema;C.objectStoreNames.contains("$meta")&&!A.$meta&&(A.$meta=Zo("$meta",Us("")[0],[]),h._storeNames.push("$meta"));var N=h._createTransaction("readwrite",h._storeNames,A);N.create(C),N._completion.catch(b);var D=N._reject.bind(N),P=Le.transless||Le;ri(function(){return Le.trans=N,Le.transless=P,x!==0?(jo(h,C),z=x,((V=N).storeNames.includes("$meta")?V.table("$meta").get("version").then(function(K){return K??z}):qe.resolve(z)).then(function(K){return Y=K,O=N,G=C,F=[],K=(L=h)._versions,J=L._dbSchema=tl(0,L.idbdb,G),(K=K.filter(function(Q){return Q._cfg.version>=Y})).length!==0?(K.forEach(function(Q){F.push(function(){var le=J,ue=Q._cfg.dbschema;nl(L,le,G),nl(L,ue,G),J=L._dbSchema=ue;var de=fa(le,ue);de.add.forEach(function(Ne){da(G,Ne[0],Ne[1].primKey,Ne[1].indexes)}),de.change.forEach(function(Ne){if(Ne.recreate)throw new Be.Upgrade("Not yet support for changing primary key");var Pe=G.objectStore(Ne.name);Ne.add.forEach(function(De){return br(Pe,De)}),Ne.change.forEach(function(De){Pe.deleteIndex(De.name),br(Pe,De)}),Ne.del.forEach(function(De){return Pe.deleteIndex(De)})});var be=Q._cfg.contentUpgrade;if(be&&Q._cfg.version>Y){jo(L,G),O._memoizedTables={};var ke=ze(ue);de.del.forEach(function(Ne){ke[Ne]=le[Ne]}),vo(L,[L.Transaction.prototype]),Er(L,[L.Transaction.prototype],d(ke),ke),O.schema=ke;var _e,Ae=ge(be);return Ae&&Gn(),de=qe.follow(function(){var Ne;(_e=be(O))&&Ae&&(Ne=An.bind(null,null),_e.then(Ne,Ne))}),_e&&typeof _e.then=="function"?qe.resolve(_e):de.then(function(){return _e})}}),F.push(function(le){var ue,de,be=Q._cfg.dbschema;ue=be,de=le,[].slice.call(de.db.objectStoreNames).forEach(function(ke){return ue[ke]==null&&de.db.deleteObjectStore(ke)}),vo(L,[L.Transaction.prototype]),Er(L,[L.Transaction.prototype],L._storeNames,L._dbSchema),O.schema=L._dbSchema}),F.push(function(le){L.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(L.idbdb.version/10)===Q._cfg.version?(L.idbdb.deleteObjectStore("$meta"),delete L._dbSchema.$meta,L._storeNames=L._storeNames.filter(function(ue){return ue!=="$meta"})):le.objectStore("$meta").put(Q._cfg.version,"version"))})}),(function Q(){return F.length?qe.resolve(F.shift()(O.idbtrans)).then(Q):qe.resolve()})().then(function(){Ps(J,G)})):qe.resolve();var L,Y,O,G,F,J}).catch(D)):(d(A).forEach(function(K){da(C,K,A[K].primKey,A[K].indexes)}),jo(h,C),void qe.follow(function(){return h.on.populate.fire(N)}).catch(D));var V,z})}function Is(h,x){Ps(h._dbSchema,x),x.db.version%10!=0||x.objectStoreNames.contains("$meta")||x.db.createObjectStore("$meta").add(Math.ceil(x.db.version/10-1),"version");var C=tl(0,h.idbdb,x);nl(h,h._dbSchema,x);for(var b=0,A=fa(C,h._dbSchema).change;b<A.length;b++){var N=(function(D){if(D.change.length||D.recreate)return console.warn("Unable to patch indexes of table ".concat(D.name," because it has changes on the type of index or primary key.")),{value:void 0};var P=x.objectStore(D.name);D.add.forEach(function(V){pn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(D.name,".").concat(V.src)),br(P,V)})})(A[b]);if(typeof N=="object")return N.value}}function fa(h,x){var C,b={del:[],add:[],change:[]};for(C in h)x[C]||b.del.push(C);for(C in x){var A=h[C],N=x[C];if(A){var D={name:C,def:N,recreate:!1,del:[],add:[],change:[]};if(""+(A.primKey.keyPath||"")!=""+(N.primKey.keyPath||"")||A.primKey.auto!==N.primKey.auto)D.recreate=!0,b.change.push(D);else{var P=A.idxByName,V=N.idxByName,z=void 0;for(z in P)V[z]||D.del.push(z);for(z in V){var K=P[z],L=V[z];K?K.src!==L.src&&D.change.push(L):D.add.push(L)}(0<D.del.length||0<D.add.length||0<D.change.length)&&b.change.push(D)}}else b.add.push([C,N])}return b}function da(h,x,C,b){var A=h.db.createObjectStore(x,C.keyPath?{keyPath:C.keyPath,autoIncrement:C.auto}:{autoIncrement:C.auto});return b.forEach(function(N){return br(A,N)}),A}function Ps(h,x){d(h).forEach(function(C){x.db.objectStoreNames.contains(C)||(pn&&console.debug("Dexie: Creating missing table",C),da(x,C,h[C].primKey,h[C].indexes))})}function br(h,x){h.createIndex(x.name,x.keyPath,{unique:x.unique,multiEntry:x.multi})}function tl(h,x,C){var b={};return se(x.objectStoreNames,0).forEach(function(A){for(var N=C.objectStore(A),D=mo(go(z=N.keyPath),z||"",!0,!1,!!N.autoIncrement,z&&typeof z!="string",!0),P=[],V=0;V<N.indexNames.length;++V){var K=N.index(N.indexNames[V]),z=K.keyPath,K=mo(K.name,z,!!K.unique,!!K.multiEntry,!1,z&&typeof z!="string",!1);P.push(K)}b[A]=Zo(A,D,P)}),b}function nl(h,x,C){for(var b=C.db.objectStoreNames,A=0;A<b.length;++A){var N=b[A],D=C.objectStore(N);h._hasGetAll="getAll"in D;for(var P=0;P<D.indexNames.length;++P){var V=D.indexNames[P],z=D.index(V).keyPath,K=typeof z=="string"?z:"["+se(z).join("+")+"]";!x[N]||(z=x[N].idxByName[K])&&(z.name=V,delete x[N].idxByName[K],x[N].idxByName[V]=z)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&c.WorkerGlobalScope&&c instanceof c.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(h._hasGetAll=!1)}function Us(h){return h.split(",").map(function(x,C){var N=x.split(":"),b=(A=N[1])===null||A===void 0?void 0:A.trim(),A=(x=N[0].trim()).replace(/([&*]|\+\+)/g,""),N=/^\[/.test(A)?A.match(/^\[(.*)\]$/)[1].split("+"):A;return mo(A,N||null,/\&/.test(x),/\*/.test(x),/\+\+/.test(x),p(N),C===0,b)})}var _c=(_r.prototype._createTableSchema=Zo,_r.prototype._parseIndexSyntax=Us,_r.prototype._parseStoresSpec=function(h,x){var C=this;d(h).forEach(function(b){if(h[b]!==null){var A=C._parseIndexSyntax(h[b]),N=A.shift();if(!N)throw new Be.Schema("Invalid schema for table "+b+": "+h[b]);if(N.unique=!0,N.multi)throw new Be.Schema("Primary key cannot be multiEntry*");A.forEach(function(D){if(D.auto)throw new Be.Schema("Only primary key can be marked as autoIncrement (++)");if(!D.keyPath)throw new Be.Schema("Index must have a name and cannot be an empty string")}),A=C._createTableSchema(b,N,A),x[b]=A}})},_r.prototype.stores=function(C){var x=this.db;this._cfg.storesSource=this._cfg.storesSource?y(this._cfg.storesSource,C):C;var C=x._versions,b={},A={};return C.forEach(function(N){y(b,N._cfg.storesSource),A=N._cfg.dbschema={},N._parseStoresSpec(b,A)}),x._dbSchema=A,vo(x,[x._allTables,x,x.Transaction.prototype]),Er(x,[x._allTables,x,x.Transaction.prototype,this._cfg.tables],d(A),A),x._storeNames=d(A),this},_r.prototype.upgrade=function(h){return this._cfg.contentUpgrade=Oi(this._cfg.contentUpgrade||ht,h),this},_r);function _r(){}function il(h,x){var C=h._dbNamesDB;return C||(C=h._dbNamesDB=new Jn(Gi,{addons:[],indexedDB:h,IDBKeyRange:x})).version(1).stores({dbnames:"name"}),C.table("dbnames")}function pa(h){return h&&typeof h.databases=="function"}function ha(h){return ri(function(){return Le.letThrough=!0,h()})}function ma(h){return!("from"in h)}var un=function(h,x){if(!this){var C=new un;return h&&"d"in h&&y(C,h),C}y(this,arguments.length?{d:1,from:h,to:1<arguments.length?x:h}:{d:0})};function $i(h,x,C){var b=ut(x,C);if(!isNaN(b)){if(0<b)throw RangeError();if(ma(h))return y(h,{from:x,to:C,d:1});var A=h.l,b=h.r;if(ut(C,h.from)<0)return A?$i(A,x,C):h.l={from:x,to:C,d:1,l:null,r:null},ga(h);if(0<ut(x,h.to))return b?$i(b,x,C):h.r={from:x,to:C,d:1,l:null,r:null},ga(h);ut(x,h.from)<0&&(h.from=x,h.l=null,h.d=b?b.d+1:1),0<ut(C,h.to)&&(h.to=C,h.r=null,h.d=h.l?h.l.d+1:1),C=!h.r,A&&!h.l&&To(h,A),b&&C&&To(h,b)}}function To(h,x){ma(x)||(function C(b,V){var N=V.from,D=V.to,P=V.l,V=V.r;$i(b,N,D),P&&C(b,P),V&&C(b,V)})(h,x)}function Ls(h,x){var C=rl(x),b=C.next();if(b.done)return!1;for(var A=b.value,N=rl(h),D=N.next(A.from),P=D.value;!b.done&&!D.done;){if(ut(P.from,A.to)<=0&&0<=ut(P.to,A.from))return!0;ut(A.from,P.from)<0?A=(b=C.next(P.from)).value:P=(D=N.next(A.from)).value}return!1}function rl(h){var x=ma(h)?null:{s:0,n:h};return{next:function(C){for(var b=0<arguments.length;x;)switch(x.s){case 0:if(x.s=1,b)for(;x.n.l&&ut(C,x.n.from)<0;)x={up:x,n:x.n.l,s:1};else for(;x.n.l;)x={up:x,n:x.n.l,s:1};case 1:if(x.s=2,!b||ut(C,x.n.to)<=0)return{value:x.n,done:!1};case 2:if(x.n.r){x.s=3,x={up:x,n:x.n.r,s:0};continue}case 3:x=x.up}return{done:!0}}}}function ga(h){var x,C,b=(((x=h.r)===null||x===void 0?void 0:x.d)||0)-(((C=h.l)===null||C===void 0?void 0:C.d)||0),A=1<b?"r":b<-1?"l":"";A&&(x=A=="r"?"l":"r",C=r({},h),b=h[A],h.from=b.from,h.to=b.to,h[A]=b[A],C[A]=b[x],(h[x]=C).d=qs(C)),h.d=qs(h)}function qs(C){var x=C.r,C=C.l;return(x?C?Math.max(x.d,C.d):x.d:C?C.d:0)+1}function ol(h,x){return d(x).forEach(function(C){h[C]?To(h[C],x[C]):h[C]=(function b(A){var N,D,P={};for(N in A)S(A,N)&&(D=A[N],P[N]=!D||typeof D!="object"||ce.has(D.constructor)?D:b(D));return P})(x[C])}),h}function ya(h,x){return h.all||x.all||Object.keys(h).some(function(C){return x[C]&&Ls(x[C],h[C])})}E(un.prototype,((Rn={add:function(h){return To(this,h),this},addKey:function(h){return $i(this,h,h),this},addKeys:function(h){var x=this;return h.forEach(function(C){return $i(x,C,C)}),this},hasKey:function(h){var x=rl(this).next(h).value;return x&&ut(x.from,h)<=0&&0<=ut(x.to,h)}})[ne]=function(){return rl(this)},Rn));var Xi={},va={},xa=!1;function ll(h){ol(va,h),xa||(xa=!0,setTimeout(function(){xa=!1,Ta(va,!(va={}))},0))}function Ta(h,x){x===void 0&&(x=!1);var C=new Set;if(h.all)for(var b=0,A=Object.values(Xi);b<A.length;b++)Bs(D=A[b],h,C,x);else for(var N in h){var D,P=/^idb\:\/\/(.*)\/(.*)\//.exec(N);P&&(N=P[1],P=P[2],(D=Xi["idb://".concat(N,"/").concat(P)])&&Bs(D,h,C,x))}C.forEach(function(V){return V()})}function Bs(h,x,C,b){for(var A=[],N=0,D=Object.entries(h.queries.query);N<D.length;N++){for(var P=D[N],V=P[0],z=[],K=0,L=P[1];K<L.length;K++){var Y=L[K];ya(x,Y.obsSet)?Y.subscribers.forEach(function(J){return C.add(J)}):b&&z.push(Y)}b&&A.push([V,z])}if(b)for(var O=0,G=A;O<G.length;O++){var F=G[O],V=F[0],z=F[1];h.queries.query[V]=z}}function Sa(h){var x=h._state,C=h._deps.indexedDB;if(x.isBeingOpened||h.idbdb)return x.dbReadyPromise.then(function(){return x.dbOpenError?Bt(x.dbOpenError):h});x.isBeingOpened=!0,x.dbOpenError=null,x.openComplete=!1;var b=x.openCanceller,A=Math.round(10*h.verno),N=!1;function D(){if(x.openCanceller!==b)throw new Be.DatabaseClosed("db.open() was cancelled")}function P(){return new qe(function(Y,O){if(D(),!C)throw new Be.MissingAPI;var G=h.name,F=x.autoSchema||!A?C.open(G):C.open(G,A);if(!F)throw new Be.MissingAPI;F.onerror=Pn(O),F.onblocked=lt(h._fireOnBlocked),F.onupgradeneeded=lt(function(J){var Q;K=F.transaction,x.autoSchema&&!h._options.allowEmptyDB?(F.onerror=Sr,K.abort(),F.result.close(),(Q=C.deleteDatabase(G)).onsuccess=Q.onerror=lt(function(){O(new Be.NoSuchDatabase("Database ".concat(G," doesnt exist")))})):(K.onerror=Pn(O),J=J.oldVersion>Math.pow(2,62)?0:J.oldVersion,L=J<1,h.idbdb=F.result,N&&Is(h,K),el(h,J/10,K,O))},O),F.onsuccess=lt(function(){K=null;var J,Q,le,ue,de,be=h.idbdb=F.result,ke=se(be.objectStoreNames);if(0<ke.length)try{var _e=be.transaction((ue=ke).length===1?ue[0]:ue,"readonly");if(x.autoSchema)Q=be,le=_e,(J=h).verno=Q.version/10,le=J._dbSchema=tl(0,Q,le),J._storeNames=se(Q.objectStoreNames,0),Er(J,[J._allTables],d(le),le);else if(nl(h,h._dbSchema,_e),((de=fa(tl(0,(de=h).idbdb,_e),de._dbSchema)).add.length||de.change.some(function(Ae){return Ae.add.length||Ae.change.length}))&&!N)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),be.close(),A=be.version+1,N=!0,Y(P());jo(h,_e)}catch{}gi.push(h),be.onversionchange=lt(function(Ae){x.vcFired=!0,h.on("versionchange").fire(Ae)}),be.onclose=lt(function(Ae){h.on("close").fire(Ae)}),L&&(de=h._deps,_e=G,be=de.indexedDB,de=de.IDBKeyRange,pa(be)||_e===Gi||il(be,de).put({name:_e}).catch(ht)),Y()},O)}).catch(function(Y){switch(Y==null?void 0:Y.name){case"UnknownError":if(0<x.PR1398_maxLoop)return x.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),P();break;case"VersionError":if(0<A)return A=0,P()}return qe.reject(Y)})}var V,z=x.dbReadyResolve,K=null,L=!1;return qe.race([b,(typeof navigator>"u"?qe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Y){function O(){return indexedDB.databases().finally(Y)}V=setInterval(O,100),O()}).finally(function(){return clearInterval(V)}):Promise.resolve()).then(P)]).then(function(){return D(),x.onReadyBeingFired=[],qe.resolve(ha(function(){return h.on.ready.fire(h.vip)})).then(function Y(){if(0<x.onReadyBeingFired.length){var O=x.onReadyBeingFired.reduce(Oi,ht);return x.onReadyBeingFired=[],qe.resolve(ha(function(){return O(h.vip)})).then(Y)}})}).finally(function(){x.openCanceller===b&&(x.onReadyBeingFired=null,x.isBeingOpened=!1)}).catch(function(Y){x.dbOpenError=Y;try{K&&K.abort()}catch{}return b===x.openCanceller&&h._close(),Bt(Y)}).finally(function(){x.openComplete=!0,z()}).then(function(){var Y;return L&&(Y={},h.tables.forEach(function(O){O.schema.indexes.forEach(function(G){G.name&&(Y["idb://".concat(h.name,"/").concat(O.name,"/").concat(G.name)]=new un(-1/0,[[[]]]))}),Y["idb://".concat(h.name,"/").concat(O.name,"/")]=Y["idb://".concat(h.name,"/").concat(O.name,"/:dels")]=new un(-1/0,[[[]]])}),ai(xi).fire(Y),Ta(Y,!0)),h})}function Qi(h){function x(N){return h.next(N)}var C=A(x),b=A(function(N){return h.throw(N)});function A(N){return function(V){var P=N(V),V=P.value;return P.done?V:V&&typeof V.then=="function"?V.then(C,b):p(V)?Promise.all(V).then(C,b):C(V)}}return A(x)()}function al(h,x,C){for(var b=p(h)?h.slice():[h],A=0;A<C;++A)b.push(x);return b}var Vs={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(h){return r(r({},h),{table:function(x){var C=h.table(x),b=C.schema,A={},N=[];function D(L,Y,O){var G=Yn(L),F=A[G]=A[G]||[],J=L==null?0:typeof L=="string"?1:L.length,Q=0<Y,Q=r(r({},O),{name:Q?"".concat(G,"(virtual-from:").concat(O.name,")"):O.name,lowLevelIndex:O,isVirtual:Q,keyTail:Y,keyLength:J,extractKey:Cr(L),unique:!Q&&O.unique});return F.push(Q),Q.isPrimaryKey||N.push(Q),1<J&&D(J===2?L[0]:L.slice(0,J-1),Y+1,O),F.sort(function(le,ue){return le.keyTail-ue.keyTail}),Q}x=D(b.primaryKey.keyPath,0,b.primaryKey),A[":id"]=[x];for(var P=0,V=b.indexes;P<V.length;P++){var z=V[P];D(z.keyPath,0,z)}function K(L){var Y,O=L.query.index;return O.isVirtual?r(r({},L),{query:{index:O.lowLevelIndex,range:(Y=L.query.range,O=O.keyTail,{type:Y.type===1?2:Y.type,lower:al(Y.lower,Y.lowerOpen?h.MAX_KEY:h.MIN_KEY,O),lowerOpen:!0,upper:al(Y.upper,Y.upperOpen?h.MIN_KEY:h.MAX_KEY,O),upperOpen:!0})}}):L}return r(r({},C),{schema:r(r({},b),{primaryKey:x,indexes:N,getIndexByKeyPath:function(L){return(L=A[Yn(L)])&&L[0]}}),count:function(L){return C.count(K(L))},query:function(L){return C.query(K(L))},openCursor:function(L){var Y=L.query.index,O=Y.keyTail,G=Y.isVirtual,F=Y.keyLength;return G?C.openCursor(K(L)).then(function(Q){return Q&&J(Q)}):C.openCursor(L);function J(Q){return Object.create(Q,{continue:{value:function(le){le!=null?Q.continue(al(le,L.reverse?h.MAX_KEY:h.MIN_KEY,O)):L.unique?Q.continue(Q.key.slice(0,F).concat(L.reverse?h.MIN_KEY:h.MAX_KEY,O)):Q.continue()}},continuePrimaryKey:{value:function(le,ue){Q.continuePrimaryKey(al(le,h.MAX_KEY,O),ue)}},primaryKey:{get:function(){return Q.primaryKey}},key:{get:function(){var le=Q.key;return F===1?le[0]:le.slice(0,F)}},value:{get:function(){return Q.value}}})}}})}})}};function sl(h,x,C,b){return C=C||{},b=b||"",d(h).forEach(function(A){var N,D,P;S(x,A)?(N=h[A],D=x[A],typeof N=="object"&&typeof D=="object"&&N&&D?(P=Ee(N))!==Ee(D)?C[b+A]=x[A]:P==="Object"?sl(N,D,C,b+A+"."):N!==D&&(C[b+A]=x[A]):N!==D&&(C[b+A]=x[A])):C[b+A]=void 0}),d(x).forEach(function(A){S(h,A)||(C[b+A]=x[A])}),C}function ul(h,x){return x.type==="delete"?x.keys:x.keys||x.values.map(h.extractKey)}var Os={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(h){return r(r({},h),{table:function(x){var C=h.table(x),b=C.schema.primaryKey;return r(r({},C),{mutate:function(A){var N=Le.trans,D=N.table(x).hook,P=D.deleting,V=D.creating,z=D.updating;switch(A.type){case"add":if(V.fire===ht)break;return N._promise("readwrite",function(){return K(A)},!0);case"put":if(V.fire===ht&&z.fire===ht)break;return N._promise("readwrite",function(){return K(A)},!0);case"delete":if(P.fire===ht)break;return N._promise("readwrite",function(){return K(A)},!0);case"deleteRange":if(P.fire===ht)break;return N._promise("readwrite",function(){return(function L(Y,O,G){return C.query({trans:Y,values:!1,query:{index:b,range:O},limit:G}).then(function(F){var J=F.result;return K({type:"delete",keys:J,trans:Y}).then(function(Q){return 0<Q.numFailures?Promise.reject(Q.failures[0]):J.length<G?{failures:[],numFailures:0,lastResult:void 0}:L(Y,r(r({},O),{lower:J[J.length-1],lowerOpen:!0}),G)})})})(A.trans,A.range,1e4)},!0)}return C.mutate(A);function K(L){var Y,O,G,F=Le.trans,J=L.keys||ul(b,L);if(!J)throw new Error("Keys missing");return(L=L.type==="add"||L.type==="put"?r(r({},L),{keys:J}):r({},L)).type!=="delete"&&(L.values=a([],L.values)),L.keys&&(L.keys=a([],L.keys)),Y=C,G=J,((O=L).type==="add"?Promise.resolve([]):Y.getMany({trans:O.trans,keys:G,cache:"immutable"})).then(function(Q){var le=J.map(function(ue,de){var be,ke,_e,Ae=Q[de],Ne={onerror:null,onsuccess:null};return L.type==="delete"?P.fire.call(Ne,ue,Ae,F):L.type==="add"||Ae===void 0?(be=V.fire.call(Ne,ue,L.values[de],F),ue==null&&be!=null&&(L.keys[de]=ue=be,b.outbound||Se(L.values[de],b.keyPath,ue))):(be=sl(Ae,L.values[de]),(ke=z.fire.call(Ne,be,ue,Ae,F))&&(_e=L.values[de],Object.keys(ke).forEach(function(Pe){S(_e,Pe)?_e[Pe]=ke[Pe]:Se(_e,Pe,ke[Pe])}))),Ne});return C.mutate(L).then(function(ue){for(var de=ue.failures,be=ue.results,ke=ue.numFailures,ue=ue.lastResult,_e=0;_e<J.length;++_e){var Ae=(be||J)[_e],Ne=le[_e];Ae==null?Ne.onerror&&Ne.onerror(de[_e]):Ne.onsuccess&&Ne.onsuccess(L.type==="put"&&Q[_e]?L.values[_e]:Ae)}return{failures:de,results:be,numFailures:ke,lastResult:ue}}).catch(function(ue){return le.forEach(function(de){return de.onerror&&de.onerror(ue)}),Promise.reject(ue)})})}}})}})}};function Ca(h,x,C){try{if(!x||x.keys.length<h.length)return null;for(var b=[],A=0,N=0;A<x.keys.length&&N<h.length;++A)ut(x.keys[A],h[N])===0&&(b.push(C?Z(x.values[A]):x.values[A]),++N);return b.length===h.length?b:null}catch{return null}}var Ar={stack:"dbcore",level:-1,create:function(h){return{table:function(x){var C=h.table(x);return r(r({},C),{getMany:function(b){if(!b.cache)return C.getMany(b);var A=Ca(b.keys,b.trans._cache,b.cache==="clone");return A?qe.resolve(A):C.getMany(b).then(function(N){return b.trans._cache={keys:b.keys,values:b.cache==="clone"?Z(N):N},N})},mutate:function(b){return b.type!=="add"&&(b.trans._cache=null),C.mutate(b)}})}}}};function Hs(h,x){return h.trans.mode==="readonly"&&!!h.subscr&&!h.trans.explicit&&h.trans.db._options.cache!=="disabled"&&!x.schema.primaryKey.outbound}function zs(h,x){switch(h){case"query":return x.values&&!x.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ac={stack:"dbcore",level:0,name:"Observability",create:function(h){var x=h.schema.name,C=new un(h.MIN_KEY,h.MAX_KEY);return r(r({},h),{transaction:function(b,A,N){if(Le.subscr&&A!=="readonly")throw new Be.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Le.querier));return h.transaction(b,A,N)},table:function(b){var A=h.table(b),N=A.schema,D=N.primaryKey,L=N.indexes,P=D.extractKey,V=D.outbound,z=D.autoIncrement&&L.filter(function(O){return O.compound&&O.keyPath.includes(D.keyPath)}),K=r(r({},A),{mutate:function(O){function G(Pe){return Pe="idb://".concat(x,"/").concat(b,"/").concat(Pe),ue[Pe]||(ue[Pe]=new un)}var F,J,Q,le=O.trans,ue=O.mutatedParts||(O.mutatedParts={}),de=G(""),be=G(":dels"),ke=O.type,Ne=O.type==="deleteRange"?[O.range]:O.type==="delete"?[O.keys]:O.values.length<50?[ul(D,O).filter(function(Pe){return Pe}),O.values]:[],_e=Ne[0],Ae=Ne[1],Ne=O.trans._cache;return p(_e)?(de.addKeys(_e),(Ne=ke==="delete"||_e.length===Ae.length?Ca(_e,Ne):null)||be.addKeys(_e),(Ne||Ae)&&(F=G,J=Ne,Q=Ae,N.indexes.forEach(function(Pe){var De=F(Pe.name||"");function $e(We){return We!=null?Pe.extractKey(We):null}function it(We){return Pe.multiEntry&&p(We)?We.forEach(function(Mt){return De.addKey(Mt)}):De.addKey(We)}(J||Q).forEach(function(We,Qt){var Qe=J&&$e(J[Qt]),Qt=Q&&$e(Q[Qt]);ut(Qe,Qt)!==0&&(Qe!=null&&it(Qe),Qt!=null&&it(Qt))})}))):_e?(Ae={from:(Ae=_e.lower)!==null&&Ae!==void 0?Ae:h.MIN_KEY,to:(Ae=_e.upper)!==null&&Ae!==void 0?Ae:h.MAX_KEY},be.add(Ae),de.add(Ae)):(de.add(C),be.add(C),N.indexes.forEach(function(Pe){return G(Pe.name).add(C)})),A.mutate(O).then(function(Pe){return!_e||O.type!=="add"&&O.type!=="put"||(de.addKeys(Pe.results),z&&z.forEach(function(De){for(var $e=O.values.map(function(Qe){return De.extractKey(Qe)}),it=De.keyPath.findIndex(function(Qe){return Qe===D.keyPath}),We=0,Mt=Pe.results.length;We<Mt;++We)$e[We][it]=Pe.results[We];G(De.name).addKeys($e)})),le.mutatedParts=ol(le.mutatedParts||{},ue),Pe})}}),L=function(G){var F=G.query,G=F.index,F=F.range;return[G,new un((G=F.lower)!==null&&G!==void 0?G:h.MIN_KEY,(F=F.upper)!==null&&F!==void 0?F:h.MAX_KEY)]},Y={get:function(O){return[D,new un(O.key)]},getMany:function(O){return[D,new un().addKeys(O.keys)]},count:L,query:L,openCursor:L};return d(Y).forEach(function(O){K[O]=function(G){var F=Le.subscr,J=!!F,Q=Hs(Le,A)&&zs(O,G)?G.obsSet={}:F;if(J){var le=function(Ae){return Ae="idb://".concat(x,"/").concat(b,"/").concat(Ae),Q[Ae]||(Q[Ae]=new un)},ue=le(""),de=le(":dels"),F=Y[O](G),J=F[0],F=F[1];if((O==="query"&&J.isPrimaryKey&&!G.values?de:le(J.name||"")).add(F),!J.isPrimaryKey){if(O!=="count"){var be=O==="query"&&V&&G.values&&A.query(r(r({},G),{values:!1}));return A[O].apply(this,arguments).then(function(Ae){if(O==="query"){if(V&&G.values)return be.then(function($e){return $e=$e.result,ue.addKeys($e),Ae});var Ne=G.values?Ae.result.map(P):Ae.result;(G.values?ue:de).addKeys(Ne)}else if(O==="openCursor"){var Pe=Ae,De=G.values;return Pe&&Object.create(Pe,{key:{get:function(){return de.addKey(Pe.primaryKey),Pe.key}},primaryKey:{get:function(){var $e=Pe.primaryKey;return de.addKey($e),$e}},value:{get:function(){return De&&ue.addKey(Pe.primaryKey),Pe.value}}})}return Ae})}de.add(C)}}return A[O].apply(this,arguments)}}),K}})}};function Ea(h,x,C){if(C.numFailures===0)return x;if(x.type==="deleteRange")return null;var b=x.keys?x.keys.length:"values"in x&&x.values?x.values.length:1;return C.numFailures===b?null:(x=r({},x),p(x.keys)&&(x.keys=x.keys.filter(function(A,N){return!(N in C.failures)})),"values"in x&&p(x.values)&&(x.values=x.values.filter(function(A,N){return!(N in C.failures)})),x)}function cl(h,x){return C=h,((b=x).lower===void 0||(b.lowerOpen?0<ut(C,b.lower):0<=ut(C,b.lower)))&&(h=h,(x=x).upper===void 0||(x.upperOpen?ut(h,x.upper)<0:ut(h,x.upper)<=0));var C,b}function wr(h,x,Y,b,A,N){if(!Y||Y.length===0)return h;var D=x.query.index,P=D.multiEntry,V=x.query.range,z=b.schema.primaryKey.extractKey,K=D.extractKey,L=(D.lowLevelIndex||D).extractKey,Y=Y.reduce(function(O,G){var F=O,J=[];if(G.type==="add"||G.type==="put")for(var Q=new un,le=G.values.length-1;0<=le;--le){var ue,de=G.values[le],be=z(de);Q.hasKey(be)||(ue=K(de),(P&&p(ue)?ue.some(function(Pe){return cl(Pe,V)}):cl(ue,V))&&(Q.addKey(be),J.push(de)))}switch(G.type){case"add":var ke=new un().addKeys(x.values?O.map(function(De){return z(De)}):O),F=O.concat(x.values?J.filter(function(De){return De=z(De),!ke.hasKey(De)&&(ke.addKey(De),!0)}):J.map(function(De){return z(De)}).filter(function(De){return!ke.hasKey(De)&&(ke.addKey(De),!0)}));break;case"put":var _e=new un().addKeys(G.values.map(function(De){return z(De)}));F=O.filter(function(De){return!_e.hasKey(x.values?z(De):De)}).concat(x.values?J:J.map(function(De){return z(De)}));break;case"delete":var Ae=new un().addKeys(G.keys);F=O.filter(function(De){return!Ae.hasKey(x.values?z(De):De)});break;case"deleteRange":var Ne=G.range;F=O.filter(function(De){return!cl(z(De),Ne)})}return F},h);return Y===h?h:(Y.sort(function(O,G){return ut(L(O),L(G))||ut(z(O),z(G))}),x.limit&&x.limit<1/0&&(Y.length>x.limit?Y.length=x.limit:h.length===x.limit&&Y.length<x.limit&&(A.dirty=!0)),N?Object.freeze(Y):Y)}function Mr(h,x){return ut(h.lower,x.lower)===0&&ut(h.upper,x.upper)===0&&!!h.lowerOpen==!!x.lowerOpen&&!!h.upperOpen==!!x.upperOpen}function wc(h,x){return(function(C,b,A,N){if(C===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;if((b=ut(C,b))===0){if(A&&N)return 0;if(A)return 1;if(N)return-1}return b})(h.lower,x.lower,h.lowerOpen,x.lowerOpen)<=0&&0<=(function(C,b,A,N){if(C===void 0)return b!==void 0?1:0;if(b===void 0)return-1;if((b=ut(C,b))===0){if(A&&N)return 0;if(A)return-1;if(N)return 1}return b})(h.upper,x.upper,h.upperOpen,x.upperOpen)}function fl(h,x,C,b){h.subscribers.add(C),b.addEventListener("abort",function(){var A,N;h.subscribers.delete(C),h.subscribers.size===0&&(A=h,N=x,setTimeout(function(){A.subscribers.size===0&&Ve(N,A)},3e3))})}var Gs={stack:"dbcore",level:0,name:"Cache",create:function(h){var x=h.schema.name;return r(r({},h),{transaction:function(C,b,A){var N,D,P=h.transaction(C,b,A);return b==="readwrite"&&(D=(N=new AbortController).signal,A=function(V){return function(){if(N.abort(),b==="readwrite"){for(var z=new Set,K=0,L=C;K<L.length;K++){var Y=L[K],O=Xi["idb://".concat(x,"/").concat(Y)];if(O){var G=h.table(Y),F=O.optimisticOps.filter(function(De){return De.trans===P});if(P._explicit&&V&&P.mutatedParts)for(var J=0,Q=Object.values(O.queries.query);J<Q.length;J++)for(var le=0,ue=(ke=Q[J]).slice();le<ue.length;le++)ya((_e=ue[le]).obsSet,P.mutatedParts)&&(Ve(ke,_e),_e.subscribers.forEach(function(De){return z.add(De)}));else if(0<F.length){O.optimisticOps=O.optimisticOps.filter(function(De){return De.trans!==P});for(var de=0,be=Object.values(O.queries.query);de<be.length;de++)for(var ke,_e,Ae,Ne=0,Pe=(ke=be[de]).slice();Ne<Pe.length;Ne++)(_e=Pe[Ne]).res!=null&&P.mutatedParts&&(V&&!_e.dirty?(Ae=Object.isFrozen(_e.res),Ae=wr(_e.res,_e.req,F,G,_e,Ae),_e.dirty?(Ve(ke,_e),_e.subscribers.forEach(function(De){return z.add(De)})):Ae!==_e.res&&(_e.res=Ae,_e.promise=qe.resolve({result:Ae}))):(_e.dirty&&Ve(ke,_e),_e.subscribers.forEach(function(De){return z.add(De)})))}}}z.forEach(function(De){return De()})}}},P.addEventListener("abort",A(!1),{signal:D}),P.addEventListener("error",A(!1),{signal:D}),P.addEventListener("complete",A(!0),{signal:D})),P},table:function(C){var b=h.table(C),A=b.schema.primaryKey;return r(r({},b),{mutate:function(N){var D=Le.trans;if(A.outbound||D.db._options.cache==="disabled"||D.explicit||D.idbtrans.mode!=="readwrite")return b.mutate(N);var P=Xi["idb://".concat(x,"/").concat(C)];return P?(D=b.mutate(N),N.type!=="add"&&N.type!=="put"||!(50<=N.values.length||ul(A,N).some(function(V){return V==null}))?(P.optimisticOps.push(N),N.mutatedParts&&ll(N.mutatedParts),D.then(function(V){0<V.numFailures&&(Ve(P.optimisticOps,N),(V=Ea(0,N,V))&&P.optimisticOps.push(V),N.mutatedParts&&ll(N.mutatedParts))}),D.catch(function(){Ve(P.optimisticOps,N),N.mutatedParts&&ll(N.mutatedParts)})):D.then(function(V){var z=Ea(0,r(r({},N),{values:N.values.map(function(K,L){var Y;return V.failures[L]?K:(K=(Y=A.keyPath)!==null&&Y!==void 0&&Y.includes(".")?Z(K):r({},K),Se(K,A.keyPath,V.results[L]),K)})}),V);P.optimisticOps.push(z),queueMicrotask(function(){return N.mutatedParts&&ll(N.mutatedParts)})}),D):b.mutate(N)},query:function(N){if(!Hs(Le,b)||!zs("query",N))return b.query(N);var D=((z=Le.trans)===null||z===void 0?void 0:z.db._options.cache)==="immutable",L=Le,P=L.requery,V=L.signal,z=(function(G,F,J,Q){var le=Xi["idb://".concat(G,"/").concat(F)];if(!le)return[];if(!(F=le.queries[J]))return[null,!1,le,null];var ue=F[(Q.query?Q.query.index.name:null)||""];if(!ue)return[null,!1,le,null];switch(J){case"query":var de=ue.find(function(be){return be.req.limit===Q.limit&&be.req.values===Q.values&&Mr(be.req.query.range,Q.query.range)});return de?[de,!0,le,ue]:[ue.find(function(be){return("limit"in be.req?be.req.limit:1/0)>=Q.limit&&(!Q.values||be.req.values)&&wc(be.req.query.range,Q.query.range)}),!1,le,ue];case"count":return de=ue.find(function(be){return Mr(be.req.query.range,Q.query.range)}),[de,!!de,le,ue]}})(x,C,"query",N),K=z[0],L=z[1],Y=z[2],O=z[3];return K&&L?K.obsSet=N.obsSet:(L=b.query(N).then(function(G){var F=G.result;if(K&&(K.res=F),D){for(var J=0,Q=F.length;J<Q;++J)Object.freeze(F[J]);Object.freeze(F)}else G.result=Z(F);return G}).catch(function(G){return O&&K&&Ve(O,K),Promise.reject(G)}),K={obsSet:N.obsSet,promise:L,subscribers:new Set,type:"query",req:N,dirty:!1},O?O.push(K):(O=[K],(Y=Y||(Xi["idb://".concat(x,"/").concat(C)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[N.query.index.name||""]=O)),fl(K,O,P,V),K.promise.then(function(G){return{result:wr(G.result,N,Y==null?void 0:Y.optimisticOps,b,K,D)}})}})}})}};function So(h,x){return new Proxy(h,{get:function(C,b,A){return b==="db"?x:Reflect.get(C,b,A)}})}var Jn=(Pt.prototype.version=function(h){if(isNaN(h)||h<.1)throw new Be.Type("Given version is not a positive number");if(h=Math.round(10*h)/10,this.idbdb||this._state.isBeingOpened)throw new Be.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,h);var x=this._versions,C=x.filter(function(b){return b._cfg.version===h})[0];return C||(C=new this.Version(h),x.push(C),x.sort(xo),C.stores({}),this._state.autoSchema=!1,C)},Pt.prototype._whenReady=function(h){var x=this;return this.idbdb&&(this._state.openComplete||Le.letThrough||this._vip)?h():new qe(function(C,b){if(x._state.openComplete)return b(new Be.DatabaseClosed(x._state.dbOpenError));if(!x._state.isBeingOpened){if(!x._state.autoOpen)return void b(new Be.DatabaseClosed);x.open().catch(ht)}x._state.dbReadyPromise.then(C,b)}).then(h)},Pt.prototype.use=function(h){var x=h.stack,C=h.create,b=h.level,A=h.name;return A&&this.unuse({stack:x,name:A}),h=this._middlewares[x]||(this._middlewares[x]=[]),h.push({stack:x,create:C,level:b??10,name:A}),h.sort(function(N,D){return N.level-D.level}),this},Pt.prototype.unuse=function(h){var x=h.stack,C=h.name,b=h.create;return x&&this._middlewares[x]&&(this._middlewares[x]=this._middlewares[x].filter(function(A){return b?A.create!==b:!!C&&A.name!==C})),this},Pt.prototype.open=function(){var h=this;return bi(Ht,function(){return Sa(h)})},Pt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var h=this._state,x=gi.indexOf(this);if(0<=x&&gi.splice(x,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}h.isBeingOpened||(h.dbReadyPromise=new qe(function(C){h.dbReadyResolve=C}),h.openCanceller=new qe(function(C,b){h.cancelOpen=b}))},Pt.prototype.close=function(C){var x=(C===void 0?{disableAutoOpen:!0}:C).disableAutoOpen,C=this._state;x?(C.isBeingOpened&&C.cancelOpen(new Be.DatabaseClosed),this._close(),C.autoOpen=!1,C.dbOpenError=new Be.DatabaseClosed):(this._close(),C.autoOpen=this._options.autoOpen||C.isBeingOpened,C.openComplete=!1,C.dbOpenError=null)},Pt.prototype.delete=function(h){var x=this;h===void 0&&(h={disableAutoOpen:!0});var C=0<arguments.length&&typeof arguments[0]!="object",b=this._state;return new qe(function(A,N){function D(){x.close(h);var P=x._deps.indexedDB.deleteDatabase(x.name);P.onsuccess=lt(function(){var V,z,K;V=x._deps,z=x.name,K=V.indexedDB,V=V.IDBKeyRange,pa(K)||z===Gi||il(K,V).delete(z).catch(ht),A()}),P.onerror=Pn(N),P.onblocked=x._fireOnBlocked}if(C)throw new Be.InvalidArgument("Invalid closeOptions argument to db.delete()");b.isBeingOpened?b.dbReadyPromise.then(D):D()})},Pt.prototype.backendDB=function(){return this.idbdb},Pt.prototype.isOpen=function(){return this.idbdb!==null},Pt.prototype.hasBeenClosed=function(){var h=this._state.dbOpenError;return h&&h.name==="DatabaseClosed"},Pt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Pt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Pt.prototype,"tables",{get:function(){var h=this;return d(this._allTables).map(function(x){return h._allTables[x]})},enumerable:!1,configurable:!0}),Pt.prototype.transaction=function(){var h=(function(x,C,b){var A=arguments.length;if(A<2)throw new Be.InvalidArgument("Too few arguments");for(var N=new Array(A-1);--A;)N[A-1]=arguments[A];return b=N.pop(),[x,ae(N),b]}).apply(this,arguments);return this._transaction.apply(this,h)},Pt.prototype._transaction=function(h,x,C){var b=this,A=Le.trans;A&&A.db===this&&h.indexOf("!")===-1||(A=null);var N,D,P=h.indexOf("?")!==-1;h=h.replace("!","").replace("?","");try{if(D=x.map(function(z){if(z=z instanceof b.Table?z.name:z,typeof z!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return z}),h=="r"||h===Fn)N=Fn;else{if(h!="rw"&&h!=uo)throw new Be.InvalidArgument("Invalid transaction mode: "+h);N=uo}if(A){if(A.mode===Fn&&N===uo){if(!P)throw new Be.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");A=null}A&&D.forEach(function(z){if(A&&A.storeNames.indexOf(z)===-1){if(!P)throw new Be.SubTransaction("Table "+z+" not included in parent transaction.");A=null}}),P&&A&&!A.active&&(A=null)}}catch(z){return A?A._promise(null,function(K,L){L(z)}):Bt(z)}var V=(function z(K,L,Y,O,G){return qe.resolve().then(function(){var F=Le.transless||Le,J=K._createTransaction(L,Y,K._dbSchema,O);if(J.explicit=!0,F={trans:J,transless:F},O)J.idbtrans=O.idbtrans;else try{J.create(),J.idbtrans._explicit=!0,K._state.PR1398_maxLoop=3}catch(ue){return ue.name===qt.InvalidState&&K.isOpen()&&0<--K._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),K.close({disableAutoOpen:!1}),K.open().then(function(){return z(K,L,Y,null,G)})):Bt(ue)}var Q,le=ge(G);return le&&Gn(),F=qe.follow(function(){var ue;(Q=G.call(J,J))&&(le?(ue=An.bind(null,null),Q.then(ue,ue)):typeof Q.next=="function"&&typeof Q.throw=="function"&&(Q=Qi(Q)))},F),(Q&&typeof Q.then=="function"?qe.resolve(Q).then(function(ue){return J.active?ue:Bt(new Be.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):F.then(function(){return Q})).then(function(ue){return O&&J._resolve(),J._completion.then(function(){return ue})}).catch(function(ue){return J._reject(ue),Bt(ue)})})}).bind(null,this,N,D,A,C);return A?A._promise(N,V,"lock"):Le.trans?bi(Le.transless,function(){return b._whenReady(V)}):this._whenReady(V)},Pt.prototype.table=function(h){if(!S(this._allTables,h))throw new Be.InvalidTable("Table ".concat(h," does not exist"));return this._allTables[h]},Pt);function Pt(h,x){var C=this;this._middlewares={},this.verno=0;var b=Pt.dependencies;this._options=x=r({addons:Pt.addons,autoOpen:!0,indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange,cache:"cloned"},x),this._deps={indexedDB:x.indexedDB,IDBKeyRange:x.IDBKeyRange},b=x.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var A,N,D,P,V,z={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ht,dbReadyPromise:null,cancelOpen:ht,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:x.autoOpen};z.dbReadyPromise=new qe(function(L){z.dbReadyResolve=L}),z.openCanceller=new qe(function(L,Y){z.cancelOpen=Y}),this._state=z,this.name=h,this.on=yr(this,"populate","blocked","versionchange","close",{ready:[Oi,ht]}),this.once=function(L,Y){var O=function(){for(var G=[],F=0;F<arguments.length;F++)G[F]=arguments[F];C.on(L).unsubscribe(O),Y.apply(C,G)};return C.on(L,O)},this.on.ready.subscribe=te(this.on.ready.subscribe,function(L){return function(Y,O){Pt.vip(function(){var G,F=C._state;F.openComplete?(F.dbOpenError||qe.resolve().then(Y),O&&L(Y)):F.onReadyBeingFired?(F.onReadyBeingFired.push(Y),O&&L(Y)):(L(Y),G=C,O||L(function J(){G.on.ready.unsubscribe(Y),G.on.ready.unsubscribe(J)}))})}}),this.Collection=(A=this,Ri(Ec.prototype,function(Q,J){this.db=A;var O=Fi,G=null;if(J)try{O=J()}catch(le){G=le}var F=Q._ctx,J=F.table,Q=J.hook.reading.fire;this._ctx={table:J,index:F.index,isPrimKey:!F.index||J.schema.primKey.keyPath&&F.index===J.schema.primKey.name,range:O,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:G,or:F.or,valueMapper:Q!==mi?Q:null}})),this.Table=(N=this,Ri(Ds.prototype,function(L,Y,O){this.db=N,this._tx=O,this.name=L,this.schema=Y,this.hook=N._allTables[L]?N._allTables[L].hook:yr(null,{creating:[Go,ht],reading:[io,mi],updating:[jl,ht],deleting:[_n,ht]})})),this.Transaction=(D=this,Ri(ho.prototype,function(L,Y,O,G,F){var J=this;L!=="readonly"&&Y.forEach(function(Q){Q=(Q=O[Q])===null||Q===void 0?void 0:Q.yProps,Q&&(Y=Y.concat(Q.map(function(le){return le.updatesTable})))}),this.db=D,this.mode=L,this.storeNames=Y,this.schema=O,this.chromeTransactionDurability=G,this.idbtrans=null,this.on=yr(this,"complete","error","abort"),this.parent=F||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new qe(function(Q,le){J._resolve=Q,J._reject=le}),this._completion.then(function(){J.active=!1,J.on.complete.fire()},function(Q){var le=J.active;return J.active=!1,J.on.error.fire(Q),J.parent?J.parent._reject(Q):le&&J.idbtrans&&J.idbtrans.abort(),Bt(Q)})})),this.Version=(P=this,Ri(_c.prototype,function(L){this.db=P,this._cfg={version:L,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(V=this,Ri(Ji.prototype,function(L,Y,O){if(this.db=V,this._ctx={table:L,index:Y===":id"?null:Y,or:O},this._cmp=this._ascending=ut,this._descending=function(G,F){return ut(F,G)},this._max=function(G,F){return 0<ut(G,F)?G:F},this._min=function(G,F){return ut(G,F)<0?G:F},this._IDBKeyRange=V._deps.IDBKeyRange,!this._IDBKeyRange)throw new Be.MissingAPI})),this.on("versionchange",function(L){0<L.newVersion?console.warn("Another connection wants to upgrade database '".concat(C.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(C.name,"'. Closing db now to resume the delete request.")),C.close({disableAutoOpen:!1})}),this.on("blocked",function(L){!L.newVersion||L.newVersion<L.oldVersion?console.warn("Dexie.delete('".concat(C.name,"') was blocked")):console.warn("Upgrade '".concat(C.name,"' blocked by other connection holding version ").concat(L.oldVersion/10))}),this._maxKey=Ni(x.IDBKeyRange),this._createTransaction=function(L,Y,O,G){return new C.Transaction(L,Y,O,C._options.chromeTransactionDurability,G)},this._fireOnBlocked=function(L){C.on("blocked").fire(L),gi.filter(function(Y){return Y.name===C.name&&Y!==C&&!Y._state.vcFired}).map(function(Y){return Y.on("versionchange").fire(L)})},this.use(Ar),this.use(Gs),this.use(Ac),this.use(Vs),this.use(Os);var K=new Proxy(this,{get:function(L,Y,O){if(Y==="_vip")return!0;if(Y==="table")return function(F){return So(C.table(F),K)};var G=Reflect.get(L,Y,O);return G instanceof Ds?So(G,K):Y==="tables"?G.map(function(F){return So(F,K)}):Y==="_createTransaction"?function(){return So(G.apply(this,arguments),K)}:G}});this.vip=K,b.forEach(function(L){return L(C)})}var Co,Rn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Fs=(ba.prototype.subscribe=function(h,x,C){return this._subscribe(h&&typeof h!="function"?h:{next:h,error:x,complete:C})},ba.prototype[Rn]=function(){return this},ba);function ba(h){this._subscribe=h}try{Co={indexedDB:c.indexedDB||c.mozIndexedDB||c.webkitIndexedDB||c.msIndexedDB,IDBKeyRange:c.IDBKeyRange||c.webkitIDBKeyRange}}catch{Co={indexedDB:null,IDBKeyRange:null}}function Ks(h){var x,C=!1,b=new Fs(function(A){var N=ge(h),D,P=!1,V={},z={},K={get closed(){return P},unsubscribe:function(){P||(P=!0,D&&D.abort(),L&&ai.storagemutated.unsubscribe(O))}};A.start&&A.start(K);var L=!1,Y=function(){return Ai(G)},O=function(F){ol(V,F),ya(z,V)&&Y()},G=function(){var F,J,Q;!P&&Co.indexedDB&&(V={},F={},D&&D.abort(),D=new AbortController,Q=(function(le){var ue=zi();try{N&&Gn();var de=ri(h,le);return de=N?de.finally(An):de}finally{ue&&hr()}})(J={subscr:F,signal:D.signal,requery:Y,querier:h,trans:null}),Promise.resolve(Q).then(function(le){C=!0,x=le,P||J.signal.aborted||(V={},(function(ue){for(var de in ue)if(S(ue,de))return;return 1})(z=F)||L||(ai(xi,O),L=!0),Ai(function(){return!P&&A.next&&A.next(le)}))},function(le){C=!1,["DatabaseClosedError","AbortError"].includes(le==null?void 0:le.name)||P||Ai(function(){P||A.error&&A.error(le)})}))};return setTimeout(Y,0),K});return b.hasValue=function(){return C},b.getValue=function(){return x},b}var Zi=Jn;function _a(h){var x=zt;try{zt=!0,ai.storagemutated.fire(h),Ta(h,!0)}finally{zt=x}}E(Zi,r(r({},Dn),{delete:function(h){return new Zi(h,{addons:[]}).delete()},exists:function(h){return new Zi(h,{addons:[]}).open().then(function(x){return x.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(h){try{return x=Zi.dependencies,C=x.indexedDB,x=x.IDBKeyRange,(pa(C)?Promise.resolve(C.databases()).then(function(b){return b.map(function(A){return A.name}).filter(function(A){return A!==Gi})}):il(C,x).toCollection().primaryKeys()).then(h)}catch{return Bt(new Be.MissingAPI)}var x,C},defineClass:function(){return function(h){y(this,h)}},ignoreTransaction:function(h){return Le.trans?bi(Le.transless,h):h()},vip:ha,async:function(h){return function(){try{var x=Qi(h.apply(this,arguments));return x&&typeof x.then=="function"?x:qe.resolve(x)}catch(C){return Bt(C)}}},spawn:function(h,x,C){try{var b=Qi(h.apply(C,x||[]));return b&&typeof b.then=="function"?b:qe.resolve(b)}catch(A){return Bt(A)}},currentTransaction:{get:function(){return Le.trans||null}},waitFor:function(h,x){return x=qe.resolve(typeof h=="function"?Zi.ignoreTransaction(h):h).timeout(x||6e4),Le.trans?Le.trans.waitFor(x):x},Promise:qe,debug:{get:function(){return pn},set:function(h){Fo(h)}},derive:B,extend:y,props:E,override:te,Events:yr,on:ai,liveQuery:Ks,extendObservabilitySet:ol,getByKeyPath:j,setByKeyPath:Se,delByKeyPath:function(h,x){typeof x=="string"?Se(h,x,void 0):"length"in x&&[].map.call(x,function(C){Se(h,C,void 0)})},shallowClone:ze,deepClone:Z,getObjectDiff:sl,cmp:ut,asap:ye,minKey:-1/0,addons:[],connections:gi,errnames:qt,dependencies:Co,cache:Xi,semVer:"4.2.0",version:"4.2.0".split(".").map(function(h){return parseInt(h)}).reduce(function(h,x,C){return h+x/Math.pow(10,2*C)})})),Zi.maxKey=Ni(Zi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ai(xi,function(h){zt||(h=new CustomEvent(Kn,{detail:h}),zt=!0,dispatchEvent(h),zt=!1)}),addEventListener(Kn,function(h){h=h.detail,zt||_a(h)}));var Rr,zt=!1,Nr=function(){};return typeof BroadcastChannel<"u"&&((Nr=function(){(Rr=new BroadcastChannel(Kn)).onmessage=function(h){return h.data&&_a(h.data)}})(),typeof Rr.unref=="function"&&Rr.unref(),ai(xi,function(h){zt||Rr.postMessage(h)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(h){if(!Jn.disableBfCache&&h.persisted){pn&&console.debug("Dexie: handling persisted pagehide"),Rr!=null&&Rr.close();for(var x=0,C=gi;x<C.length;x++)C[x].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(h){!Jn.disableBfCache&&h.persisted&&(pn&&console.debug("Dexie: handling persisted pageshow"),Nr(),_a({all:new un(-1/0,[[]])}))})),qe.rejectionMapper=function(h,x){return!h||h instanceof I||h instanceof TypeError||h instanceof SyntaxError||!h.name||!zn[h.name]?h:(x=new zn[h.name](x||h.message,h),"stack"in h&&U(x,"stack",{get:function(){return this.inner.stack}}),x)},Fo(pn),r(Jn,Object.freeze({__proto__:null,Dexie:Jn,liveQuery:Ks,Entity:Xo,cmp:ut,PropModification:xr,replacePrefix:function(h,x){return new xr({replacePrefix:[h,x]})},add:function(h){return new xr({add:h})},remove:function(h){return new xr({remove:h})},default:Jn,RangeSet:un,mergeRanges:To,rangesOverlap:Ls}),{default:Jn}),Jn})})(Xu)),Xu.exports}var GT=zT();const Pd=Es(GT),Rg=Symbol.for("Dexie"),Fl=globalThis[Rg]||(globalThis[Rg]=Pd);if(Pd.semVer!==Fl.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Pd.semVer} and ${Fl.semVer}`);const{liveQuery:jI,mergeRanges:eP,rangesOverlap:tP,RangeSet:nP,cmp:iP,Entity:rP,PropModification:oP,replacePrefix:lP,add:aP,remove:sP,DexieYProvider:uP}=Fl;function FT(t,e,i){var r,a;typeof t=="function"?(r=e||[],a=i):(r=[],a=e);var c=ql.useRef({hasResult:!1,result:a,error:null}),d=ql.useReducer(function(m){return m+1},0);d[0];var p=d[1],y=ql.useMemo(function(){var m=typeof t=="function"?t():t;if(!m||typeof m.subscribe!="function")throw t===m?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!c.current.hasResult&&typeof window<"u"&&(typeof m.hasValue!="function"||m.hasValue()))if(typeof m.getValue=="function")c.current.result=m.getValue(),c.current.hasResult=!0;else{var v=m.subscribe(function(S){c.current.result=S,c.current.hasResult=!0});typeof v=="function"?v():v.unsubscribe()}return m},r);if(ql.useDebugValue(c.current.result),ql.useEffect(function(){var m=y.subscribe(function(v){var S=c.current;(S.error!==null||S.result!==v)&&(S.error=null,S.result=v,S.hasResult=!0,p())},function(v){var S=c.current;S.error!==v&&(S.error=v,p())});return typeof m=="function"?m:m.unsubscribe.bind(m)},r),c.current.error)throw c.current.error;return c.current.result}function Ss(t,e,i){return FT(function(){return Fl.liveQuery(t)},e||[],i)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(t){var e=Fl.DexieYProvider;e&&e.release(t)});var kn=(t=>(t.Todo="Todo",t.InProgress="In Progress",t.Done="Done",t))(kn||{}),eo=(t=>(t.Pending="Pending",t.Pass="Pass",t.Fail="Fail",t))(eo||{});class KT extends Fl{constructor(){super("DevTaskManagerDB"),this.version(1).stores({cards:"++id, title, status, createdAt, updatedAt"}),this.version(2).stores({cards:"++id, title, status, createdAt, updatedAt, *knowledgeFileIds",knowledgeFiles:"++id, name, createdAt"}).upgrade(e=>e.table("cards").toCollection().modify(i=>{i.knowledgeFileIds===void 0&&(i.knowledgeFileIds=[])})),this.version(3).stores({cards:"++id, title, status, createdAt, updatedAt, *knowledgeFileIds, *tagIds",knowledgeFiles:"++id, name, createdAt",tags:"++id, &name"}).upgrade(e=>e.table("cards").toCollection().modify(i=>{i.tagIds===void 0&&(i.tagIds=[])}))}}const En=new KT,YT=async t=>{const e={title:t,status:kn.Todo,requirement:"",referenceLink:"",spec:"",preDevAnalysis:{introduction:"",impactAnalysis:"",howToCode:"",testApproach:""},testCases:[],requirementChatHistory:[],knowledgeFileIds:[],tagIds:[],createdAt:new Date,updatedAt:new Date};return await En.cards.add(e)},JT=async(t,e)=>{await En.cards.update(t,{...e,updatedAt:new Date})},$T=async t=>{await En.cards.delete(t)},XT=async(t,e)=>{const i={name:t,content:e,createdAt:new Date};return await En.knowledgeFiles.add(i)},QT=async t=>{const e=await En.cards.where("knowledgeFileIds").equals(t).toArray();for(const i of e){const r=i.knowledgeFileIds.filter(a=>a!==t);await En.cards.update(i.id,{knowledgeFileIds:r,updatedAt:new Date})}await En.knowledgeFiles.delete(t)},ZT=async(t,e)=>{const i={name:t,color:e};return await En.tags.add(i)},WT=async t=>{const e=await En.cards.where("tagIds").equals(t).toArray();for(const i of e){const r=i.tagIds.filter(a=>a!==t);await En.cards.update(i.id,{tagIds:r,updatedAt:new Date})}await En.tags.delete(t)},jT=({className:t="w-5 h-5"})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),Jv=({className:t="w-5 h-5"})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18c-2.305 0-4.408.867-6 2.292m0-14.25v14.25"})}),eS=({className:t="w-5 h-5"})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0h18"})}),tS=({className:t="w-5 h-5"})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}),nS=({className:t="w-5 h-5"})=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-1.003 1.11-1.226a9 9 0 0 1 2.59 0c.55.223 1.02.684 1.11 1.226.09.542-.056 1.06-.443 1.452l-1.378 1.378A6 6 0 0 1 15.75 8.25h1.5a9 9 0 0 1 0 7.5h-1.5a6 6 0 0 1-2.121.75l1.378 1.378c.387.392.533.91.443 1.452-.09.542-.56 1.004-1.11 1.226a9 9 0 0 1-2.59 0c-.55-.223-1.02-.684-1.11-1.226-.09-.542.056-1.06.443-1.452l1.378-1.378A6 6 0 0 1 8.25 15.75H6.75a9 9 0 0 1 0-7.5h1.5a6 6 0 0 1 2.121-.75L9.15 6.14c-.387-.392-.533-.91-.443-1.452Z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),iS=({className:t="w-5 h-5"})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})}),rS=({className:t="w-5 h-5"})=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 21v-1.5M15.75 3v1.5m0 16.5v-1.5m-3.75-16.5v1.5m0 16.5v-1.5m-7.5 0h1.5m13.5 0h1.5m-16.5 3.75h1.5m13.5 0h1.5m-16.5 3.75h1.5m13.5 0h1.5"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 8.25h-6a.75.75 0 0 0-.75.75v6c0 .414.336.75.75.75h6a.75.75 0 0 0 .75-.75v-6a.75.75 0 0 0-.75-.75Z"})]}),$v=({className:t="w-5 h-5"})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),Ng=({className:t="w-5 h-5"})=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639l4.418-5.58a1.012 1.012 0 0 1 1.58 0l4.418 5.58a1.012 1.012 0 0 1 0 .639l-4.418 5.58a1.012 1.012 0 0 1-1.58 0l-4.418-5.58Z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),kg=({className:t="w-5 h-5"})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.243 4.243L6.228 6.228"})}),Xv=({className:t="w-5 h-5"})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Qv=({className:t="w-5 h-5"})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})}),bs=({className:t="w-5 h-5"})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),_s=({className:t="w-5 h-5"})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),oS=({className:t="w-5 h-5"})=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"})]}),cc=({className:t="w-5 h-5"})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),tc=({className:t="w-5 h-5"})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),Bo=({text:t,children:e})=>_.jsxs("div",{className:"relative flex items-center group flex-shrink-0",children:[e,_.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-max max-w-xs p-2.5 text-xs text-white bg-slate-800 rounded-md shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none transform scale-95 group-hover:scale-100 origin-bottom z-10",children:[t,_.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-x-4 border-x-transparent border-t-4 border-t-slate-800"})]})]}),lS=({currentFilter:t,onFilterChange:e,onAddNewCard:i,onKnowledgeBaseClick:r,onSettingsClick:a})=>{const c=["All",kn.Todo,kn.InProgress,kn.Done];return _.jsx("header",{className:"bg-white/90 backdrop-blur-lg shadow sticky top-0 z-20 border-b border-slate-200/80",children:_.jsxs("div",{className:"px-4 sm:px-6 md:px-8 py-3 flex items-center justify-between gap-4",children:[_.jsxs("div",{className:"flex items-center gap-6",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(_s,{className:"w-7 h-7 text-sky-500"}),_.jsx("h1",{className:"text-xl font-bold text-slate-900 tracking-tight whitespace-nowrap",children:"DevTaskManager.AI"})]}),_.jsx("div",{className:"w-px h-6 bg-slate-200 hidden sm:block"}),_.jsx("div",{className:"hidden sm:flex items-center gap-2",children:c.map(d=>_.jsx("button",{onClick:()=>e(d),className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors duration-200 whitespace-nowrap ${t===d?"bg-white text-slate-900 shadow-sm":"bg-transparent text-slate-500 hover:bg-slate-100 hover:text-slate-800"}`,children:d},d))})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Bo,{text:"Settings",children:_.jsx("button",{onClick:a,className:"p-2 text-slate-600 rounded-lg hover:bg-slate-100 transition-colors duration-200","aria-label":"Open Settings",children:_.jsx(nS,{className:"w-5 h-5"})})}),_.jsx(Bo,{text:"Knowledge Base",children:_.jsx("button",{onClick:r,className:"p-2 text-slate-600 rounded-lg hover:bg-slate-100 transition-colors duration-200","aria-label":"Open Knowledge Base",children:_.jsx(Jv,{className:"w-5 h-5"})})}),_.jsx("div",{className:"w-px h-6 bg-slate-200 hidden sm:block"}),_.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-slate-800 text-white font-semibold rounded-lg shadow-sm hover:bg-slate-700 transition-all duration-200 transform hover:scale-[1.03]",children:[_.jsx(bs,{className:"w-5 h-5"}),_.jsx("span",{className:"whitespace-nowrap",children:"New Card"})]})]})]})})},aS={[kn.Todo]:"bg-slate-200 text-slate-600",[kn.InProgress]:"bg-amber-100 text-amber-600",[kn.Done]:"bg-emerald-100 text-emerald-600"},sS={[kn.Todo]:"border-slate-500",[kn.InProgress]:"border-amber-500",[kn.Done]:"border-emerald-500"},uS={[kn.Todo]:"hover:bg-slate-50",[kn.InProgress]:"hover:bg-amber-50",[kn.Done]:"hover:bg-emerald-50"};eo.Pending+"",eo.Pass+"",eo.Fail+"";const gd=["Requirement & Spec","Pre-Dev","Test Cases","Markdown Preview"],Dg=["slate","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],fr={slate:{bg:"bg-slate-100",text:"text-slate-600",hoverBg:"hover:bg-slate-200",hoverText:"hover:text-slate-800",border:"border-slate-300"},red:{bg:"bg-red-100",text:"text-red-600",hoverBg:"hover:bg-red-200",hoverText:"hover:text-red-800",border:"border-red-300"},orange:{bg:"bg-orange-100",text:"text-orange-600",hoverBg:"hover:bg-orange-200",hoverText:"hover:text-orange-800",border:"border-orange-300"},amber:{bg:"bg-amber-100",text:"text-amber-600",hoverBg:"hover:bg-amber-200",hoverText:"hover:text-amber-800",border:"border-amber-300"},yellow:{bg:"bg-yellow-100",text:"text-yellow-600",hoverBg:"hover:bg-yellow-200",hoverText:"hover:text-yellow-800",border:"border-yellow-300"},lime:{bg:"bg-lime-100",text:"text-lime-600",hoverBg:"hover:bg-lime-200",hoverText:"hover:text-lime-800",border:"border-lime-300"},green:{bg:"bg-green-100",text:"text-green-600",hoverBg:"hover:bg-green-200",hoverText:"hover:text-green-800",border:"border-green-300"},emerald:{bg:"bg-emerald-100",text:"text-emerald-600",hoverBg:"hover:bg-emerald-200",hoverText:"hover:text-emerald-800",border:"border-emerald-300"},teal:{bg:"bg-teal-100",text:"text-teal-600",hoverBg:"hover:bg-teal-200",hoverText:"hover:text-teal-800",border:"border-teal-300"},cyan:{bg:"bg-cyan-100",text:"text-cyan-600",hoverBg:"hover:bg-cyan-200",hoverText:"hover:text-cyan-800",border:"border-cyan-300"},sky:{bg:"bg-sky-100",text:"text-sky-600",hoverBg:"hover:bg-sky-200",hoverText:"hover:text-sky-800",border:"border-sky-300"},blue:{bg:"bg-blue-100",text:"text-blue-600",hoverBg:"hover:bg-blue-200",hoverText:"hover:text-blue-800",border:"border-blue-300"},indigo:{bg:"bg-indigo-100",text:"text-indigo-600",hoverBg:"hover:bg-indigo-200",hoverText:"hover:text-indigo-800",border:"border-indigo-300"},violet:{bg:"bg-violet-100",text:"text-violet-600",hoverBg:"hover:bg-violet-200",hoverText:"hover:text-violet-800",border:"border-violet-300"},purple:{bg:"bg-purple-100",text:"text-purple-600",hoverBg:"hover:bg-purple-200",hoverText:"hover:text-purple-800",border:"border-purple-300"},fuchsia:{bg:"bg-fuchsia-100",text:"text-fuchsia-600",hoverBg:"hover:bg-fuchsia-200",hoverText:"hover:text-fuchsia-800",border:"border-fuchsia-300"},pink:{bg:"bg-pink-100",text:"text-pink-600",hoverBg:"hover:bg-pink-200",hoverText:"hover:text-pink-800",border:"border-pink-300"},rose:{bg:"bg-rose-100",text:"text-rose-600",hoverBg:"hover:bg-rose-200",hoverText:"hover:text-rose-800",border:"border-rose-300"}},Zv=[{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",description:"The latest, fastest, and most capable model for general tasks."}],Ud=Zv[0].id,Wv=[{id:"gpt-4o",name:"GPT-4o",description:"OpenAI's latest and most advanced model."},{id:"gpt-4-turbo",name:"GPT-4 Turbo",description:"High-performance model for large-scale tasks."}],Ld=Wv[0].id,cS=({card:t,onSelect:e,tags:i})=>{const r=aS[t.status],a=sS[t.status],c=uS[t.status];return _.jsx("div",{onClick:e,className:`bg-white rounded-xl shadow-card hover:shadow-card-hover transition-all duration-300 cursor-pointer border-l-4 ${a} ${c} overflow-hidden hover:-translate-y-1 flex flex-col`,children:_.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 break-words w-full pr-2 mb-2",children:t.title}),i.length>0&&_.jsx("div",{className:"flex flex-wrap gap-1.5 mb-4",children:i.map(d=>{const p=fr[d.color]||fr.slate;return _.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${p.bg} ${p.text}`,children:d.name},d.id)})}),_.jsxs("div",{className:"mt-auto flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-500",children:[_.jsx(eS,{className:"w-4 h-4"}),_.jsx("span",{children:new Date(t.updatedAt).toLocaleDateString()})]}),_.jsx("span",{className:`px-2.5 py-1 text-xs font-medium rounded-md whitespace-nowrap ${r}`,children:t.status})]})]})})},fS=({cards:t,onCardSelect:e,tagsMap:i})=>_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(r=>{const a=(r.tagIds||[]).map(c=>i.get(c)).filter(Boolean);return _.jsx(cS,{card:r,onSelect:()=>e(r.id),tags:a},r.id)})});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dS,pS;function hS(){return{geminiUrl:dS,vertexUrl:pS}}function mS(t,e,i,r){var a,c;if(!(t!=null&&t.baseUrl)){const d=hS();return e?(a=d.vertexUrl)!==null&&a!==void 0?a:i:(c=d.geminiUrl)!==null&&c!==void 0?c:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oo{}function Fe(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(r,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const c=e[a];return c!=null?String(c):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function u(t,e,i){for(let c=0;c<e.length-1;c++){const d=e[c];if(d.endsWith("[]")){const p=d.slice(0,-2);if(!(p in t))if(Array.isArray(i))t[p]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(t[p])){const y=t[p];if(Array.isArray(i))for(let m=0;m<y.length;m++){const v=y[m];u(v,e.slice(c+1),i[m])}else for(const m of y)u(m,e.slice(c+1),i)}return}else if(d.endsWith("[0]")){const p=d.slice(0,-3);p in t||(t[p]=[{}]);const y=t[p];u(y[0],e.slice(c+1),i);return}(!t[d]||typeof t[d]!="object")&&(t[d]={}),t=t[d]}const r=e[e.length-1],a=t[r];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=i}function s(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return;const r=e[i];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in t){const c=t[a];return Array.isArray(c)?c.map(d=>s(d,e.slice(i+1))):void 0}else return}else t=t[r]}return t}catch(i){if(i instanceof TypeError)return;throw i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ig;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ig||(Ig={}));var Pg;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Pg||(Pg={}));var Xt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Xt||(Xt={}));var Ug;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Ug||(Ug={}));var Lg;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Lg||(Lg={}));var qg;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(qg||(qg={}));var Bg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Bg||(Bg={}));var Vg;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Vg||(Vg={}));var Og;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Og||(Og={}));var Hg;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Hg||(Hg={}));var zg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(zg||(zg={}));var Gg;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Gg||(Gg={}));var Fg;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Fg||(Fg={}));var Kg;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Kg||(Kg={}));var Yg;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Yg||(Yg={}));var nc;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(nc||(nc={}));var Jg;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Jg||(Jg={}));var Bd;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Bd||(Bd={}));var $g;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})($g||($g={}));var Xg;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Xg||(Xg={}));var Qg;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Qg||(Qg={}));var Zg;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Zg||(Zg={}));var Wg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Wg||(Wg={}));var jg;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(jg||(jg={}));var ey;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(ey||(ey={}));var ty;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ty||(ty={}));var ny;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(ny||(ny={}));var iy;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(iy||(iy={}));var ry;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ry||(ry={}));var oy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(oy||(oy={}));var ly;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ly||(ly={}));var ay;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ay||(ay={}));var sy;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(sy||(sy={}));var uy;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(uy||(uy={}));var cy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(cy||(cy={}));var fy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(fy||(fy={}));var dy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(dy||(dy={}));var py;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(py||(py={}));var hy;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(hy||(hy={}));var my;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(my||(my={}));var gy;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(gy||(gy={}));var yy;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(yy||(yy={}));var vy;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(vy||(vy={}));var xy;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(xy||(xy={}));var Ty;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Ty||(Ty={}));var Bl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Bl||(Bl={}));class Vd{constructor(e){const i={};for(const r of e.headers.entries())i[r[0]]=r[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class ds{get text(){var e,i,r,a,c,d,p,y;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const S=[];for(const E of(y=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[M,U]of Object.entries(E))M!=="text"&&M!=="thought"&&(U!==null||U!==void 0)&&S.push(M);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,m+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var e,i,r,a,c,d,p,y;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const S of(y=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[E,M]of Object.entries(S))E!=="inlineData"&&(M!==null||M!==void 0)&&v.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(m+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,i,r,a,c,d,p,y;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,i,r,a,c,d,p,y,m;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,i,r,a,c,d,p,y,m;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class Sy{}class Cy{}class gS{}class yS{}class vS{}class xS{}class Ey{}class by{}class _y{}class TS{}class Ay{}class ic{_fromAPIResponse({apiResponse:e,isVertexAI:i}){const r=new ic;if(r.name=e.name,r.metadata=e.metadata,r.done=e.done,r.error=e.error,i){const a=e.response;if(a){const c=new Ay,d=a.videos;c.generatedVideos=d==null?void 0:d.map(p=>({video:{uri:p.gcsUri,videoBytes:p.bytesBase64Encoded?qd(p.bytesBase64Encoded):void 0,mimeType:p.mimeType}})),c.raiMediaFilteredCount=a.raiMediaFilteredCount,c.raiMediaFilteredReasons=a.raiMediaFilteredReasons,r.response=c}}else{const a=e.response;if(a){const c=new Ay,d=a.generateVideoResponse,p=d==null?void 0:d.generatedSamples;c.generatedVideos=p==null?void 0:p.map(y=>{const m=y.video;return{video:{uri:m==null?void 0:m.uri,videoBytes:m!=null&&m.encodedVideo?qd(m==null?void 0:m.encodedVideo):void 0,mimeType:y.encoding}}}),c.raiMediaFilteredCount=d==null?void 0:d.raiMediaFilteredCount,c.raiMediaFilteredReasons=d==null?void 0:d.raiMediaFilteredReasons,r.response=c}}return r}}class wy{}class My{}class Ry{}class SS{}class CS{}class ES{}class Ny{}class bS{get text(){var e,i,r;let a="",c=!1;const d=[];for(const p of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[y,m]of Object.entries(p))y!=="text"&&y!=="thought"&&m!==null&&d.push(y);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;c=!0,a+=p.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?a:void 0}get data(){var e,i,r;let a="";const c=[];for(const d of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[p,y]of Object.entries(d))p!=="inlineData"&&y!==null&&c.push(p);d.inlineData&&typeof d.inlineData.data=="string"&&(a+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class _S{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function jv(t,e){const i=Tt(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function e0(t){return Array.isArray(t)?t.map(e=>rc(e)):[rc(t)]}function rc(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function t0(t){const e=rc(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function n0(t){const e=rc(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ky(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function i0(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>ky(e)):[ky(t)]}function Od(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Dy(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Iy(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Cn(t){if(t==null)throw new Error("ContentUnion is required");return Od(t)?t:{role:"user",parts:i0(t)}}function r0(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const r=Cn(i);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const i=Cn(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Cn(i)):[Cn(e)]}function hi(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Dy(t)||Iy(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Cn(t)]}const e=[],i=[],r=Od(t[0]);for(const a of t){const c=Od(a);if(c!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(a);else{if(Dy(a)||Iy(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return r||e.push({role:"user",parts:i0(i)}),e}function AS(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(r=>r!=="null");if(i.length===1)e.type=Object.values(Xt).includes(i[0].toUpperCase())?i[0].toUpperCase():Xt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of i)e.anyOf.push({type:Object.values(Xt).includes(r.toUpperCase())?r.toUpperCase():Xt.TYPE_UNSPECIFIED})}}function Vl(t){const e={},i=["items"],r=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=t.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,t=c[1]):c[1].type==="null"&&(e.nullable=!0,t=c[0])),t.type instanceof Array&&AS(t.type,e);for(const[d,p]of Object.entries(t))if(p!=null)if(d=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(Xt).includes(p.toUpperCase())?p.toUpperCase():Xt.TYPE_UNSPECIFIED}else if(i.includes(d))e[d]=Vl(p);else if(r.includes(d)){const y=[];for(const m of p){if(m.type=="null"){e.nullable=!0;continue}y.push(Vl(m))}e[d]=y}else if(a.includes(d)){const y={};for(const[m,v]of Object.entries(p))y[m]=Vl(v);e[d]=y}else{if(d==="additionalProperties")continue;e[d]=p}return e}function sp(t){return Vl(t)}function up(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function cp(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Jl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Vl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Vl(e.response));return t}function $l(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function wS(t,e,i,r=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function dr(t,e){if(typeof e!="string")throw new Error("name must be a string");return wS(t,e,"cachedContents")}function o0(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ho(t){return qd(t)}function MS(t){return t!=null&&typeof t=="object"&&"name"in t}function RS(t){return t!=null&&typeof t=="object"&&"video"in t}function NS(t){return t!=null&&typeof t=="object"&&"uri"in t}function l0(t){var e;let i;if(MS(t)&&(i=t.name),!(NS(t)&&(i=t.uri,i===void 0))&&!(RS(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function a0(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function s0(t){for(const e of["models","tunedModels","publisherModels"])if(kS(t,e))return t[e];return[]}function kS(t,e){return t!==null&&typeof t=="object"&&e in t}function DS(t,e={}){const i=t,r={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(r.responseJsonSchema=i.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function IS(t,e={}){const i=[],r=new Set;for(const a of t){const c=a.name;if(r.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);r.add(c);const d=DS(a,e);d.functionDeclarations&&i.push(...d.functionDeclarations)}return{functionDeclarations:i}}function u0(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function PS(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Xl(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function c0(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function US(t){const e={},i=s(t,["fps"]);i!=null&&u(e,["fps"],i);const r=s(t,["endOffset"]);r!=null&&u(e,["endOffset"],r);const a=s(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function LS(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(t,["data"]);i!=null&&u(e,["data"],i);const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function qS(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(t,["fileUri"]);i!=null&&u(e,["fileUri"],i);const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function BS(t){const e={},i=s(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],US(i));const r=s(t,["thought"]);r!=null&&u(e,["thought"],r);const a=s(t,["inlineData"]);a!=null&&u(e,["inlineData"],LS(a));const c=s(t,["fileData"]);c!=null&&u(e,["fileData"],qS(c));const d=s(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&u(e,["codeExecutionResult"],p);const y=s(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const m=s(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const v=s(t,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(t,["text"]);return S!=null&&u(e,["text"],S),e}function f0(t){const e={},i=s(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>BS(c))),u(e,["parts"],a)}const r=s(t,["role"]);return r!=null&&u(e,["role"],r),e}function VS(t){const e={},i=s(t,["anyOf"]);i!=null&&u(e,["anyOf"],i);const r=s(t,["default"]);r!=null&&u(e,["default"],r);const a=s(t,["description"]);a!=null&&u(e,["description"],a);const c=s(t,["enum"]);c!=null&&u(e,["enum"],c);const d=s(t,["example"]);d!=null&&u(e,["example"],d);const p=s(t,["format"]);p!=null&&u(e,["format"],p);const y=s(t,["items"]);y!=null&&u(e,["items"],y);const m=s(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const v=s(t,["maxLength"]);v!=null&&u(e,["maxLength"],v);const S=s(t,["maxProperties"]);S!=null&&u(e,["maxProperties"],S);const E=s(t,["maximum"]);E!=null&&u(e,["maximum"],E);const M=s(t,["minItems"]);M!=null&&u(e,["minItems"],M);const U=s(t,["minLength"]);U!=null&&u(e,["minLength"],U);const B=s(t,["minProperties"]);B!=null&&u(e,["minProperties"],B);const re=s(t,["minimum"]);re!=null&&u(e,["minimum"],re);const X=s(t,["nullable"]);X!=null&&u(e,["nullable"],X);const se=s(t,["pattern"]);se!=null&&u(e,["pattern"],se);const te=s(t,["properties"]);te!=null&&u(e,["properties"],te);const Te=s(t,["propertyOrdering"]);Te!=null&&u(e,["propertyOrdering"],Te);const ye=s(t,["required"]);ye!=null&&u(e,["required"],ye);const j=s(t,["title"]);j!=null&&u(e,["title"],j);const Se=s(t,["type"]);return Se!=null&&u(e,["type"],Se),e}function OS(t){const e={};if(s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=s(t,["category"]);i!=null&&u(e,["category"],i);const r=s(t,["threshold"]);return r!=null&&u(e,["threshold"],r),e}function HS(t){const e={},i=s(t,["behavior"]);i!=null&&u(e,["behavior"],i);const r=s(t,["description"]);r!=null&&u(e,["description"],r);const a=s(t,["name"]);a!=null&&u(e,["name"],a);const c=s(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=s(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const p=s(t,["response"]);p!=null&&u(e,["response"],p);const y=s(t,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function zS(t){const e={},i=s(t,["startTime"]);i!=null&&u(e,["startTime"],i);const r=s(t,["endTime"]);return r!=null&&u(e,["endTime"],r),e}function GS(t){const e={},i=s(t,["timeRangeFilter"]);if(i!=null&&u(e,["timeRangeFilter"],zS(i)),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function FS(t){const e={},i=s(t,["mode"]);i!=null&&u(e,["mode"],i);const r=s(t,["dynamicThreshold"]);return r!=null&&u(e,["dynamicThreshold"],r),e}function KS(t){const e={},i=s(t,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],FS(i)),e}function YS(){return{}}function JS(t){const e={},i=s(t,["environment"]);return i!=null&&u(e,["environment"],i),e}function $S(t){const e={},i=s(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(m=>HS(m))),u(e,["functionDeclarations"],y)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=s(t,["googleSearch"]);r!=null&&u(e,["googleSearch"],GS(r));const a=s(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],KS(a)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&u(e,["urlContext"],YS());const d=s(t,["computerUse"]);d!=null&&u(e,["computerUse"],JS(d));const p=s(t,["codeExecution"]);return p!=null&&u(e,["codeExecution"],p),e}function XS(t){const e={},i=s(t,["mode"]);i!=null&&u(e,["mode"],i);const r=s(t,["allowedFunctionNames"]);return r!=null&&u(e,["allowedFunctionNames"],r),e}function QS(t){const e={},i=s(t,["latitude"]);i!=null&&u(e,["latitude"],i);const r=s(t,["longitude"]);return r!=null&&u(e,["longitude"],r),e}function ZS(t){const e={},i=s(t,["latLng"]);i!=null&&u(e,["latLng"],QS(i));const r=s(t,["languageCode"]);return r!=null&&u(e,["languageCode"],r),e}function WS(t){const e={},i=s(t,["functionCallingConfig"]);i!=null&&u(e,["functionCallingConfig"],XS(i));const r=s(t,["retrievalConfig"]);return r!=null&&u(e,["retrievalConfig"],ZS(r)),e}function jS(t){const e={},i=s(t,["voiceName"]);return i!=null&&u(e,["voiceName"],i),e}function d0(t){const e={},i=s(t,["prebuiltVoiceConfig"]);return i!=null&&u(e,["prebuiltVoiceConfig"],jS(i)),e}function eC(t){const e={},i=s(t,["speaker"]);i!=null&&u(e,["speaker"],i);const r=s(t,["voiceConfig"]);return r!=null&&u(e,["voiceConfig"],d0(r)),e}function tC(t){const e={},i=s(t,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>eC(a))),u(e,["speakerVoiceConfigs"],r)}return e}function nC(t){const e={},i=s(t,["voiceConfig"]);i!=null&&u(e,["voiceConfig"],d0(i));const r=s(t,["multiSpeakerVoiceConfig"]);r!=null&&u(e,["multiSpeakerVoiceConfig"],tC(r));const a=s(t,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function iC(t){const e={},i=s(t,["includeThoughts"]);i!=null&&u(e,["includeThoughts"],i);const r=s(t,["thinkingBudget"]);return r!=null&&u(e,["thinkingBudget"],r),e}function rC(t,e,i){const r={},a=s(e,["systemInstruction"]);i!==void 0&&a!=null&&u(i,["systemInstruction"],f0(Cn(a)));const c=s(e,["temperature"]);c!=null&&u(r,["temperature"],c);const d=s(e,["topP"]);d!=null&&u(r,["topP"],d);const p=s(e,["topK"]);p!=null&&u(r,["topK"],p);const y=s(e,["candidateCount"]);y!=null&&u(r,["candidateCount"],y);const m=s(e,["maxOutputTokens"]);m!=null&&u(r,["maxOutputTokens"],m);const v=s(e,["stopSequences"]);v!=null&&u(r,["stopSequences"],v);const S=s(e,["responseLogprobs"]);S!=null&&u(r,["responseLogprobs"],S);const E=s(e,["logprobs"]);E!=null&&u(r,["logprobs"],E);const M=s(e,["presencePenalty"]);M!=null&&u(r,["presencePenalty"],M);const U=s(e,["frequencyPenalty"]);U!=null&&u(r,["frequencyPenalty"],U);const B=s(e,["seed"]);B!=null&&u(r,["seed"],B);const re=s(e,["responseMimeType"]);re!=null&&u(r,["responseMimeType"],re);const X=s(e,["responseSchema"]);X!=null&&u(r,["responseSchema"],VS(sp(X)));const se=s(e,["responseJsonSchema"]);if(se!=null&&u(r,["responseJsonSchema"],se),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const te=s(e,["safetySettings"]);if(i!==void 0&&te!=null){let ce=te;Array.isArray(ce)&&(ce=ce.map(me=>OS(me))),u(i,["safetySettings"],ce)}const Te=s(e,["tools"]);if(i!==void 0&&Te!=null){let ce=$l(Te);Array.isArray(ce)&&(ce=ce.map(me=>$S(Jl(me)))),u(i,["tools"],ce)}const ye=s(e,["toolConfig"]);if(i!==void 0&&ye!=null&&u(i,["toolConfig"],WS(ye)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=s(e,["cachedContent"]);i!==void 0&&j!=null&&u(i,["cachedContent"],dr(t,j));const Se=s(e,["responseModalities"]);Se!=null&&u(r,["responseModalities"],Se);const ze=s(e,["mediaResolution"]);ze!=null&&u(r,["mediaResolution"],ze);const we=s(e,["speechConfig"]);if(we!=null&&u(r,["speechConfig"],nC(up(we))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=s(e,["thinkingConfig"]);return ae!=null&&u(r,["thinkingConfig"],iC(ae)),r}function oC(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["request","model"],Tt(t,r));const a=s(e,["contents"]);if(a!=null){let d=hi(a);Array.isArray(d)&&(d=d.map(p=>f0(p))),u(i,["request","contents"],d)}const c=s(e,["config"]);return c!=null&&u(i,["request","generationConfig"],rC(t,c,i)),i}function lC(t,e){const i={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=s(e,["fileName"]);r!=null&&u(i,["fileName"],r);const a=s(e,["inlinedRequests"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>oC(t,d))),u(i,["requests","requests"],c)}return i}function aC(t,e){const i={},r=s(t,["displayName"]);if(e!==void 0&&r!=null&&u(e,["batch","displayName"],r),s(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function Py(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","model"],Tt(t,r));const a=s(e,["src"]);a!=null&&u(i,["batch","inputConfig"],lC(t,u0(t,a)));const c=s(e,["config"]);return c!=null&&u(i,["config"],aC(c,i)),i}function sC(t,e){const i={},r=s(e,["name"]);r!=null&&u(i,["_url","name"],Xl(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],a),i}function uC(t,e){const i={},r=s(e,["name"]);r!=null&&u(i,["_url","name"],Xl(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],a),i}function cC(t,e){const i={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const a=s(t,["pageToken"]);if(e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),s(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function fC(t){const e={},i=s(t,["config"]);return i!=null&&u(e,["config"],cC(i,e)),e}function dC(t,e){const i={},r=s(e,["name"]);r!=null&&u(i,["_url","name"],Xl(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],a),i}function pC(t){const e={},i=s(t,["format"]);i!=null&&u(e,["instancesFormat"],i);const r=s(t,["gcsUri"]);r!=null&&u(e,["gcsSource","uris"],r);const a=s(t,["bigqueryUri"]);if(a!=null&&u(e,["bigquerySource","inputUri"],a),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function hC(t){const e={},i=s(t,["format"]);i!=null&&u(e,["predictionsFormat"],i);const r=s(t,["gcsUri"]);r!=null&&u(e,["gcsDestination","outputUriPrefix"],r);const a=s(t,["bigqueryUri"]);if(a!=null&&u(e,["bigqueryDestination","outputUri"],a),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function mC(t,e){const i={},r=s(t,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);const a=s(t,["dest"]);return e!==void 0&&a!=null&&u(e,["outputConfig"],hC(PS(a))),i}function gC(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["model"],Tt(t,r));const a=s(e,["src"]);a!=null&&u(i,["inputConfig"],pC(u0(t,a)));const c=s(e,["config"]);return c!=null&&u(i,["config"],mC(c,i)),i}function yC(t,e){const i={},r=s(e,["name"]);r!=null&&u(i,["_url","name"],Xl(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],a),i}function vC(t,e){const i={},r=s(e,["name"]);r!=null&&u(i,["_url","name"],Xl(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],a),i}function xC(t,e){const i={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const a=s(t,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const c=s(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),i}function TC(t){const e={},i=s(t,["config"]);return i!=null&&u(e,["config"],xC(i,e)),e}function SC(t,e){const i={},r=s(e,["name"]);r!=null&&u(i,["_url","name"],Xl(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],a),i}function CC(t){const e={},i=s(t,["fps"]);i!=null&&u(e,["fps"],i);const r=s(t,["endOffset"]);r!=null&&u(e,["endOffset"],r);const a=s(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function EC(t){const e={},i=s(t,["data"]);i!=null&&u(e,["data"],i);const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function bC(t){const e={},i=s(t,["fileUri"]);i!=null&&u(e,["fileUri"],i);const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function _C(t){const e={},i=s(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],CC(i));const r=s(t,["thought"]);r!=null&&u(e,["thought"],r);const a=s(t,["inlineData"]);a!=null&&u(e,["inlineData"],EC(a));const c=s(t,["fileData"]);c!=null&&u(e,["fileData"],bC(c));const d=s(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&u(e,["codeExecutionResult"],p);const y=s(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const m=s(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const v=s(t,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(t,["text"]);return S!=null&&u(e,["text"],S),e}function AC(t){const e={},i=s(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>_C(c))),u(e,["parts"],a)}const r=s(t,["role"]);return r!=null&&u(e,["role"],r),e}function wC(t){const e={},i=s(t,["citationSources"]);return i!=null&&u(e,["citations"],i),e}function MC(t){const e={},i=s(t,["retrievedUrl"]);i!=null&&u(e,["retrievedUrl"],i);const r=s(t,["urlRetrievalStatus"]);return r!=null&&u(e,["urlRetrievalStatus"],r),e}function RC(t){const e={},i=s(t,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>MC(a))),u(e,["urlMetadata"],r)}return e}function NC(t){const e={},i=s(t,["content"]);i!=null&&u(e,["content"],AC(i));const r=s(t,["citationMetadata"]);r!=null&&u(e,["citationMetadata"],wC(r));const a=s(t,["tokenCount"]);a!=null&&u(e,["tokenCount"],a);const c=s(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=s(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],RC(d));const p=s(t,["avgLogprobs"]);p!=null&&u(e,["avgLogprobs"],p);const y=s(t,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const m=s(t,["index"]);m!=null&&u(e,["index"],m);const v=s(t,["logprobsResult"]);v!=null&&u(e,["logprobsResult"],v);const S=s(t,["safetyRatings"]);return S!=null&&u(e,["safetyRatings"],S),e}function kC(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(m=>NC(m))),u(e,["candidates"],y)}const a=s(t,["modelVersion"]);a!=null&&u(e,["modelVersion"],a);const c=s(t,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const d=s(t,["responseId"]);d!=null&&u(e,["responseId"],d);const p=s(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function p0(t){const e={},i=s(t,["details"]);i!=null&&u(e,["details"],i);const r=s(t,["code"]);r!=null&&u(e,["code"],r);const a=s(t,["message"]);return a!=null&&u(e,["message"],a),e}function DC(t){const e={},i=s(t,["response"]);i!=null&&u(e,["response"],kC(i));const r=s(t,["error"]);return r!=null&&u(e,["error"],p0(r)),e}function IC(t){const e={},i=s(t,["responsesFile"]);i!=null&&u(e,["fileName"],i);const r=s(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>DC(c))),u(e,["inlinedResponses"],a)}return e}function Qu(t){const e={},i=s(t,["name"]);i!=null&&u(e,["name"],i);const r=s(t,["metadata","displayName"]);r!=null&&u(e,["displayName"],r);const a=s(t,["metadata","state"]);a!=null&&u(e,["state"],c0(a));const c=s(t,["metadata","createTime"]);c!=null&&u(e,["createTime"],c);const d=s(t,["metadata","endTime"]);d!=null&&u(e,["endTime"],d);const p=s(t,["metadata","updateTime"]);p!=null&&u(e,["updateTime"],p);const y=s(t,["metadata","model"]);y!=null&&u(e,["model"],y);const m=s(t,["metadata","output"]);return m!=null&&u(e,["dest"],IC(m)),e}function PC(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const a=s(t,["operations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Qu(d))),u(e,["batchJobs"],c)}return e}function UC(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["name"]);r!=null&&u(e,["name"],r);const a=s(t,["done"]);a!=null&&u(e,["done"],a);const c=s(t,["error"]);return c!=null&&u(e,["error"],p0(c)),e}function h0(t){const e={},i=s(t,["details"]);i!=null&&u(e,["details"],i);const r=s(t,["code"]);r!=null&&u(e,["code"],r);const a=s(t,["message"]);return a!=null&&u(e,["message"],a),e}function LC(t){const e={},i=s(t,["instancesFormat"]);i!=null&&u(e,["format"],i);const r=s(t,["gcsSource","uris"]);r!=null&&u(e,["gcsUri"],r);const a=s(t,["bigquerySource","inputUri"]);return a!=null&&u(e,["bigqueryUri"],a),e}function qC(t){const e={},i=s(t,["predictionsFormat"]);i!=null&&u(e,["format"],i);const r=s(t,["gcsDestination","outputUriPrefix"]);r!=null&&u(e,["gcsUri"],r);const a=s(t,["bigqueryDestination","outputUri"]);return a!=null&&u(e,["bigqueryUri"],a),e}function Hd(t){const e={},i=s(t,["name"]);i!=null&&u(e,["name"],i);const r=s(t,["displayName"]);r!=null&&u(e,["displayName"],r);const a=s(t,["state"]);a!=null&&u(e,["state"],c0(a));const c=s(t,["error"]);c!=null&&u(e,["error"],h0(c));const d=s(t,["createTime"]);d!=null&&u(e,["createTime"],d);const p=s(t,["startTime"]);p!=null&&u(e,["startTime"],p);const y=s(t,["endTime"]);y!=null&&u(e,["endTime"],y);const m=s(t,["updateTime"]);m!=null&&u(e,["updateTime"],m);const v=s(t,["model"]);v!=null&&u(e,["model"],v);const S=s(t,["inputConfig"]);S!=null&&u(e,["src"],LC(S));const E=s(t,["outputConfig"]);return E!=null&&u(e,["dest"],qC(E)),e}function BC(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const a=s(t,["batchPredictionJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Hd(d))),u(e,["batchJobs"],c)}return e}function VC(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["name"]);r!=null&&u(e,["name"],r);const a=s(t,["done"]);a!=null&&u(e,["done"],a);const c=s(t,["error"]);return c!=null&&u(e,["error"],h0(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vo;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Vo||(Vo={}));class As{constructor(e,i,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,r,a)}init(e,i,r){var a,c;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!r||Object.keys(r).length===0?d={config:{}}:typeof r=="object"?d=Object.assign({},r):d=r,d.config&&(d.config.pageToken=i.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(c=(a=d.config)===null||a===void 0?void 0:a.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OC extends Oo{constructor(e){super(),this.apiClient=e,this.create=async i=>{var r,a;if(this.apiClient.isVertexAI()){const d=Date.now().toString();if(Array.isArray(i.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(i.config=i.config||{},i.config.displayName===void 0&&(i.config.displayName="genaiBatchJob_${timestampStr}"),i.config.dest===void 0&&typeof i.src=="string")if(i.src.startsWith("gs://")&&i.src.endsWith(".jsonl"))i.config.dest=`${i.src.slice(0,-6)}/dest`;else if(i.src.startsWith("bq://"))i.config.dest=`${i.src}_dest_${d}`;else throw new Error("Unsupported source:"+i.src)}else if(Array.isArray(i.src)||typeof i.src!="string"&&i.src.inlinedRequests){let c="",d={};const p=Py(this.apiClient,i);c=Fe("{model}:batchGenerateContent",p._url),d=p._query;const v=p.batch.inputConfig.requests,S=v.requests,E=[];for(const U of S){const B=U;if(B.systemInstruction){const re=B.systemInstruction;delete B.systemInstruction;const X=B.request;X.systemInstruction=re,B.request=X}E.push(B)}return v.requests=E,delete p.config,delete p._url,delete p._query,this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=i.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(U=>U.json()).then(U=>Qu(U))}return await this.createInternal(i)},this.list=async(i={})=>new As(Vo.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(i),i)}async createInternal(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=gC(this.apiClient,e);return p=Fe("batchPredictionJobs",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d.then(v=>Hd(v))}else{const m=Py(this.apiClient,e);return p=Fe("{model}:batchGenerateContent",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Qu(v))}}async get(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=yC(this.apiClient,e);return p=Fe("batchPredictionJobs/{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d.then(v=>Hd(v))}else{const m=sC(this.apiClient,e);return p=Fe("batches/{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Qu(v))}}async cancel(e){var i,r,a,c;let d="",p={};if(this.apiClient.isVertexAI()){const y=vC(this.apiClient,e);d=Fe("batchPredictionJobs/{name}:cancel",y._url),p=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const y=uC(this.apiClient,e);d=Fe("batches/{name}:cancel",y._url),p=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=TC(e);return p=Fe("batchPredictionJobs",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=BC(v),E=new Ny;return Object.assign(E,S),E})}else{const m=fC(e);return p=Fe("batches",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=PC(v),E=new Ny;return Object.assign(E,S),E})}}async delete(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=SC(this.apiClient,e);return p=Fe("batchPredictionJobs/{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>VC(v))}else{const m=dC(this.apiClient,e);return p=Fe("batches/{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>UC(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HC(t){const e={},i=s(t,["fps"]);i!=null&&u(e,["fps"],i);const r=s(t,["endOffset"]);r!=null&&u(e,["endOffset"],r);const a=s(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function zC(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(t,["data"]);i!=null&&u(e,["data"],i);const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function GC(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(t,["fileUri"]);i!=null&&u(e,["fileUri"],i);const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function FC(t){const e={},i=s(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],HC(i));const r=s(t,["thought"]);r!=null&&u(e,["thought"],r);const a=s(t,["inlineData"]);a!=null&&u(e,["inlineData"],zC(a));const c=s(t,["fileData"]);c!=null&&u(e,["fileData"],GC(c));const d=s(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&u(e,["codeExecutionResult"],p);const y=s(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const m=s(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const v=s(t,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(t,["text"]);return S!=null&&u(e,["text"],S),e}function Uy(t){const e={},i=s(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>FC(c))),u(e,["parts"],a)}const r=s(t,["role"]);return r!=null&&u(e,["role"],r),e}function KC(t){const e={},i=s(t,["behavior"]);i!=null&&u(e,["behavior"],i);const r=s(t,["description"]);r!=null&&u(e,["description"],r);const a=s(t,["name"]);a!=null&&u(e,["name"],a);const c=s(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=s(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const p=s(t,["response"]);p!=null&&u(e,["response"],p);const y=s(t,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function YC(t){const e={},i=s(t,["startTime"]);i!=null&&u(e,["startTime"],i);const r=s(t,["endTime"]);return r!=null&&u(e,["endTime"],r),e}function JC(t){const e={},i=s(t,["timeRangeFilter"]);if(i!=null&&u(e,["timeRangeFilter"],YC(i)),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function $C(t){const e={},i=s(t,["mode"]);i!=null&&u(e,["mode"],i);const r=s(t,["dynamicThreshold"]);return r!=null&&u(e,["dynamicThreshold"],r),e}function XC(t){const e={},i=s(t,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],$C(i)),e}function QC(){return{}}function ZC(t){const e={},i=s(t,["environment"]);return i!=null&&u(e,["environment"],i),e}function WC(t){const e={},i=s(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(m=>KC(m))),u(e,["functionDeclarations"],y)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=s(t,["googleSearch"]);r!=null&&u(e,["googleSearch"],JC(r));const a=s(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],XC(a)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&u(e,["urlContext"],QC());const d=s(t,["computerUse"]);d!=null&&u(e,["computerUse"],ZC(d));const p=s(t,["codeExecution"]);return p!=null&&u(e,["codeExecution"],p),e}function jC(t){const e={},i=s(t,["mode"]);i!=null&&u(e,["mode"],i);const r=s(t,["allowedFunctionNames"]);return r!=null&&u(e,["allowedFunctionNames"],r),e}function eE(t){const e={},i=s(t,["latitude"]);i!=null&&u(e,["latitude"],i);const r=s(t,["longitude"]);return r!=null&&u(e,["longitude"],r),e}function tE(t){const e={},i=s(t,["latLng"]);i!=null&&u(e,["latLng"],eE(i));const r=s(t,["languageCode"]);return r!=null&&u(e,["languageCode"],r),e}function nE(t){const e={},i=s(t,["functionCallingConfig"]);i!=null&&u(e,["functionCallingConfig"],jC(i));const r=s(t,["retrievalConfig"]);return r!=null&&u(e,["retrievalConfig"],tE(r)),e}function iE(t,e){const i={},r=s(t,["ttl"]);e!==void 0&&r!=null&&u(e,["ttl"],r);const a=s(t,["expireTime"]);e!==void 0&&a!=null&&u(e,["expireTime"],a);const c=s(t,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const d=s(t,["contents"]);if(e!==void 0&&d!=null){let v=hi(d);Array.isArray(v)&&(v=v.map(S=>Uy(S))),u(e,["contents"],v)}const p=s(t,["systemInstruction"]);e!==void 0&&p!=null&&u(e,["systemInstruction"],Uy(Cn(p)));const y=s(t,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>WC(S))),u(e,["tools"],v)}const m=s(t,["toolConfig"]);if(e!==void 0&&m!=null&&u(e,["toolConfig"],nE(m)),s(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function rE(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["model"],jv(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],iE(a,i)),i}function oE(t,e){const i={},r=s(e,["name"]);r!=null&&u(i,["_url","name"],dr(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],a),i}function lE(t,e){const i={},r=s(e,["name"]);r!=null&&u(i,["_url","name"],dr(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],a),i}function aE(t,e){const i={},r=s(t,["ttl"]);e!==void 0&&r!=null&&u(e,["ttl"],r);const a=s(t,["expireTime"]);return e!==void 0&&a!=null&&u(e,["expireTime"],a),i}function sE(t,e){const i={},r=s(e,["name"]);r!=null&&u(i,["_url","name"],dr(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],aE(a,i)),i}function uE(t,e){const i={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const a=s(t,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),i}function cE(t){const e={},i=s(t,["config"]);return i!=null&&u(e,["config"],uE(i,e)),e}function fE(t){const e={},i=s(t,["fps"]);i!=null&&u(e,["fps"],i);const r=s(t,["endOffset"]);r!=null&&u(e,["endOffset"],r);const a=s(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function dE(t){const e={},i=s(t,["displayName"]);i!=null&&u(e,["displayName"],i);const r=s(t,["data"]);r!=null&&u(e,["data"],r);const a=s(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function pE(t){const e={},i=s(t,["displayName"]);i!=null&&u(e,["displayName"],i);const r=s(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const a=s(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function hE(t){const e={},i=s(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],fE(i));const r=s(t,["thought"]);r!=null&&u(e,["thought"],r);const a=s(t,["inlineData"]);a!=null&&u(e,["inlineData"],dE(a));const c=s(t,["fileData"]);c!=null&&u(e,["fileData"],pE(c));const d=s(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&u(e,["codeExecutionResult"],p);const y=s(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const m=s(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const v=s(t,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(t,["text"]);return S!=null&&u(e,["text"],S),e}function Ly(t){const e={},i=s(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>hE(c))),u(e,["parts"],a)}const r=s(t,["role"]);return r!=null&&u(e,["role"],r),e}function mE(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=s(t,["description"]);i!=null&&u(e,["description"],i);const r=s(t,["name"]);r!=null&&u(e,["name"],r);const a=s(t,["parameters"]);a!=null&&u(e,["parameters"],a);const c=s(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=s(t,["response"]);d!=null&&u(e,["response"],d);const p=s(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function gE(t){const e={},i=s(t,["startTime"]);i!=null&&u(e,["startTime"],i);const r=s(t,["endTime"]);return r!=null&&u(e,["endTime"],r),e}function yE(t){const e={},i=s(t,["timeRangeFilter"]);i!=null&&u(e,["timeRangeFilter"],gE(i));const r=s(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function vE(t){const e={},i=s(t,["mode"]);i!=null&&u(e,["mode"],i);const r=s(t,["dynamicThreshold"]);return r!=null&&u(e,["dynamicThreshold"],r),e}function xE(t){const e={},i=s(t,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],vE(i)),e}function TE(t){const e={},i=s(t,["excludeDomains"]);return i!=null&&u(e,["excludeDomains"],i),e}function SE(t){const e={},i=s(t,["apiKeyString"]);return i!=null&&u(e,["apiKeyString"],i),e}function CE(t){const e={},i=s(t,["apiKeyConfig"]);i!=null&&u(e,["apiKeyConfig"],SE(i));const r=s(t,["authType"]);r!=null&&u(e,["authType"],r);const a=s(t,["googleServiceAccountConfig"]);a!=null&&u(e,["googleServiceAccountConfig"],a);const c=s(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=s(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const p=s(t,["oidcConfig"]);return p!=null&&u(e,["oidcConfig"],p),e}function EE(t){const e={},i=s(t,["authConfig"]);return i!=null&&u(e,["authConfig"],CE(i)),e}function bE(){return{}}function _E(t){const e={},i=s(t,["environment"]);return i!=null&&u(e,["environment"],i),e}function AE(t){const e={},i=s(t,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(E=>mE(E))),u(e,["functionDeclarations"],S)}const r=s(t,["retrieval"]);r!=null&&u(e,["retrieval"],r);const a=s(t,["googleSearch"]);a!=null&&u(e,["googleSearch"],yE(a));const c=s(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],xE(c));const d=s(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],TE(d));const p=s(t,["googleMaps"]);p!=null&&u(e,["googleMaps"],EE(p)),s(t,["urlContext"])!=null&&u(e,["urlContext"],bE());const m=s(t,["computerUse"]);m!=null&&u(e,["computerUse"],_E(m));const v=s(t,["codeExecution"]);return v!=null&&u(e,["codeExecution"],v),e}function wE(t){const e={},i=s(t,["mode"]);i!=null&&u(e,["mode"],i);const r=s(t,["allowedFunctionNames"]);return r!=null&&u(e,["allowedFunctionNames"],r),e}function ME(t){const e={},i=s(t,["latitude"]);i!=null&&u(e,["latitude"],i);const r=s(t,["longitude"]);return r!=null&&u(e,["longitude"],r),e}function RE(t){const e={},i=s(t,["latLng"]);i!=null&&u(e,["latLng"],ME(i));const r=s(t,["languageCode"]);return r!=null&&u(e,["languageCode"],r),e}function NE(t){const e={},i=s(t,["functionCallingConfig"]);i!=null&&u(e,["functionCallingConfig"],wE(i));const r=s(t,["retrievalConfig"]);return r!=null&&u(e,["retrievalConfig"],RE(r)),e}function kE(t,e){const i={},r=s(t,["ttl"]);e!==void 0&&r!=null&&u(e,["ttl"],r);const a=s(t,["expireTime"]);e!==void 0&&a!=null&&u(e,["expireTime"],a);const c=s(t,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const d=s(t,["contents"]);if(e!==void 0&&d!=null){let S=hi(d);Array.isArray(S)&&(S=S.map(E=>Ly(E))),u(e,["contents"],S)}const p=s(t,["systemInstruction"]);e!==void 0&&p!=null&&u(e,["systemInstruction"],Ly(Cn(p)));const y=s(t,["tools"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>AE(E))),u(e,["tools"],S)}const m=s(t,["toolConfig"]);e!==void 0&&m!=null&&u(e,["toolConfig"],NE(m));const v=s(t,["kmsKeyName"]);return e!==void 0&&v!=null&&u(e,["encryption_spec","kmsKeyName"],v),i}function DE(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["model"],jv(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],kE(a,i)),i}function IE(t,e){const i={},r=s(e,["name"]);r!=null&&u(i,["_url","name"],dr(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],a),i}function PE(t,e){const i={},r=s(e,["name"]);r!=null&&u(i,["_url","name"],dr(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],a),i}function UE(t,e){const i={},r=s(t,["ttl"]);e!==void 0&&r!=null&&u(e,["ttl"],r);const a=s(t,["expireTime"]);return e!==void 0&&a!=null&&u(e,["expireTime"],a),i}function LE(t,e){const i={},r=s(e,["name"]);r!=null&&u(i,["_url","name"],dr(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],UE(a,i)),i}function qE(t,e){const i={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const a=s(t,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),i}function BE(t){const e={},i=s(t,["config"]);return i!=null&&u(e,["config"],qE(i,e)),e}function Zu(t){const e={},i=s(t,["name"]);i!=null&&u(e,["name"],i);const r=s(t,["displayName"]);r!=null&&u(e,["displayName"],r);const a=s(t,["model"]);a!=null&&u(e,["model"],a);const c=s(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=s(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);const p=s(t,["expireTime"]);p!=null&&u(e,["expireTime"],p);const y=s(t,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function VE(t){const e={},i=s(t,["sdkHttpResponse"]);return i!=null&&u(e,["sdkHttpResponse"],i),e}function OE(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const a=s(t,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Zu(d))),u(e,["cachedContents"],c)}return e}function Wu(t){const e={},i=s(t,["name"]);i!=null&&u(e,["name"],i);const r=s(t,["displayName"]);r!=null&&u(e,["displayName"],r);const a=s(t,["model"]);a!=null&&u(e,["model"],a);const c=s(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=s(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);const p=s(t,["expireTime"]);p!=null&&u(e,["expireTime"],p);const y=s(t,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function HE(t){const e={},i=s(t,["sdkHttpResponse"]);return i!=null&&u(e,["sdkHttpResponse"],i),e}function zE(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const a=s(t,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Wu(d))),u(e,["cachedContents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GE extends Oo{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new As(Vo.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(i),i)}async create(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=DE(this.apiClient,e);return p=Fe("cachedContents",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d.then(v=>Wu(v))}else{const m=rE(this.apiClient,e);return p=Fe("cachedContents",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Zu(v))}}async get(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=IE(this.apiClient,e);return p=Fe("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d.then(v=>Wu(v))}else{const m=oE(this.apiClient,e);return p=Fe("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Zu(v))}}async delete(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=PE(this.apiClient,e);return p=Fe("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=HE(v),E=new My;return Object.assign(E,S),E})}else{const m=lE(this.apiClient,e);return p=Fe("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=VE(v),E=new My;return Object.assign(E,S),E})}}async update(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=LE(this.apiClient,e);return p=Fe("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d.then(v=>Wu(v))}else{const m=sE(this.apiClient,e);return p=Fe("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Zu(v))}}async listInternal(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=BE(e);return p=Fe("cachedContents",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=zE(v),E=new Ry;return Object.assign(E,S),E})}else{const m=cE(e);return p=Fe("cachedContents",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=OE(v),E=new Ry;return Object.assign(E,S),E})}}}function qy(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ut(t){return this instanceof Ut?(this.v=t,this):new Ut(t)}function Ol(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(t,e||[]),a,c=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(M){return function(U){return Promise.resolve(U).then(M,S)}}function p(M,U){r[M]&&(a[M]=function(B){return new Promise(function(re,X){c.push([M,B,re,X])>1||y(M,B)})},U&&(a[M]=U(a[M])))}function y(M,U){try{m(r[M](U))}catch(B){E(c[0][3],B)}}function m(M){M.value instanceof Ut?Promise.resolve(M.value.v).then(v,S):E(c[0][2],M)}function v(M){y("next",M)}function S(M){y("throw",M)}function E(M,U){M(U),c.shift(),c.length&&y(c[0][0],c[0][1])}}function ys(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof qy=="function"?qy(t):t[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(c){i[c]=t[c]&&function(d){return new Promise(function(p,y){d=t[c](d),a(p,y,d.done,d.value)})}}function a(c,d,p,y){Promise.resolve(y).then(function(m){c({value:m,done:p})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FE(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:m0(i)}function m0(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function KE(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function By(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let r=0;for(;r<i;)if(t[r].role==="user")e.push(t[r]),r++;else{const a=[];let c=!0;for(;r<i&&t[r].role==="model";)a.push(t[r]),c&&!m0(t[r])&&(c=!1),r++;c?e.push(...a):e.pop()}return e}class YE{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new JE(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class JE{constructor(e,i,r,a={},c=[]){this.apiClient=e,this.modelsModule=i,this.model=r,this.config=a,this.history=c,this.sendPromise=Promise.resolve(),KE(c)}async sendMessage(e){var i;await this.sendPromise;const r=Cn(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var c,d,p;const y=await a,m=(d=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];v!=null&&(E=(p=v.slice(S))!==null&&p!==void 0?p:[]);const M=m?[m]:[];this.recordHistory(r,M,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const r=Cn(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const c=await a;return this.processStreamResponse(c,r)}getHistory(e=!1){const i=e?By(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){var r,a;return Ol(this,arguments,function*(){var d,p,y,m;const v=[];try{for(var S=!0,E=ys(e),M;M=yield Ut(E.next()),d=M.done,!d;S=!0){m=M.value,S=!1;const U=m;if(FE(U)){const B=(a=(r=U.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content;B!==void 0&&v.push(B)}yield yield Ut(U)}}catch(U){p={error:U}}finally{try{!S&&!d&&(y=E.return)&&(yield Ut(y.call(E)))}finally{if(p)throw p.error}}this.recordHistory(i,v)})}recordHistory(e,i,r){let a=[];i.length>0&&i.every(c=>c.role!==void 0)?a=i:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...By(r)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fc extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,fc.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $E(t,e){const i={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const a=s(t,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),i}function XE(t){const e={},i=s(t,["config"]);return i!=null&&u(e,["config"],$E(i,e)),e}function QE(t){const e={},i=s(t,["details"]);i!=null&&u(e,["details"],i);const r=s(t,["message"]);r!=null&&u(e,["message"],r);const a=s(t,["code"]);return a!=null&&u(e,["code"],a),e}function ZE(t){const e={},i=s(t,["name"]);i!=null&&u(e,["name"],i);const r=s(t,["displayName"]);r!=null&&u(e,["displayName"],r);const a=s(t,["mimeType"]);a!=null&&u(e,["mimeType"],a);const c=s(t,["sizeBytes"]);c!=null&&u(e,["sizeBytes"],c);const d=s(t,["createTime"]);d!=null&&u(e,["createTime"],d);const p=s(t,["expirationTime"]);p!=null&&u(e,["expirationTime"],p);const y=s(t,["updateTime"]);y!=null&&u(e,["updateTime"],y);const m=s(t,["sha256Hash"]);m!=null&&u(e,["sha256Hash"],m);const v=s(t,["uri"]);v!=null&&u(e,["uri"],v);const S=s(t,["downloadUri"]);S!=null&&u(e,["downloadUri"],S);const E=s(t,["state"]);E!=null&&u(e,["state"],E);const M=s(t,["source"]);M!=null&&u(e,["source"],M);const U=s(t,["videoMetadata"]);U!=null&&u(e,["videoMetadata"],U);const B=s(t,["error"]);return B!=null&&u(e,["error"],QE(B)),e}function WE(t){const e={},i=s(t,["file"]);i!=null&&u(e,["file"],ZE(i));const r=s(t,["config"]);return r!=null&&u(e,["config"],r),e}function jE(t){const e={},i=s(t,["name"]);i!=null&&u(e,["_url","file"],l0(i));const r=s(t,["config"]);return r!=null&&u(e,["config"],r),e}function eb(t){const e={},i=s(t,["name"]);i!=null&&u(e,["_url","file"],l0(i));const r=s(t,["config"]);return r!=null&&u(e,["config"],r),e}function tb(t){const e={},i=s(t,["details"]);i!=null&&u(e,["details"],i);const r=s(t,["message"]);r!=null&&u(e,["message"],r);const a=s(t,["code"]);return a!=null&&u(e,["code"],a),e}function zd(t){const e={},i=s(t,["name"]);i!=null&&u(e,["name"],i);const r=s(t,["displayName"]);r!=null&&u(e,["displayName"],r);const a=s(t,["mimeType"]);a!=null&&u(e,["mimeType"],a);const c=s(t,["sizeBytes"]);c!=null&&u(e,["sizeBytes"],c);const d=s(t,["createTime"]);d!=null&&u(e,["createTime"],d);const p=s(t,["expirationTime"]);p!=null&&u(e,["expirationTime"],p);const y=s(t,["updateTime"]);y!=null&&u(e,["updateTime"],y);const m=s(t,["sha256Hash"]);m!=null&&u(e,["sha256Hash"],m);const v=s(t,["uri"]);v!=null&&u(e,["uri"],v);const S=s(t,["downloadUri"]);S!=null&&u(e,["downloadUri"],S);const E=s(t,["state"]);E!=null&&u(e,["state"],E);const M=s(t,["source"]);M!=null&&u(e,["source"],M);const U=s(t,["videoMetadata"]);U!=null&&u(e,["videoMetadata"],U);const B=s(t,["error"]);return B!=null&&u(e,["error"],tb(B)),e}function nb(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const a=s(t,["files"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>zd(d))),u(e,["files"],c)}return e}function ib(t){const e={},i=s(t,["sdkHttpResponse"]);return i!=null&&u(e,["sdkHttpResponse"],i),e}function rb(t){const e={},i=s(t,["sdkHttpResponse"]);return i!=null&&u(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ob extends Oo{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new As(Vo.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>zd(i))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,r;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=XE(e);return c=Fe("files",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=nb(y),v=new SS;return Object.assign(v,m),v})}}async createInternal(e){var i,r;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=WE(e);return c=Fe("upload/v1beta/files",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>{const m=ib(y),v=new CS;return Object.assign(v,m),v})}}async get(e){var i,r;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=jE(e);return c=Fe("files/{file}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>zd(y))}}async delete(e){var i,r;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=eb(e);return c=Fe("files/{file}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=rb(y),v=new ES;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lb(t){const e={},i=s(t,["voiceName"]);return i!=null&&u(e,["voiceName"],i),e}function g0(t){const e={},i=s(t,["prebuiltVoiceConfig"]);return i!=null&&u(e,["prebuiltVoiceConfig"],lb(i)),e}function ab(t){const e={},i=s(t,["speaker"]);i!=null&&u(e,["speaker"],i);const r=s(t,["voiceConfig"]);return r!=null&&u(e,["voiceConfig"],g0(r)),e}function sb(t){const e={},i=s(t,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>ab(a))),u(e,["speakerVoiceConfigs"],r)}return e}function ub(t){const e={},i=s(t,["voiceConfig"]);i!=null&&u(e,["voiceConfig"],g0(i));const r=s(t,["multiSpeakerVoiceConfig"]);r!=null&&u(e,["multiSpeakerVoiceConfig"],sb(r));const a=s(t,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function cb(t){const e={},i=s(t,["fps"]);i!=null&&u(e,["fps"],i);const r=s(t,["endOffset"]);r!=null&&u(e,["endOffset"],r);const a=s(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function fb(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(t,["data"]);i!=null&&u(e,["data"],i);const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function db(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(t,["fileUri"]);i!=null&&u(e,["fileUri"],i);const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function pb(t){const e={},i=s(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],cb(i));const r=s(t,["thought"]);r!=null&&u(e,["thought"],r);const a=s(t,["inlineData"]);a!=null&&u(e,["inlineData"],fb(a));const c=s(t,["fileData"]);c!=null&&u(e,["fileData"],db(c));const d=s(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&u(e,["codeExecutionResult"],p);const y=s(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const m=s(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const v=s(t,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(t,["text"]);return S!=null&&u(e,["text"],S),e}function hb(t){const e={},i=s(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>pb(c))),u(e,["parts"],a)}const r=s(t,["role"]);return r!=null&&u(e,["role"],r),e}function mb(t){const e={},i=s(t,["behavior"]);i!=null&&u(e,["behavior"],i);const r=s(t,["description"]);r!=null&&u(e,["description"],r);const a=s(t,["name"]);a!=null&&u(e,["name"],a);const c=s(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=s(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const p=s(t,["response"]);p!=null&&u(e,["response"],p);const y=s(t,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function gb(t){const e={},i=s(t,["startTime"]);i!=null&&u(e,["startTime"],i);const r=s(t,["endTime"]);return r!=null&&u(e,["endTime"],r),e}function yb(t){const e={},i=s(t,["timeRangeFilter"]);if(i!=null&&u(e,["timeRangeFilter"],gb(i)),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function vb(t){const e={},i=s(t,["mode"]);i!=null&&u(e,["mode"],i);const r=s(t,["dynamicThreshold"]);return r!=null&&u(e,["dynamicThreshold"],r),e}function xb(t){const e={},i=s(t,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],vb(i)),e}function Tb(){return{}}function Sb(t){const e={},i=s(t,["environment"]);return i!=null&&u(e,["environment"],i),e}function Cb(t){const e={},i=s(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(m=>mb(m))),u(e,["functionDeclarations"],y)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=s(t,["googleSearch"]);r!=null&&u(e,["googleSearch"],yb(r));const a=s(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],xb(a)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&u(e,["urlContext"],Tb());const d=s(t,["computerUse"]);d!=null&&u(e,["computerUse"],Sb(d));const p=s(t,["codeExecution"]);return p!=null&&u(e,["codeExecution"],p),e}function Eb(t){const e={},i=s(t,["handle"]);if(i!=null&&u(e,["handle"],i),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Vy(){return{}}function bb(t){const e={},i=s(t,["disabled"]);i!=null&&u(e,["disabled"],i);const r=s(t,["startOfSpeechSensitivity"]);r!=null&&u(e,["startOfSpeechSensitivity"],r);const a=s(t,["endOfSpeechSensitivity"]);a!=null&&u(e,["endOfSpeechSensitivity"],a);const c=s(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=s(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function _b(t){const e={},i=s(t,["automaticActivityDetection"]);i!=null&&u(e,["automaticActivityDetection"],bb(i));const r=s(t,["activityHandling"]);r!=null&&u(e,["activityHandling"],r);const a=s(t,["turnCoverage"]);return a!=null&&u(e,["turnCoverage"],a),e}function Ab(t){const e={},i=s(t,["targetTokens"]);return i!=null&&u(e,["targetTokens"],i),e}function wb(t){const e={},i=s(t,["triggerTokens"]);i!=null&&u(e,["triggerTokens"],i);const r=s(t,["slidingWindow"]);return r!=null&&u(e,["slidingWindow"],Ab(r)),e}function Mb(t){const e={},i=s(t,["proactiveAudio"]);return i!=null&&u(e,["proactiveAudio"],i),e}function Rb(t,e){const i={},r=s(t,["generationConfig"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig"],r);const a=s(t,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=s(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=s(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const p=s(t,["topK"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","topK"],p);const y=s(t,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const m=s(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const v=s(t,["seed"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","seed"],v);const S=s(t,["speechConfig"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","speechConfig"],ub(cp(S)));const E=s(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],E);const M=s(t,["systemInstruction"]);e!==void 0&&M!=null&&u(e,["setup","systemInstruction"],hb(Cn(M)));const U=s(t,["tools"]);if(e!==void 0&&U!=null){let ye=$l(U);Array.isArray(ye)&&(ye=ye.map(j=>Cb(Jl(j)))),u(e,["setup","tools"],ye)}const B=s(t,["sessionResumption"]);e!==void 0&&B!=null&&u(e,["setup","sessionResumption"],Eb(B));const re=s(t,["inputAudioTranscription"]);e!==void 0&&re!=null&&u(e,["setup","inputAudioTranscription"],Vy());const X=s(t,["outputAudioTranscription"]);e!==void 0&&X!=null&&u(e,["setup","outputAudioTranscription"],Vy());const se=s(t,["realtimeInputConfig"]);e!==void 0&&se!=null&&u(e,["setup","realtimeInputConfig"],_b(se));const te=s(t,["contextWindowCompression"]);e!==void 0&&te!=null&&u(e,["setup","contextWindowCompression"],wb(te));const Te=s(t,["proactivity"]);return e!==void 0&&Te!=null&&u(e,["setup","proactivity"],Mb(Te)),i}function Nb(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["setup","model"],Tt(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],Rb(a,i)),i}function kb(){return{}}function Db(){return{}}function Ib(t){const e={},i=s(t,["media"]);i!=null&&u(e,["mediaChunks"],e0(i));const r=s(t,["audio"]);r!=null&&u(e,["audio"],n0(r));const a=s(t,["audioStreamEnd"]);a!=null&&u(e,["audioStreamEnd"],a);const c=s(t,["video"]);c!=null&&u(e,["video"],t0(c));const d=s(t,["text"]);return d!=null&&u(e,["text"],d),s(t,["activityStart"])!=null&&u(e,["activityStart"],kb()),s(t,["activityEnd"])!=null&&u(e,["activityEnd"],Db()),e}function y0(t){const e={},i=s(t,["text"]);i!=null&&u(e,["text"],i);const r=s(t,["weight"]);return r!=null&&u(e,["weight"],r),e}function Pb(t){const e={},i=s(t,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>y0(a))),u(e,["weightedPrompts"],r)}return e}function v0(t){const e={},i=s(t,["temperature"]);i!=null&&u(e,["temperature"],i);const r=s(t,["topK"]);r!=null&&u(e,["topK"],r);const a=s(t,["seed"]);a!=null&&u(e,["seed"],a);const c=s(t,["guidance"]);c!=null&&u(e,["guidance"],c);const d=s(t,["bpm"]);d!=null&&u(e,["bpm"],d);const p=s(t,["density"]);p!=null&&u(e,["density"],p);const y=s(t,["brightness"]);y!=null&&u(e,["brightness"],y);const m=s(t,["scale"]);m!=null&&u(e,["scale"],m);const v=s(t,["muteBass"]);v!=null&&u(e,["muteBass"],v);const S=s(t,["muteDrums"]);S!=null&&u(e,["muteDrums"],S);const E=s(t,["onlyBassAndDrums"]);E!=null&&u(e,["onlyBassAndDrums"],E);const M=s(t,["musicGenerationMode"]);return M!=null&&u(e,["musicGenerationMode"],M),e}function Ub(t){const e={},i=s(t,["musicGenerationConfig"]);return i!=null&&u(e,["musicGenerationConfig"],v0(i)),e}function x0(t){const e={},i=s(t,["model"]);return i!=null&&u(e,["model"],i),e}function T0(t){const e={},i=s(t,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>y0(a))),u(e,["weightedPrompts"],r)}return e}function Gd(t){const e={},i=s(t,["setup"]);i!=null&&u(e,["setup"],x0(i));const r=s(t,["clientContent"]);r!=null&&u(e,["clientContent"],T0(r));const a=s(t,["musicGenerationConfig"]);a!=null&&u(e,["musicGenerationConfig"],v0(a));const c=s(t,["playbackControl"]);return c!=null&&u(e,["playbackControl"],c),e}function Lb(t){const e={},i=s(t,["voiceName"]);return i!=null&&u(e,["voiceName"],i),e}function qb(t){const e={},i=s(t,["prebuiltVoiceConfig"]);return i!=null&&u(e,["prebuiltVoiceConfig"],Lb(i)),e}function Bb(t){const e={},i=s(t,["voiceConfig"]);if(i!=null&&u(e,["voiceConfig"],qb(i)),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=s(t,["languageCode"]);return r!=null&&u(e,["languageCode"],r),e}function Vb(t){const e={},i=s(t,["fps"]);i!=null&&u(e,["fps"],i);const r=s(t,["endOffset"]);r!=null&&u(e,["endOffset"],r);const a=s(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function Ob(t){const e={},i=s(t,["displayName"]);i!=null&&u(e,["displayName"],i);const r=s(t,["data"]);r!=null&&u(e,["data"],r);const a=s(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function Hb(t){const e={},i=s(t,["displayName"]);i!=null&&u(e,["displayName"],i);const r=s(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const a=s(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function zb(t){const e={},i=s(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],Vb(i));const r=s(t,["thought"]);r!=null&&u(e,["thought"],r);const a=s(t,["inlineData"]);a!=null&&u(e,["inlineData"],Ob(a));const c=s(t,["fileData"]);c!=null&&u(e,["fileData"],Hb(c));const d=s(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&u(e,["codeExecutionResult"],p);const y=s(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const m=s(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const v=s(t,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(t,["text"]);return S!=null&&u(e,["text"],S),e}function Gb(t){const e={},i=s(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>zb(c))),u(e,["parts"],a)}const r=s(t,["role"]);return r!=null&&u(e,["role"],r),e}function Fb(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=s(t,["description"]);i!=null&&u(e,["description"],i);const r=s(t,["name"]);r!=null&&u(e,["name"],r);const a=s(t,["parameters"]);a!=null&&u(e,["parameters"],a);const c=s(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=s(t,["response"]);d!=null&&u(e,["response"],d);const p=s(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function Kb(t){const e={},i=s(t,["startTime"]);i!=null&&u(e,["startTime"],i);const r=s(t,["endTime"]);return r!=null&&u(e,["endTime"],r),e}function Yb(t){const e={},i=s(t,["timeRangeFilter"]);i!=null&&u(e,["timeRangeFilter"],Kb(i));const r=s(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function Jb(t){const e={},i=s(t,["mode"]);i!=null&&u(e,["mode"],i);const r=s(t,["dynamicThreshold"]);return r!=null&&u(e,["dynamicThreshold"],r),e}function $b(t){const e={},i=s(t,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],Jb(i)),e}function Xb(t){const e={},i=s(t,["excludeDomains"]);return i!=null&&u(e,["excludeDomains"],i),e}function Qb(t){const e={},i=s(t,["apiKeyString"]);return i!=null&&u(e,["apiKeyString"],i),e}function Zb(t){const e={},i=s(t,["apiKeyConfig"]);i!=null&&u(e,["apiKeyConfig"],Qb(i));const r=s(t,["authType"]);r!=null&&u(e,["authType"],r);const a=s(t,["googleServiceAccountConfig"]);a!=null&&u(e,["googleServiceAccountConfig"],a);const c=s(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=s(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const p=s(t,["oidcConfig"]);return p!=null&&u(e,["oidcConfig"],p),e}function Wb(t){const e={},i=s(t,["authConfig"]);return i!=null&&u(e,["authConfig"],Zb(i)),e}function jb(){return{}}function e_(t){const e={},i=s(t,["environment"]);return i!=null&&u(e,["environment"],i),e}function t_(t){const e={},i=s(t,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(E=>Fb(E))),u(e,["functionDeclarations"],S)}const r=s(t,["retrieval"]);r!=null&&u(e,["retrieval"],r);const a=s(t,["googleSearch"]);a!=null&&u(e,["googleSearch"],Yb(a));const c=s(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],$b(c));const d=s(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],Xb(d));const p=s(t,["googleMaps"]);p!=null&&u(e,["googleMaps"],Wb(p)),s(t,["urlContext"])!=null&&u(e,["urlContext"],jb());const m=s(t,["computerUse"]);m!=null&&u(e,["computerUse"],e_(m));const v=s(t,["codeExecution"]);return v!=null&&u(e,["codeExecution"],v),e}function n_(t){const e={},i=s(t,["handle"]);i!=null&&u(e,["handle"],i);const r=s(t,["transparent"]);return r!=null&&u(e,["transparent"],r),e}function Oy(){return{}}function i_(t){const e={},i=s(t,["disabled"]);i!=null&&u(e,["disabled"],i);const r=s(t,["startOfSpeechSensitivity"]);r!=null&&u(e,["startOfSpeechSensitivity"],r);const a=s(t,["endOfSpeechSensitivity"]);a!=null&&u(e,["endOfSpeechSensitivity"],a);const c=s(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=s(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function r_(t){const e={},i=s(t,["automaticActivityDetection"]);i!=null&&u(e,["automaticActivityDetection"],i_(i));const r=s(t,["activityHandling"]);r!=null&&u(e,["activityHandling"],r);const a=s(t,["turnCoverage"]);return a!=null&&u(e,["turnCoverage"],a),e}function o_(t){const e={},i=s(t,["targetTokens"]);return i!=null&&u(e,["targetTokens"],i),e}function l_(t){const e={},i=s(t,["triggerTokens"]);i!=null&&u(e,["triggerTokens"],i);const r=s(t,["slidingWindow"]);return r!=null&&u(e,["slidingWindow"],o_(r)),e}function a_(t){const e={},i=s(t,["proactiveAudio"]);return i!=null&&u(e,["proactiveAudio"],i),e}function s_(t,e){const i={},r=s(t,["generationConfig"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig"],r);const a=s(t,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=s(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=s(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const p=s(t,["topK"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","topK"],p);const y=s(t,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const m=s(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const v=s(t,["seed"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","seed"],v);const S=s(t,["speechConfig"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","speechConfig"],Bb(cp(S)));const E=s(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],E);const M=s(t,["systemInstruction"]);e!==void 0&&M!=null&&u(e,["setup","systemInstruction"],Gb(Cn(M)));const U=s(t,["tools"]);if(e!==void 0&&U!=null){let ye=$l(U);Array.isArray(ye)&&(ye=ye.map(j=>t_(Jl(j)))),u(e,["setup","tools"],ye)}const B=s(t,["sessionResumption"]);e!==void 0&&B!=null&&u(e,["setup","sessionResumption"],n_(B));const re=s(t,["inputAudioTranscription"]);e!==void 0&&re!=null&&u(e,["setup","inputAudioTranscription"],Oy());const X=s(t,["outputAudioTranscription"]);e!==void 0&&X!=null&&u(e,["setup","outputAudioTranscription"],Oy());const se=s(t,["realtimeInputConfig"]);e!==void 0&&se!=null&&u(e,["setup","realtimeInputConfig"],r_(se));const te=s(t,["contextWindowCompression"]);e!==void 0&&te!=null&&u(e,["setup","contextWindowCompression"],l_(te));const Te=s(t,["proactivity"]);return e!==void 0&&Te!=null&&u(e,["setup","proactivity"],a_(Te)),i}function u_(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["setup","model"],Tt(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],s_(a,i)),i}function c_(){return{}}function f_(){return{}}function d_(t){const e={},i=s(t,["media"]);i!=null&&u(e,["mediaChunks"],e0(i));const r=s(t,["audio"]);r!=null&&u(e,["audio"],n0(r));const a=s(t,["audioStreamEnd"]);a!=null&&u(e,["audioStreamEnd"],a);const c=s(t,["video"]);c!=null&&u(e,["video"],t0(c));const d=s(t,["text"]);return d!=null&&u(e,["text"],d),s(t,["activityStart"])!=null&&u(e,["activityStart"],c_()),s(t,["activityEnd"])!=null&&u(e,["activityEnd"],f_()),e}function p_(){return{}}function h_(t){const e={},i=s(t,["fps"]);i!=null&&u(e,["fps"],i);const r=s(t,["endOffset"]);r!=null&&u(e,["endOffset"],r);const a=s(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function m_(t){const e={},i=s(t,["data"]);i!=null&&u(e,["data"],i);const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function g_(t){const e={},i=s(t,["fileUri"]);i!=null&&u(e,["fileUri"],i);const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function y_(t){const e={},i=s(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],h_(i));const r=s(t,["thought"]);r!=null&&u(e,["thought"],r);const a=s(t,["inlineData"]);a!=null&&u(e,["inlineData"],m_(a));const c=s(t,["fileData"]);c!=null&&u(e,["fileData"],g_(c));const d=s(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&u(e,["codeExecutionResult"],p);const y=s(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const m=s(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const v=s(t,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(t,["text"]);return S!=null&&u(e,["text"],S),e}function v_(t){const e={},i=s(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>y_(c))),u(e,["parts"],a)}const r=s(t,["role"]);return r!=null&&u(e,["role"],r),e}function Hy(t){const e={},i=s(t,["text"]);i!=null&&u(e,["text"],i);const r=s(t,["finished"]);return r!=null&&u(e,["finished"],r),e}function x_(t){const e={},i=s(t,["retrievedUrl"]);i!=null&&u(e,["retrievedUrl"],i);const r=s(t,["urlRetrievalStatus"]);return r!=null&&u(e,["urlRetrievalStatus"],r),e}function T_(t){const e={},i=s(t,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>x_(a))),u(e,["urlMetadata"],r)}return e}function S_(t){const e={},i=s(t,["modelTurn"]);i!=null&&u(e,["modelTurn"],v_(i));const r=s(t,["turnComplete"]);r!=null&&u(e,["turnComplete"],r);const a=s(t,["interrupted"]);a!=null&&u(e,["interrupted"],a);const c=s(t,["groundingMetadata"]);c!=null&&u(e,["groundingMetadata"],c);const d=s(t,["generationComplete"]);d!=null&&u(e,["generationComplete"],d);const p=s(t,["inputTranscription"]);p!=null&&u(e,["inputTranscription"],Hy(p));const y=s(t,["outputTranscription"]);y!=null&&u(e,["outputTranscription"],Hy(y));const m=s(t,["urlContextMetadata"]);return m!=null&&u(e,["urlContextMetadata"],T_(m)),e}function C_(t){const e={},i=s(t,["id"]);i!=null&&u(e,["id"],i);const r=s(t,["args"]);r!=null&&u(e,["args"],r);const a=s(t,["name"]);return a!=null&&u(e,["name"],a),e}function E_(t){const e={},i=s(t,["functionCalls"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>C_(a))),u(e,["functionCalls"],r)}return e}function b_(t){const e={},i=s(t,["ids"]);return i!=null&&u(e,["ids"],i),e}function zu(t){const e={},i=s(t,["modality"]);i!=null&&u(e,["modality"],i);const r=s(t,["tokenCount"]);return r!=null&&u(e,["tokenCount"],r),e}function __(t){const e={},i=s(t,["promptTokenCount"]);i!=null&&u(e,["promptTokenCount"],i);const r=s(t,["cachedContentTokenCount"]);r!=null&&u(e,["cachedContentTokenCount"],r);const a=s(t,["responseTokenCount"]);a!=null&&u(e,["responseTokenCount"],a);const c=s(t,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const d=s(t,["thoughtsTokenCount"]);d!=null&&u(e,["thoughtsTokenCount"],d);const p=s(t,["totalTokenCount"]);p!=null&&u(e,["totalTokenCount"],p);const y=s(t,["promptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(M=>zu(M))),u(e,["promptTokensDetails"],E)}const m=s(t,["cacheTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(M=>zu(M))),u(e,["cacheTokensDetails"],E)}const v=s(t,["responseTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(M=>zu(M))),u(e,["responseTokensDetails"],E)}const S=s(t,["toolUsePromptTokensDetails"]);if(S!=null){let E=S;Array.isArray(E)&&(E=E.map(M=>zu(M))),u(e,["toolUsePromptTokensDetails"],E)}return e}function A_(t){const e={},i=s(t,["timeLeft"]);return i!=null&&u(e,["timeLeft"],i),e}function w_(t){const e={},i=s(t,["newHandle"]);i!=null&&u(e,["newHandle"],i);const r=s(t,["resumable"]);r!=null&&u(e,["resumable"],r);const a=s(t,["lastConsumedClientMessageIndex"]);return a!=null&&u(e,["lastConsumedClientMessageIndex"],a),e}function M_(t){const e={};s(t,["setupComplete"])!=null&&u(e,["setupComplete"],p_());const r=s(t,["serverContent"]);r!=null&&u(e,["serverContent"],S_(r));const a=s(t,["toolCall"]);a!=null&&u(e,["toolCall"],E_(a));const c=s(t,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],b_(c));const d=s(t,["usageMetadata"]);d!=null&&u(e,["usageMetadata"],__(d));const p=s(t,["goAway"]);p!=null&&u(e,["goAway"],A_(p));const y=s(t,["sessionResumptionUpdate"]);return y!=null&&u(e,["sessionResumptionUpdate"],w_(y)),e}function R_(){return{}}function N_(t){const e={},i=s(t,["text"]);i!=null&&u(e,["text"],i);const r=s(t,["weight"]);return r!=null&&u(e,["weight"],r),e}function k_(t){const e={},i=s(t,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>N_(a))),u(e,["weightedPrompts"],r)}return e}function D_(t){const e={},i=s(t,["temperature"]);i!=null&&u(e,["temperature"],i);const r=s(t,["topK"]);r!=null&&u(e,["topK"],r);const a=s(t,["seed"]);a!=null&&u(e,["seed"],a);const c=s(t,["guidance"]);c!=null&&u(e,["guidance"],c);const d=s(t,["bpm"]);d!=null&&u(e,["bpm"],d);const p=s(t,["density"]);p!=null&&u(e,["density"],p);const y=s(t,["brightness"]);y!=null&&u(e,["brightness"],y);const m=s(t,["scale"]);m!=null&&u(e,["scale"],m);const v=s(t,["muteBass"]);v!=null&&u(e,["muteBass"],v);const S=s(t,["muteDrums"]);S!=null&&u(e,["muteDrums"],S);const E=s(t,["onlyBassAndDrums"]);E!=null&&u(e,["onlyBassAndDrums"],E);const M=s(t,["musicGenerationMode"]);return M!=null&&u(e,["musicGenerationMode"],M),e}function I_(t){const e={},i=s(t,["clientContent"]);i!=null&&u(e,["clientContent"],k_(i));const r=s(t,["musicGenerationConfig"]);return r!=null&&u(e,["musicGenerationConfig"],D_(r)),e}function P_(t){const e={},i=s(t,["data"]);i!=null&&u(e,["data"],i);const r=s(t,["mimeType"]);r!=null&&u(e,["mimeType"],r);const a=s(t,["sourceMetadata"]);return a!=null&&u(e,["sourceMetadata"],I_(a)),e}function U_(t){const e={},i=s(t,["audioChunks"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>P_(a))),u(e,["audioChunks"],r)}return e}function L_(t){const e={},i=s(t,["text"]);i!=null&&u(e,["text"],i);const r=s(t,["filteredReason"]);return r!=null&&u(e,["filteredReason"],r),e}function q_(t){const e={};s(t,["setupComplete"])!=null&&u(e,["setupComplete"],R_());const r=s(t,["serverContent"]);r!=null&&u(e,["serverContent"],U_(r));const a=s(t,["filteredPrompt"]);return a!=null&&u(e,["filteredPrompt"],L_(a)),e}function B_(t){const e={},i=s(t,["sessionId"]);return i!=null&&u(e,["sessionId"],i),e}function V_(t){const e={},i=s(t,["fps"]);i!=null&&u(e,["fps"],i);const r=s(t,["endOffset"]);r!=null&&u(e,["endOffset"],r);const a=s(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function O_(t){const e={},i=s(t,["displayName"]);i!=null&&u(e,["displayName"],i);const r=s(t,["data"]);r!=null&&u(e,["data"],r);const a=s(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function H_(t){const e={},i=s(t,["displayName"]);i!=null&&u(e,["displayName"],i);const r=s(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const a=s(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function z_(t){const e={},i=s(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],V_(i));const r=s(t,["thought"]);r!=null&&u(e,["thought"],r);const a=s(t,["inlineData"]);a!=null&&u(e,["inlineData"],O_(a));const c=s(t,["fileData"]);c!=null&&u(e,["fileData"],H_(c));const d=s(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&u(e,["codeExecutionResult"],p);const y=s(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const m=s(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const v=s(t,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(t,["text"]);return S!=null&&u(e,["text"],S),e}function G_(t){const e={},i=s(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>z_(c))),u(e,["parts"],a)}const r=s(t,["role"]);return r!=null&&u(e,["role"],r),e}function zy(t){const e={},i=s(t,["text"]);i!=null&&u(e,["text"],i);const r=s(t,["finished"]);return r!=null&&u(e,["finished"],r),e}function F_(t){const e={},i=s(t,["modelTurn"]);i!=null&&u(e,["modelTurn"],G_(i));const r=s(t,["turnComplete"]);r!=null&&u(e,["turnComplete"],r);const a=s(t,["interrupted"]);a!=null&&u(e,["interrupted"],a);const c=s(t,["groundingMetadata"]);c!=null&&u(e,["groundingMetadata"],c);const d=s(t,["generationComplete"]);d!=null&&u(e,["generationComplete"],d);const p=s(t,["inputTranscription"]);p!=null&&u(e,["inputTranscription"],zy(p));const y=s(t,["outputTranscription"]);return y!=null&&u(e,["outputTranscription"],zy(y)),e}function K_(t){const e={},i=s(t,["args"]);i!=null&&u(e,["args"],i);const r=s(t,["name"]);return r!=null&&u(e,["name"],r),e}function Y_(t){const e={},i=s(t,["functionCalls"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>K_(a))),u(e,["functionCalls"],r)}return e}function J_(t){const e={},i=s(t,["ids"]);return i!=null&&u(e,["ids"],i),e}function Gu(t){const e={},i=s(t,["modality"]);i!=null&&u(e,["modality"],i);const r=s(t,["tokenCount"]);return r!=null&&u(e,["tokenCount"],r),e}function $_(t){const e={},i=s(t,["promptTokenCount"]);i!=null&&u(e,["promptTokenCount"],i);const r=s(t,["cachedContentTokenCount"]);r!=null&&u(e,["cachedContentTokenCount"],r);const a=s(t,["candidatesTokenCount"]);a!=null&&u(e,["responseTokenCount"],a);const c=s(t,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const d=s(t,["thoughtsTokenCount"]);d!=null&&u(e,["thoughtsTokenCount"],d);const p=s(t,["totalTokenCount"]);p!=null&&u(e,["totalTokenCount"],p);const y=s(t,["promptTokensDetails"]);if(y!=null){let M=y;Array.isArray(M)&&(M=M.map(U=>Gu(U))),u(e,["promptTokensDetails"],M)}const m=s(t,["cacheTokensDetails"]);if(m!=null){let M=m;Array.isArray(M)&&(M=M.map(U=>Gu(U))),u(e,["cacheTokensDetails"],M)}const v=s(t,["candidatesTokensDetails"]);if(v!=null){let M=v;Array.isArray(M)&&(M=M.map(U=>Gu(U))),u(e,["responseTokensDetails"],M)}const S=s(t,["toolUsePromptTokensDetails"]);if(S!=null){let M=S;Array.isArray(M)&&(M=M.map(U=>Gu(U))),u(e,["toolUsePromptTokensDetails"],M)}const E=s(t,["trafficType"]);return E!=null&&u(e,["trafficType"],E),e}function X_(t){const e={},i=s(t,["timeLeft"]);return i!=null&&u(e,["timeLeft"],i),e}function Q_(t){const e={},i=s(t,["newHandle"]);i!=null&&u(e,["newHandle"],i);const r=s(t,["resumable"]);r!=null&&u(e,["resumable"],r);const a=s(t,["lastConsumedClientMessageIndex"]);return a!=null&&u(e,["lastConsumedClientMessageIndex"],a),e}function Z_(t){const e={},i=s(t,["setupComplete"]);i!=null&&u(e,["setupComplete"],B_(i));const r=s(t,["serverContent"]);r!=null&&u(e,["serverContent"],F_(r));const a=s(t,["toolCall"]);a!=null&&u(e,["toolCall"],Y_(a));const c=s(t,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],J_(c));const d=s(t,["usageMetadata"]);d!=null&&u(e,["usageMetadata"],$_(d));const p=s(t,["goAway"]);p!=null&&u(e,["goAway"],X_(p));const y=s(t,["sessionResumptionUpdate"]);return y!=null&&u(e,["sessionResumptionUpdate"],Q_(y)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W_(t){const e={},i=s(t,["fps"]);i!=null&&u(e,["fps"],i);const r=s(t,["endOffset"]);r!=null&&u(e,["endOffset"],r);const a=s(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function j_(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(t,["data"]);i!=null&&u(e,["data"],i);const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function e1(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(t,["fileUri"]);i!=null&&u(e,["fileUri"],i);const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function t1(t){const e={},i=s(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],W_(i));const r=s(t,["thought"]);r!=null&&u(e,["thought"],r);const a=s(t,["inlineData"]);a!=null&&u(e,["inlineData"],j_(a));const c=s(t,["fileData"]);c!=null&&u(e,["fileData"],e1(c));const d=s(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&u(e,["codeExecutionResult"],p);const y=s(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const m=s(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const v=s(t,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(t,["text"]);return S!=null&&u(e,["text"],S),e}function dc(t){const e={},i=s(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>t1(c))),u(e,["parts"],a)}const r=s(t,["role"]);return r!=null&&u(e,["role"],r),e}function n1(t){const e={},i=s(t,["anyOf"]);i!=null&&u(e,["anyOf"],i);const r=s(t,["default"]);r!=null&&u(e,["default"],r);const a=s(t,["description"]);a!=null&&u(e,["description"],a);const c=s(t,["enum"]);c!=null&&u(e,["enum"],c);const d=s(t,["example"]);d!=null&&u(e,["example"],d);const p=s(t,["format"]);p!=null&&u(e,["format"],p);const y=s(t,["items"]);y!=null&&u(e,["items"],y);const m=s(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const v=s(t,["maxLength"]);v!=null&&u(e,["maxLength"],v);const S=s(t,["maxProperties"]);S!=null&&u(e,["maxProperties"],S);const E=s(t,["maximum"]);E!=null&&u(e,["maximum"],E);const M=s(t,["minItems"]);M!=null&&u(e,["minItems"],M);const U=s(t,["minLength"]);U!=null&&u(e,["minLength"],U);const B=s(t,["minProperties"]);B!=null&&u(e,["minProperties"],B);const re=s(t,["minimum"]);re!=null&&u(e,["minimum"],re);const X=s(t,["nullable"]);X!=null&&u(e,["nullable"],X);const se=s(t,["pattern"]);se!=null&&u(e,["pattern"],se);const te=s(t,["properties"]);te!=null&&u(e,["properties"],te);const Te=s(t,["propertyOrdering"]);Te!=null&&u(e,["propertyOrdering"],Te);const ye=s(t,["required"]);ye!=null&&u(e,["required"],ye);const j=s(t,["title"]);j!=null&&u(e,["title"],j);const Se=s(t,["type"]);return Se!=null&&u(e,["type"],Se),e}function i1(t){const e={};if(s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=s(t,["category"]);i!=null&&u(e,["category"],i);const r=s(t,["threshold"]);return r!=null&&u(e,["threshold"],r),e}function r1(t){const e={},i=s(t,["behavior"]);i!=null&&u(e,["behavior"],i);const r=s(t,["description"]);r!=null&&u(e,["description"],r);const a=s(t,["name"]);a!=null&&u(e,["name"],a);const c=s(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=s(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const p=s(t,["response"]);p!=null&&u(e,["response"],p);const y=s(t,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function o1(t){const e={},i=s(t,["startTime"]);i!=null&&u(e,["startTime"],i);const r=s(t,["endTime"]);return r!=null&&u(e,["endTime"],r),e}function l1(t){const e={},i=s(t,["timeRangeFilter"]);if(i!=null&&u(e,["timeRangeFilter"],o1(i)),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function a1(t){const e={},i=s(t,["mode"]);i!=null&&u(e,["mode"],i);const r=s(t,["dynamicThreshold"]);return r!=null&&u(e,["dynamicThreshold"],r),e}function s1(t){const e={},i=s(t,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],a1(i)),e}function u1(){return{}}function c1(t){const e={},i=s(t,["environment"]);return i!=null&&u(e,["environment"],i),e}function f1(t){const e={},i=s(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(m=>r1(m))),u(e,["functionDeclarations"],y)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=s(t,["googleSearch"]);r!=null&&u(e,["googleSearch"],l1(r));const a=s(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],s1(a)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&u(e,["urlContext"],u1());const d=s(t,["computerUse"]);d!=null&&u(e,["computerUse"],c1(d));const p=s(t,["codeExecution"]);return p!=null&&u(e,["codeExecution"],p),e}function d1(t){const e={},i=s(t,["mode"]);i!=null&&u(e,["mode"],i);const r=s(t,["allowedFunctionNames"]);return r!=null&&u(e,["allowedFunctionNames"],r),e}function p1(t){const e={},i=s(t,["latitude"]);i!=null&&u(e,["latitude"],i);const r=s(t,["longitude"]);return r!=null&&u(e,["longitude"],r),e}function h1(t){const e={},i=s(t,["latLng"]);i!=null&&u(e,["latLng"],p1(i));const r=s(t,["languageCode"]);return r!=null&&u(e,["languageCode"],r),e}function m1(t){const e={},i=s(t,["functionCallingConfig"]);i!=null&&u(e,["functionCallingConfig"],d1(i));const r=s(t,["retrievalConfig"]);return r!=null&&u(e,["retrievalConfig"],h1(r)),e}function g1(t){const e={},i=s(t,["voiceName"]);return i!=null&&u(e,["voiceName"],i),e}function S0(t){const e={},i=s(t,["prebuiltVoiceConfig"]);return i!=null&&u(e,["prebuiltVoiceConfig"],g1(i)),e}function y1(t){const e={},i=s(t,["speaker"]);i!=null&&u(e,["speaker"],i);const r=s(t,["voiceConfig"]);return r!=null&&u(e,["voiceConfig"],S0(r)),e}function v1(t){const e={},i=s(t,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>y1(a))),u(e,["speakerVoiceConfigs"],r)}return e}function x1(t){const e={},i=s(t,["voiceConfig"]);i!=null&&u(e,["voiceConfig"],S0(i));const r=s(t,["multiSpeakerVoiceConfig"]);r!=null&&u(e,["multiSpeakerVoiceConfig"],v1(r));const a=s(t,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function T1(t){const e={},i=s(t,["includeThoughts"]);i!=null&&u(e,["includeThoughts"],i);const r=s(t,["thinkingBudget"]);return r!=null&&u(e,["thinkingBudget"],r),e}function S1(t,e,i){const r={},a=s(e,["systemInstruction"]);i!==void 0&&a!=null&&u(i,["systemInstruction"],dc(Cn(a)));const c=s(e,["temperature"]);c!=null&&u(r,["temperature"],c);const d=s(e,["topP"]);d!=null&&u(r,["topP"],d);const p=s(e,["topK"]);p!=null&&u(r,["topK"],p);const y=s(e,["candidateCount"]);y!=null&&u(r,["candidateCount"],y);const m=s(e,["maxOutputTokens"]);m!=null&&u(r,["maxOutputTokens"],m);const v=s(e,["stopSequences"]);v!=null&&u(r,["stopSequences"],v);const S=s(e,["responseLogprobs"]);S!=null&&u(r,["responseLogprobs"],S);const E=s(e,["logprobs"]);E!=null&&u(r,["logprobs"],E);const M=s(e,["presencePenalty"]);M!=null&&u(r,["presencePenalty"],M);const U=s(e,["frequencyPenalty"]);U!=null&&u(r,["frequencyPenalty"],U);const B=s(e,["seed"]);B!=null&&u(r,["seed"],B);const re=s(e,["responseMimeType"]);re!=null&&u(r,["responseMimeType"],re);const X=s(e,["responseSchema"]);X!=null&&u(r,["responseSchema"],n1(sp(X)));const se=s(e,["responseJsonSchema"]);if(se!=null&&u(r,["responseJsonSchema"],se),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const te=s(e,["safetySettings"]);if(i!==void 0&&te!=null){let ce=te;Array.isArray(ce)&&(ce=ce.map(me=>i1(me))),u(i,["safetySettings"],ce)}const Te=s(e,["tools"]);if(i!==void 0&&Te!=null){let ce=$l(Te);Array.isArray(ce)&&(ce=ce.map(me=>f1(Jl(me)))),u(i,["tools"],ce)}const ye=s(e,["toolConfig"]);if(i!==void 0&&ye!=null&&u(i,["toolConfig"],m1(ye)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=s(e,["cachedContent"]);i!==void 0&&j!=null&&u(i,["cachedContent"],dr(t,j));const Se=s(e,["responseModalities"]);Se!=null&&u(r,["responseModalities"],Se);const ze=s(e,["mediaResolution"]);ze!=null&&u(r,["mediaResolution"],ze);const we=s(e,["speechConfig"]);if(we!=null&&u(r,["speechConfig"],x1(up(we))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=s(e,["thinkingConfig"]);return ae!=null&&u(r,["thinkingConfig"],T1(ae)),r}function Gy(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","model"],Tt(t,r));const a=s(e,["contents"]);if(a!=null){let d=hi(a);Array.isArray(d)&&(d=d.map(p=>dc(p))),u(i,["contents"],d)}const c=s(e,["config"]);return c!=null&&u(i,["generationConfig"],S1(t,c,i)),i}function C1(t,e){const i={},r=s(t,["taskType"]);e!==void 0&&r!=null&&u(e,["requests[]","taskType"],r);const a=s(t,["title"]);e!==void 0&&a!=null&&u(e,["requests[]","title"],a);const c=s(t,["outputDimensionality"]);if(e!==void 0&&c!=null&&u(e,["requests[]","outputDimensionality"],c),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function E1(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","model"],Tt(t,r));const a=s(e,["contents"]);a!=null&&u(i,["requests[]","content"],r0(t,a));const c=s(e,["config"]);c!=null&&u(i,["config"],C1(c,i));const d=s(e,["model"]);return d!==void 0&&u(i,["requests[]","model"],Tt(t,d)),i}function b1(t,e){const i={};if(s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=s(t,["numberOfImages"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);const a=s(t,["aspectRatio"]);e!==void 0&&a!=null&&u(e,["parameters","aspectRatio"],a);const c=s(t,["guidanceScale"]);if(e!==void 0&&c!=null&&u(e,["parameters","guidanceScale"],c),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=s(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&u(e,["parameters","safetySetting"],d);const p=s(t,["personGeneration"]);e!==void 0&&p!=null&&u(e,["parameters","personGeneration"],p);const y=s(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&u(e,["parameters","includeSafetyAttributes"],y);const m=s(t,["includeRaiReason"]);e!==void 0&&m!=null&&u(e,["parameters","includeRaiReason"],m);const v=s(t,["language"]);e!==void 0&&v!=null&&u(e,["parameters","language"],v);const S=s(t,["outputMimeType"]);e!==void 0&&S!=null&&u(e,["parameters","outputOptions","mimeType"],S);const E=s(t,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&u(e,["parameters","outputOptions","compressionQuality"],E),s(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const M=s(t,["imageSize"]);if(e!==void 0&&M!=null&&u(e,["parameters","sampleImageSize"],M),s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function _1(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","model"],Tt(t,r));const a=s(e,["prompt"]);a!=null&&u(i,["instances[0]","prompt"],a);const c=s(e,["config"]);return c!=null&&u(i,["config"],b1(c,i)),i}function A1(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","name"],Tt(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],a),i}function w1(t,e,i){const r={},a=s(e,["pageSize"]);i!==void 0&&a!=null&&u(i,["_query","pageSize"],a);const c=s(e,["pageToken"]);i!==void 0&&c!=null&&u(i,["_query","pageToken"],c);const d=s(e,["filter"]);i!==void 0&&d!=null&&u(i,["_query","filter"],d);const p=s(e,["queryBase"]);return i!==void 0&&p!=null&&u(i,["_url","models_url"],a0(t,p)),r}function M1(t,e){const i={},r=s(e,["config"]);return r!=null&&u(i,["config"],w1(t,r,i)),i}function R1(t,e){const i={},r=s(t,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);const a=s(t,["description"]);e!==void 0&&a!=null&&u(e,["description"],a);const c=s(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),i}function N1(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","name"],Tt(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],R1(a,i)),i}function k1(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","name"],Tt(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],a),i}function D1(t){const e={};if(s(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function I1(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","model"],Tt(t,r));const a=s(e,["contents"]);if(a!=null){let d=hi(a);Array.isArray(d)&&(d=d.map(p=>dc(p))),u(i,["contents"],d)}const c=s(e,["config"]);return c!=null&&u(i,["config"],D1(c)),i}function C0(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=s(t,["imageBytes"]);i!=null&&u(e,["bytesBase64Encoded"],Ho(i));const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function P1(t,e){const i={},r=s(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);const a=s(t,["image"]);if(e!==void 0&&a!=null&&u(e,["instances[0]","image"],C0(a)),s(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return i}function U1(t,e){const i={},r=s(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r),s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=s(t,["durationSeconds"]);if(e!==void 0&&a!=null&&u(e,["parameters","durationSeconds"],a),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=s(t,["aspectRatio"]);if(e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c),s(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const d=s(t,["personGeneration"]);if(e!==void 0&&d!=null&&u(e,["parameters","personGeneration"],d),s(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=s(t,["negativePrompt"]);e!==void 0&&p!=null&&u(e,["parameters","negativePrompt"],p);const y=s(t,["enhancePrompt"]);if(e!==void 0&&y!=null&&u(e,["parameters","enhancePrompt"],y),s(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(s(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function L1(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","model"],Tt(t,r));const a=s(e,["prompt"]);a!=null&&u(i,["instances[0]","prompt"],a);const c=s(e,["image"]);if(c!=null&&u(i,["instances[0]","image"],C0(c)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const d=s(e,["source"]);d!=null&&u(i,["config"],P1(d,i));const p=s(e,["config"]);return p!=null&&u(i,["config"],U1(p,i)),i}function q1(t){const e={},i=s(t,["fps"]);i!=null&&u(e,["fps"],i);const r=s(t,["endOffset"]);r!=null&&u(e,["endOffset"],r);const a=s(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function B1(t){const e={},i=s(t,["displayName"]);i!=null&&u(e,["displayName"],i);const r=s(t,["data"]);r!=null&&u(e,["data"],r);const a=s(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function V1(t){const e={},i=s(t,["displayName"]);i!=null&&u(e,["displayName"],i);const r=s(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const a=s(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function O1(t){const e={},i=s(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],q1(i));const r=s(t,["thought"]);r!=null&&u(e,["thought"],r);const a=s(t,["inlineData"]);a!=null&&u(e,["inlineData"],B1(a));const c=s(t,["fileData"]);c!=null&&u(e,["fileData"],V1(c));const d=s(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&u(e,["codeExecutionResult"],p);const y=s(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const m=s(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const v=s(t,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(t,["text"]);return S!=null&&u(e,["text"],S),e}function Ql(t){const e={},i=s(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>O1(c))),u(e,["parts"],a)}const r=s(t,["role"]);return r!=null&&u(e,["role"],r),e}function H1(t){const e={},i=s(t,["anyOf"]);i!=null&&u(e,["anyOf"],i);const r=s(t,["default"]);r!=null&&u(e,["default"],r);const a=s(t,["description"]);a!=null&&u(e,["description"],a);const c=s(t,["enum"]);c!=null&&u(e,["enum"],c);const d=s(t,["example"]);d!=null&&u(e,["example"],d);const p=s(t,["format"]);p!=null&&u(e,["format"],p);const y=s(t,["items"]);y!=null&&u(e,["items"],y);const m=s(t,["maxItems"]);m!=null&&u(e,["maxItems"],m);const v=s(t,["maxLength"]);v!=null&&u(e,["maxLength"],v);const S=s(t,["maxProperties"]);S!=null&&u(e,["maxProperties"],S);const E=s(t,["maximum"]);E!=null&&u(e,["maximum"],E);const M=s(t,["minItems"]);M!=null&&u(e,["minItems"],M);const U=s(t,["minLength"]);U!=null&&u(e,["minLength"],U);const B=s(t,["minProperties"]);B!=null&&u(e,["minProperties"],B);const re=s(t,["minimum"]);re!=null&&u(e,["minimum"],re);const X=s(t,["nullable"]);X!=null&&u(e,["nullable"],X);const se=s(t,["pattern"]);se!=null&&u(e,["pattern"],se);const te=s(t,["properties"]);te!=null&&u(e,["properties"],te);const Te=s(t,["propertyOrdering"]);Te!=null&&u(e,["propertyOrdering"],Te);const ye=s(t,["required"]);ye!=null&&u(e,["required"],ye);const j=s(t,["title"]);j!=null&&u(e,["title"],j);const Se=s(t,["type"]);return Se!=null&&u(e,["type"],Se),e}function z1(t){const e={},i=s(t,["featureSelectionPreference"]);return i!=null&&u(e,["featureSelectionPreference"],i),e}function G1(t){const e={},i=s(t,["method"]);i!=null&&u(e,["method"],i);const r=s(t,["category"]);r!=null&&u(e,["category"],r);const a=s(t,["threshold"]);return a!=null&&u(e,["threshold"],a),e}function F1(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=s(t,["description"]);i!=null&&u(e,["description"],i);const r=s(t,["name"]);r!=null&&u(e,["name"],r);const a=s(t,["parameters"]);a!=null&&u(e,["parameters"],a);const c=s(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const d=s(t,["response"]);d!=null&&u(e,["response"],d);const p=s(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function K1(t){const e={},i=s(t,["startTime"]);i!=null&&u(e,["startTime"],i);const r=s(t,["endTime"]);return r!=null&&u(e,["endTime"],r),e}function Y1(t){const e={},i=s(t,["timeRangeFilter"]);i!=null&&u(e,["timeRangeFilter"],K1(i));const r=s(t,["excludeDomains"]);return r!=null&&u(e,["excludeDomains"],r),e}function J1(t){const e={},i=s(t,["mode"]);i!=null&&u(e,["mode"],i);const r=s(t,["dynamicThreshold"]);return r!=null&&u(e,["dynamicThreshold"],r),e}function $1(t){const e={},i=s(t,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],J1(i)),e}function X1(t){const e={},i=s(t,["excludeDomains"]);return i!=null&&u(e,["excludeDomains"],i),e}function Q1(t){const e={},i=s(t,["apiKeyString"]);return i!=null&&u(e,["apiKeyString"],i),e}function Z1(t){const e={},i=s(t,["apiKeyConfig"]);i!=null&&u(e,["apiKeyConfig"],Q1(i));const r=s(t,["authType"]);r!=null&&u(e,["authType"],r);const a=s(t,["googleServiceAccountConfig"]);a!=null&&u(e,["googleServiceAccountConfig"],a);const c=s(t,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const d=s(t,["oauthConfig"]);d!=null&&u(e,["oauthConfig"],d);const p=s(t,["oidcConfig"]);return p!=null&&u(e,["oidcConfig"],p),e}function W1(t){const e={},i=s(t,["authConfig"]);return i!=null&&u(e,["authConfig"],Z1(i)),e}function j1(){return{}}function eA(t){const e={},i=s(t,["environment"]);return i!=null&&u(e,["environment"],i),e}function E0(t){const e={},i=s(t,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(E=>F1(E))),u(e,["functionDeclarations"],S)}const r=s(t,["retrieval"]);r!=null&&u(e,["retrieval"],r);const a=s(t,["googleSearch"]);a!=null&&u(e,["googleSearch"],Y1(a));const c=s(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],$1(c));const d=s(t,["enterpriseWebSearch"]);d!=null&&u(e,["enterpriseWebSearch"],X1(d));const p=s(t,["googleMaps"]);p!=null&&u(e,["googleMaps"],W1(p)),s(t,["urlContext"])!=null&&u(e,["urlContext"],j1());const m=s(t,["computerUse"]);m!=null&&u(e,["computerUse"],eA(m));const v=s(t,["codeExecution"]);return v!=null&&u(e,["codeExecution"],v),e}function tA(t){const e={},i=s(t,["mode"]);i!=null&&u(e,["mode"],i);const r=s(t,["allowedFunctionNames"]);return r!=null&&u(e,["allowedFunctionNames"],r),e}function nA(t){const e={},i=s(t,["latitude"]);i!=null&&u(e,["latitude"],i);const r=s(t,["longitude"]);return r!=null&&u(e,["longitude"],r),e}function iA(t){const e={},i=s(t,["latLng"]);i!=null&&u(e,["latLng"],nA(i));const r=s(t,["languageCode"]);return r!=null&&u(e,["languageCode"],r),e}function rA(t){const e={},i=s(t,["functionCallingConfig"]);i!=null&&u(e,["functionCallingConfig"],tA(i));const r=s(t,["retrievalConfig"]);return r!=null&&u(e,["retrievalConfig"],iA(r)),e}function oA(t){const e={},i=s(t,["voiceName"]);return i!=null&&u(e,["voiceName"],i),e}function lA(t){const e={},i=s(t,["prebuiltVoiceConfig"]);return i!=null&&u(e,["prebuiltVoiceConfig"],oA(i)),e}function aA(t){const e={},i=s(t,["voiceConfig"]);if(i!=null&&u(e,["voiceConfig"],lA(i)),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=s(t,["languageCode"]);return r!=null&&u(e,["languageCode"],r),e}function sA(t){const e={},i=s(t,["includeThoughts"]);i!=null&&u(e,["includeThoughts"],i);const r=s(t,["thinkingBudget"]);return r!=null&&u(e,["thinkingBudget"],r),e}function uA(t,e,i){const r={},a=s(e,["systemInstruction"]);i!==void 0&&a!=null&&u(i,["systemInstruction"],Ql(Cn(a)));const c=s(e,["temperature"]);c!=null&&u(r,["temperature"],c);const d=s(e,["topP"]);d!=null&&u(r,["topP"],d);const p=s(e,["topK"]);p!=null&&u(r,["topK"],p);const y=s(e,["candidateCount"]);y!=null&&u(r,["candidateCount"],y);const m=s(e,["maxOutputTokens"]);m!=null&&u(r,["maxOutputTokens"],m);const v=s(e,["stopSequences"]);v!=null&&u(r,["stopSequences"],v);const S=s(e,["responseLogprobs"]);S!=null&&u(r,["responseLogprobs"],S);const E=s(e,["logprobs"]);E!=null&&u(r,["logprobs"],E);const M=s(e,["presencePenalty"]);M!=null&&u(r,["presencePenalty"],M);const U=s(e,["frequencyPenalty"]);U!=null&&u(r,["frequencyPenalty"],U);const B=s(e,["seed"]);B!=null&&u(r,["seed"],B);const re=s(e,["responseMimeType"]);re!=null&&u(r,["responseMimeType"],re);const X=s(e,["responseSchema"]);X!=null&&u(r,["responseSchema"],H1(sp(X)));const se=s(e,["responseJsonSchema"]);se!=null&&u(r,["responseJsonSchema"],se);const te=s(e,["routingConfig"]);te!=null&&u(r,["routingConfig"],te);const Te=s(e,["modelSelectionConfig"]);Te!=null&&u(r,["modelConfig"],z1(Te));const ye=s(e,["safetySettings"]);if(i!==void 0&&ye!=null){let Ee=ye;Array.isArray(Ee)&&(Ee=Ee.map(ne=>G1(ne))),u(i,["safetySettings"],Ee)}const j=s(e,["tools"]);if(i!==void 0&&j!=null){let Ee=$l(j);Array.isArray(Ee)&&(Ee=Ee.map(ne=>E0(Jl(ne)))),u(i,["tools"],Ee)}const Se=s(e,["toolConfig"]);i!==void 0&&Se!=null&&u(i,["toolConfig"],rA(Se));const ze=s(e,["labels"]);i!==void 0&&ze!=null&&u(i,["labels"],ze);const we=s(e,["cachedContent"]);i!==void 0&&we!=null&&u(i,["cachedContent"],dr(t,we));const ae=s(e,["responseModalities"]);ae!=null&&u(r,["responseModalities"],ae);const ce=s(e,["mediaResolution"]);ce!=null&&u(r,["mediaResolution"],ce);const me=s(e,["speechConfig"]);me!=null&&u(r,["speechConfig"],aA(up(me)));const Z=s(e,["audioTimestamp"]);Z!=null&&u(r,["audioTimestamp"],Z);const pe=s(e,["thinkingConfig"]);return pe!=null&&u(r,["thinkingConfig"],sA(pe)),r}function Fy(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","model"],Tt(t,r));const a=s(e,["contents"]);if(a!=null){let d=hi(a);Array.isArray(d)&&(d=d.map(p=>Ql(p))),u(i,["contents"],d)}const c=s(e,["config"]);return c!=null&&u(i,["generationConfig"],uA(t,c,i)),i}function cA(t,e){const i={},r=s(t,["taskType"]);e!==void 0&&r!=null&&u(e,["instances[]","task_type"],r);const a=s(t,["title"]);e!==void 0&&a!=null&&u(e,["instances[]","title"],a);const c=s(t,["outputDimensionality"]);e!==void 0&&c!=null&&u(e,["parameters","outputDimensionality"],c);const d=s(t,["mimeType"]);e!==void 0&&d!=null&&u(e,["instances[]","mimeType"],d);const p=s(t,["autoTruncate"]);return e!==void 0&&p!=null&&u(e,["parameters","autoTruncate"],p),i}function fA(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","model"],Tt(t,r));const a=s(e,["contents"]);a!=null&&u(i,["instances[]","content"],r0(t,a));const c=s(e,["config"]);return c!=null&&u(i,["config"],cA(c,i)),i}function dA(t,e){const i={},r=s(t,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);const a=s(t,["negativePrompt"]);e!==void 0&&a!=null&&u(e,["parameters","negativePrompt"],a);const c=s(t,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const d=s(t,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);const p=s(t,["guidanceScale"]);e!==void 0&&p!=null&&u(e,["parameters","guidanceScale"],p);const y=s(t,["seed"]);e!==void 0&&y!=null&&u(e,["parameters","seed"],y);const m=s(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const v=s(t,["personGeneration"]);e!==void 0&&v!=null&&u(e,["parameters","personGeneration"],v);const S=s(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&u(e,["parameters","includeSafetyAttributes"],S);const E=s(t,["includeRaiReason"]);e!==void 0&&E!=null&&u(e,["parameters","includeRaiReason"],E);const M=s(t,["language"]);e!==void 0&&M!=null&&u(e,["parameters","language"],M);const U=s(t,["outputMimeType"]);e!==void 0&&U!=null&&u(e,["parameters","outputOptions","mimeType"],U);const B=s(t,["outputCompressionQuality"]);e!==void 0&&B!=null&&u(e,["parameters","outputOptions","compressionQuality"],B);const re=s(t,["addWatermark"]);e!==void 0&&re!=null&&u(e,["parameters","addWatermark"],re);const X=s(t,["imageSize"]);e!==void 0&&X!=null&&u(e,["parameters","sampleImageSize"],X);const se=s(t,["enhancePrompt"]);return e!==void 0&&se!=null&&u(e,["parameters","enhancePrompt"],se),i}function pA(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","model"],Tt(t,r));const a=s(e,["prompt"]);a!=null&&u(i,["instances[0]","prompt"],a);const c=s(e,["config"]);return c!=null&&u(i,["config"],dA(c,i)),i}function Vi(t){const e={},i=s(t,["gcsUri"]);i!=null&&u(e,["gcsUri"],i);const r=s(t,["imageBytes"]);r!=null&&u(e,["bytesBase64Encoded"],Ho(r));const a=s(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function hA(t){const e={},i=s(t,["maskMode"]);i!=null&&u(e,["maskMode"],i);const r=s(t,["segmentationClasses"]);r!=null&&u(e,["maskClasses"],r);const a=s(t,["maskDilation"]);return a!=null&&u(e,["dilation"],a),e}function mA(t){const e={},i=s(t,["controlType"]);i!=null&&u(e,["controlType"],i);const r=s(t,["enableControlImageComputation"]);return r!=null&&u(e,["computeControl"],r),e}function gA(t){const e={},i=s(t,["styleDescription"]);return i!=null&&u(e,["styleDescription"],i),e}function yA(t){const e={},i=s(t,["subjectType"]);i!=null&&u(e,["subjectType"],i);const r=s(t,["subjectDescription"]);return r!=null&&u(e,["subjectDescription"],r),e}function vA(t){const e={},i=s(t,["referenceImage"]);i!=null&&u(e,["referenceImage"],Vi(i));const r=s(t,["referenceId"]);r!=null&&u(e,["referenceId"],r);const a=s(t,["referenceType"]);a!=null&&u(e,["referenceType"],a);const c=s(t,["maskImageConfig"]);c!=null&&u(e,["maskImageConfig"],hA(c));const d=s(t,["controlImageConfig"]);d!=null&&u(e,["controlImageConfig"],mA(d));const p=s(t,["styleImageConfig"]);p!=null&&u(e,["styleImageConfig"],gA(p));const y=s(t,["subjectImageConfig"]);return y!=null&&u(e,["subjectImageConfig"],yA(y)),e}function xA(t,e){const i={},r=s(t,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);const a=s(t,["negativePrompt"]);e!==void 0&&a!=null&&u(e,["parameters","negativePrompt"],a);const c=s(t,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const d=s(t,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);const p=s(t,["guidanceScale"]);e!==void 0&&p!=null&&u(e,["parameters","guidanceScale"],p);const y=s(t,["seed"]);e!==void 0&&y!=null&&u(e,["parameters","seed"],y);const m=s(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const v=s(t,["personGeneration"]);e!==void 0&&v!=null&&u(e,["parameters","personGeneration"],v);const S=s(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&u(e,["parameters","includeSafetyAttributes"],S);const E=s(t,["includeRaiReason"]);e!==void 0&&E!=null&&u(e,["parameters","includeRaiReason"],E);const M=s(t,["language"]);e!==void 0&&M!=null&&u(e,["parameters","language"],M);const U=s(t,["outputMimeType"]);e!==void 0&&U!=null&&u(e,["parameters","outputOptions","mimeType"],U);const B=s(t,["outputCompressionQuality"]);e!==void 0&&B!=null&&u(e,["parameters","outputOptions","compressionQuality"],B);const re=s(t,["addWatermark"]);e!==void 0&&re!=null&&u(e,["parameters","addWatermark"],re);const X=s(t,["editMode"]);e!==void 0&&X!=null&&u(e,["parameters","editMode"],X);const se=s(t,["baseSteps"]);return e!==void 0&&se!=null&&u(e,["parameters","editConfig","baseSteps"],se),i}function TA(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","model"],Tt(t,r));const a=s(e,["prompt"]);a!=null&&u(i,["instances[0]","prompt"],a);const c=s(e,["referenceImages"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(y=>vA(y))),u(i,["instances[0]","referenceImages"],p)}const d=s(e,["config"]);return d!=null&&u(i,["config"],xA(d,i)),i}function SA(t,e){const i={},r=s(t,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);const a=s(t,["includeRaiReason"]);e!==void 0&&a!=null&&u(e,["parameters","includeRaiReason"],a);const c=s(t,["outputMimeType"]);e!==void 0&&c!=null&&u(e,["parameters","outputOptions","mimeType"],c);const d=s(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&u(e,["parameters","outputOptions","compressionQuality"],d);const p=s(t,["enhanceInputImage"]);e!==void 0&&p!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],p);const y=s(t,["imagePreservationFactor"]);e!==void 0&&y!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const m=s(t,["numberOfImages"]);e!==void 0&&m!=null&&u(e,["parameters","sampleCount"],m);const v=s(t,["mode"]);return e!==void 0&&v!=null&&u(e,["parameters","mode"],v),i}function CA(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","model"],Tt(t,r));const a=s(e,["image"]);a!=null&&u(i,["instances[0]","image"],Vi(a));const c=s(e,["upscaleFactor"]);c!=null&&u(i,["parameters","upscaleConfig","upscaleFactor"],c);const d=s(e,["config"]);return d!=null&&u(i,["config"],SA(d,i)),i}function EA(t){const e={},i=s(t,["productImage"]);return i!=null&&u(e,["image"],Vi(i)),e}function bA(t,e){const i={},r=s(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);const a=s(t,["personImage"]);e!==void 0&&a!=null&&u(e,["instances[0]","personImage","image"],Vi(a));const c=s(t,["productImages"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>EA(p))),u(e,["instances[0]","productImages"],d)}return i}function _A(t,e){const i={},r=s(t,["numberOfImages"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);const a=s(t,["baseSteps"]);e!==void 0&&a!=null&&u(e,["parameters","editConfig","baseSteps"],a);const c=s(t,["outputGcsUri"]);e!==void 0&&c!=null&&u(e,["parameters","storageUri"],c);const d=s(t,["seed"]);e!==void 0&&d!=null&&u(e,["parameters","seed"],d);const p=s(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&u(e,["parameters","safetySetting"],p);const y=s(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const m=s(t,["addWatermark"]);e!==void 0&&m!=null&&u(e,["parameters","addWatermark"],m);const v=s(t,["outputMimeType"]);e!==void 0&&v!=null&&u(e,["parameters","outputOptions","mimeType"],v);const S=s(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&u(e,["parameters","outputOptions","compressionQuality"],S);const E=s(t,["enhancePrompt"]);return e!==void 0&&E!=null&&u(e,["parameters","enhancePrompt"],E),i}function AA(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","model"],Tt(t,r));const a=s(e,["source"]);a!=null&&u(i,["config"],bA(a,i));const c=s(e,["config"]);return c!=null&&u(i,["config"],_A(c,i)),i}function wA(t){const e={},i=s(t,["image"]);return i!=null&&u(e,["image"],Vi(i)),e}function MA(t,e){const i={},r=s(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);const a=s(t,["image"]);e!==void 0&&a!=null&&u(e,["instances[0]","image"],Vi(a));const c=s(t,["scribbleImage"]);return e!==void 0&&c!=null&&u(e,["instances[0]","scribble"],wA(c)),i}function RA(t,e){const i={},r=s(t,["mode"]);e!==void 0&&r!=null&&u(e,["parameters","mode"],r);const a=s(t,["maxPredictions"]);e!==void 0&&a!=null&&u(e,["parameters","maxPredictions"],a);const c=s(t,["confidenceThreshold"]);e!==void 0&&c!=null&&u(e,["parameters","confidenceThreshold"],c);const d=s(t,["maskDilation"]);e!==void 0&&d!=null&&u(e,["parameters","maskDilation"],d);const p=s(t,["binaryColorThreshold"]);return e!==void 0&&p!=null&&u(e,["parameters","binaryColorThreshold"],p),i}function NA(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","model"],Tt(t,r));const a=s(e,["source"]);a!=null&&u(i,["config"],MA(a,i));const c=s(e,["config"]);return c!=null&&u(i,["config"],RA(c,i)),i}function kA(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","name"],Tt(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],a),i}function DA(t,e,i){const r={},a=s(e,["pageSize"]);i!==void 0&&a!=null&&u(i,["_query","pageSize"],a);const c=s(e,["pageToken"]);i!==void 0&&c!=null&&u(i,["_query","pageToken"],c);const d=s(e,["filter"]);i!==void 0&&d!=null&&u(i,["_query","filter"],d);const p=s(e,["queryBase"]);return i!==void 0&&p!=null&&u(i,["_url","models_url"],a0(t,p)),r}function IA(t,e){const i={},r=s(e,["config"]);return r!=null&&u(i,["config"],DA(t,r,i)),i}function PA(t,e){const i={},r=s(t,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);const a=s(t,["description"]);e!==void 0&&a!=null&&u(e,["description"],a);const c=s(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),i}function UA(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","model"],Tt(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],PA(a,i)),i}function LA(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","name"],Tt(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],a),i}function qA(t,e){const i={},r=s(t,["systemInstruction"]);e!==void 0&&r!=null&&u(e,["systemInstruction"],Ql(Cn(r)));const a=s(t,["tools"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>E0(p))),u(e,["tools"],d)}const c=s(t,["generationConfig"]);return e!==void 0&&c!=null&&u(e,["generationConfig"],c),i}function BA(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","model"],Tt(t,r));const a=s(e,["contents"]);if(a!=null){let d=hi(a);Array.isArray(d)&&(d=d.map(p=>Ql(p))),u(i,["contents"],d)}const c=s(e,["config"]);return c!=null&&u(i,["config"],qA(c,i)),i}function VA(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","model"],Tt(t,r));const a=s(e,["contents"]);if(a!=null){let d=hi(a);Array.isArray(d)&&(d=d.map(p=>Ql(p))),u(i,["contents"],d)}const c=s(e,["config"]);return c!=null&&u(i,["config"],c),i}function b0(t){const e={},i=s(t,["uri"]);i!=null&&u(e,["gcsUri"],i);const r=s(t,["videoBytes"]);r!=null&&u(e,["bytesBase64Encoded"],Ho(r));const a=s(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function OA(t,e){const i={},r=s(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);const a=s(t,["image"]);e!==void 0&&a!=null&&u(e,["instances[0]","image"],Vi(a));const c=s(t,["video"]);return e!==void 0&&c!=null&&u(e,["instances[0]","video"],b0(c)),i}function HA(t){const e={},i=s(t,["image"]);i!=null&&u(e,["image"],Vi(i));const r=s(t,["referenceType"]);return r!=null&&u(e,["referenceType"],r),e}function zA(t,e){const i={},r=s(t,["numberOfVideos"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);const a=s(t,["outputGcsUri"]);e!==void 0&&a!=null&&u(e,["parameters","storageUri"],a);const c=s(t,["fps"]);e!==void 0&&c!=null&&u(e,["parameters","fps"],c);const d=s(t,["durationSeconds"]);e!==void 0&&d!=null&&u(e,["parameters","durationSeconds"],d);const p=s(t,["seed"]);e!==void 0&&p!=null&&u(e,["parameters","seed"],p);const y=s(t,["aspectRatio"]);e!==void 0&&y!=null&&u(e,["parameters","aspectRatio"],y);const m=s(t,["resolution"]);e!==void 0&&m!=null&&u(e,["parameters","resolution"],m);const v=s(t,["personGeneration"]);e!==void 0&&v!=null&&u(e,["parameters","personGeneration"],v);const S=s(t,["pubsubTopic"]);e!==void 0&&S!=null&&u(e,["parameters","pubsubTopic"],S);const E=s(t,["negativePrompt"]);e!==void 0&&E!=null&&u(e,["parameters","negativePrompt"],E);const M=s(t,["enhancePrompt"]);e!==void 0&&M!=null&&u(e,["parameters","enhancePrompt"],M);const U=s(t,["generateAudio"]);e!==void 0&&U!=null&&u(e,["parameters","generateAudio"],U);const B=s(t,["lastFrame"]);e!==void 0&&B!=null&&u(e,["instances[0]","lastFrame"],Vi(B));const re=s(t,["referenceImages"]);if(e!==void 0&&re!=null){let se=re;Array.isArray(se)&&(se=se.map(te=>HA(te))),u(e,["instances[0]","referenceImages"],se)}const X=s(t,["compressionQuality"]);return e!==void 0&&X!=null&&u(e,["parameters","compressionQuality"],X),i}function GA(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["_url","model"],Tt(t,r));const a=s(e,["prompt"]);a!=null&&u(i,["instances[0]","prompt"],a);const c=s(e,["image"]);c!=null&&u(i,["instances[0]","image"],Vi(c));const d=s(e,["video"]);d!=null&&u(i,["instances[0]","video"],b0(d));const p=s(e,["source"]);p!=null&&u(i,["config"],OA(p,i));const y=s(e,["config"]);return y!=null&&u(i,["config"],zA(y,i)),i}function FA(t){const e={},i=s(t,["fps"]);i!=null&&u(e,["fps"],i);const r=s(t,["endOffset"]);r!=null&&u(e,["endOffset"],r);const a=s(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function KA(t){const e={},i=s(t,["data"]);i!=null&&u(e,["data"],i);const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function YA(t){const e={},i=s(t,["fileUri"]);i!=null&&u(e,["fileUri"],i);const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function JA(t){const e={},i=s(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],FA(i));const r=s(t,["thought"]);r!=null&&u(e,["thought"],r);const a=s(t,["inlineData"]);a!=null&&u(e,["inlineData"],KA(a));const c=s(t,["fileData"]);c!=null&&u(e,["fileData"],YA(c));const d=s(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&u(e,["codeExecutionResult"],p);const y=s(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const m=s(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const v=s(t,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(t,["text"]);return S!=null&&u(e,["text"],S),e}function $A(t){const e={},i=s(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>JA(c))),u(e,["parts"],a)}const r=s(t,["role"]);return r!=null&&u(e,["role"],r),e}function XA(t){const e={},i=s(t,["citationSources"]);return i!=null&&u(e,["citations"],i),e}function QA(t){const e={},i=s(t,["retrievedUrl"]);i!=null&&u(e,["retrievedUrl"],i);const r=s(t,["urlRetrievalStatus"]);return r!=null&&u(e,["urlRetrievalStatus"],r),e}function ZA(t){const e={},i=s(t,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>QA(a))),u(e,["urlMetadata"],r)}return e}function WA(t){const e={},i=s(t,["content"]);i!=null&&u(e,["content"],$A(i));const r=s(t,["citationMetadata"]);r!=null&&u(e,["citationMetadata"],XA(r));const a=s(t,["tokenCount"]);a!=null&&u(e,["tokenCount"],a);const c=s(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=s(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],ZA(d));const p=s(t,["avgLogprobs"]);p!=null&&u(e,["avgLogprobs"],p);const y=s(t,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const m=s(t,["index"]);m!=null&&u(e,["index"],m);const v=s(t,["logprobsResult"]);v!=null&&u(e,["logprobsResult"],v);const S=s(t,["safetyRatings"]);return S!=null&&u(e,["safetyRatings"],S),e}function Ky(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(m=>WA(m))),u(e,["candidates"],y)}const a=s(t,["modelVersion"]);a!=null&&u(e,["modelVersion"],a);const c=s(t,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const d=s(t,["responseId"]);d!=null&&u(e,["responseId"],d);const p=s(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function jA(t){const e={},i=s(t,["values"]);return i!=null&&u(e,["values"],i),e}function ew(){return{}}function tw(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["embeddings"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>jA(d))),u(e,["embeddings"],c)}return s(t,["metadata"])!=null&&u(e,["metadata"],ew()),e}function nw(t){const e={},i=s(t,["bytesBase64Encoded"]);i!=null&&u(e,["imageBytes"],Ho(i));const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function _0(t){const e={},i=s(t,["safetyAttributes","categories"]);i!=null&&u(e,["categories"],i);const r=s(t,["safetyAttributes","scores"]);r!=null&&u(e,["scores"],r);const a=s(t,["contentType"]);return a!=null&&u(e,["contentType"],a),e}function iw(t){const e={},i=s(t,["_self"]);i!=null&&u(e,["image"],nw(i));const r=s(t,["raiFilteredReason"]);r!=null&&u(e,["raiFilteredReason"],r);const a=s(t,["_self"]);return a!=null&&u(e,["safetyAttributes"],_0(a)),e}function rw(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>iw(d))),u(e,["generatedImages"],c)}const a=s(t,["positivePromptSafetyAttributes"]);return a!=null&&u(e,["positivePromptSafetyAttributes"],_0(a)),e}function ow(t){const e={},i=s(t,["baseModel"]);i!=null&&u(e,["baseModel"],i);const r=s(t,["createTime"]);r!=null&&u(e,["createTime"],r);const a=s(t,["updateTime"]);return a!=null&&u(e,["updateTime"],a),e}function Fd(t){const e={},i=s(t,["name"]);i!=null&&u(e,["name"],i);const r=s(t,["displayName"]);r!=null&&u(e,["displayName"],r);const a=s(t,["description"]);a!=null&&u(e,["description"],a);const c=s(t,["version"]);c!=null&&u(e,["version"],c);const d=s(t,["_self"]);d!=null&&u(e,["tunedModelInfo"],ow(d));const p=s(t,["inputTokenLimit"]);p!=null&&u(e,["inputTokenLimit"],p);const y=s(t,["outputTokenLimit"]);y!=null&&u(e,["outputTokenLimit"],y);const m=s(t,["supportedGenerationMethods"]);return m!=null&&u(e,["supportedActions"],m),e}function lw(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const a=s(t,["_self"]);if(a!=null){let c=s0(a);Array.isArray(c)&&(c=c.map(d=>Fd(d))),u(e,["models"],c)}return e}function aw(t){const e={},i=s(t,["sdkHttpResponse"]);return i!=null&&u(e,["sdkHttpResponse"],i),e}function sw(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["totalTokens"]);r!=null&&u(e,["totalTokens"],r);const a=s(t,["cachedContentTokenCount"]);return a!=null&&u(e,["cachedContentTokenCount"],a),e}function uw(t){const e={},i=s(t,["video","uri"]);i!=null&&u(e,["uri"],i);const r=s(t,["video","encodedVideo"]);r!=null&&u(e,["videoBytes"],Ho(r));const a=s(t,["encoding"]);return a!=null&&u(e,["mimeType"],a),e}function cw(t){const e={},i=s(t,["_self"]);return i!=null&&u(e,["video"],uw(i)),e}function fw(t){const e={},i=s(t,["generatedSamples"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>cw(d))),u(e,["generatedVideos"],c)}const r=s(t,["raiMediaFilteredCount"]);r!=null&&u(e,["raiMediaFilteredCount"],r);const a=s(t,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function dw(t){const e={},i=s(t,["name"]);i!=null&&u(e,["name"],i);const r=s(t,["metadata"]);r!=null&&u(e,["metadata"],r);const a=s(t,["done"]);a!=null&&u(e,["done"],a);const c=s(t,["error"]);c!=null&&u(e,["error"],c);const d=s(t,["response","generateVideoResponse"]);return d!=null&&u(e,["response"],fw(d)),e}function pw(t){const e={},i=s(t,["fps"]);i!=null&&u(e,["fps"],i);const r=s(t,["endOffset"]);r!=null&&u(e,["endOffset"],r);const a=s(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function hw(t){const e={},i=s(t,["displayName"]);i!=null&&u(e,["displayName"],i);const r=s(t,["data"]);r!=null&&u(e,["data"],r);const a=s(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function mw(t){const e={},i=s(t,["displayName"]);i!=null&&u(e,["displayName"],i);const r=s(t,["fileUri"]);r!=null&&u(e,["fileUri"],r);const a=s(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function gw(t){const e={},i=s(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],pw(i));const r=s(t,["thought"]);r!=null&&u(e,["thought"],r);const a=s(t,["inlineData"]);a!=null&&u(e,["inlineData"],hw(a));const c=s(t,["fileData"]);c!=null&&u(e,["fileData"],mw(c));const d=s(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&u(e,["codeExecutionResult"],p);const y=s(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const m=s(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const v=s(t,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(t,["text"]);return S!=null&&u(e,["text"],S),e}function yw(t){const e={},i=s(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>gw(c))),u(e,["parts"],a)}const r=s(t,["role"]);return r!=null&&u(e,["role"],r),e}function vw(t){const e={},i=s(t,["citations"]);return i!=null&&u(e,["citations"],i),e}function xw(t){const e={},i=s(t,["retrievedUrl"]);i!=null&&u(e,["retrievedUrl"],i);const r=s(t,["urlRetrievalStatus"]);return r!=null&&u(e,["urlRetrievalStatus"],r),e}function Tw(t){const e={},i=s(t,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>xw(a))),u(e,["urlMetadata"],r)}return e}function Sw(t){const e={},i=s(t,["content"]);i!=null&&u(e,["content"],yw(i));const r=s(t,["citationMetadata"]);r!=null&&u(e,["citationMetadata"],vw(r));const a=s(t,["finishMessage"]);a!=null&&u(e,["finishMessage"],a);const c=s(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const d=s(t,["urlContextMetadata"]);d!=null&&u(e,["urlContextMetadata"],Tw(d));const p=s(t,["avgLogprobs"]);p!=null&&u(e,["avgLogprobs"],p);const y=s(t,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const m=s(t,["index"]);m!=null&&u(e,["index"],m);const v=s(t,["logprobsResult"]);v!=null&&u(e,["logprobsResult"],v);const S=s(t,["safetyRatings"]);return S!=null&&u(e,["safetyRatings"],S),e}function Yy(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["candidates"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(v=>Sw(v))),u(e,["candidates"],m)}const a=s(t,["createTime"]);a!=null&&u(e,["createTime"],a);const c=s(t,["modelVersion"]);c!=null&&u(e,["modelVersion"],c);const d=s(t,["promptFeedback"]);d!=null&&u(e,["promptFeedback"],d);const p=s(t,["responseId"]);p!=null&&u(e,["responseId"],p);const y=s(t,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function Cw(t){const e={},i=s(t,["truncated"]);i!=null&&u(e,["truncated"],i);const r=s(t,["token_count"]);return r!=null&&u(e,["tokenCount"],r),e}function Ew(t){const e={},i=s(t,["values"]);i!=null&&u(e,["values"],i);const r=s(t,["statistics"]);return r!=null&&u(e,["statistics"],Cw(r)),e}function bw(t){const e={},i=s(t,["billableCharacterCount"]);return i!=null&&u(e,["billableCharacterCount"],i),e}function _w(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["predictions[]","embeddings"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Ew(d))),u(e,["embeddings"],c)}const a=s(t,["metadata"]);return a!=null&&u(e,["metadata"],bw(a)),e}function A0(t){const e={},i=s(t,["gcsUri"]);i!=null&&u(e,["gcsUri"],i);const r=s(t,["bytesBase64Encoded"]);r!=null&&u(e,["imageBytes"],Ho(r));const a=s(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function w0(t){const e={},i=s(t,["safetyAttributes","categories"]);i!=null&&u(e,["categories"],i);const r=s(t,["safetyAttributes","scores"]);r!=null&&u(e,["scores"],r);const a=s(t,["contentType"]);return a!=null&&u(e,["contentType"],a),e}function pc(t){const e={},i=s(t,["_self"]);i!=null&&u(e,["image"],A0(i));const r=s(t,["raiFilteredReason"]);r!=null&&u(e,["raiFilteredReason"],r);const a=s(t,["_self"]);a!=null&&u(e,["safetyAttributes"],w0(a));const c=s(t,["prompt"]);return c!=null&&u(e,["enhancedPrompt"],c),e}function Aw(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>pc(d))),u(e,["generatedImages"],c)}const a=s(t,["positivePromptSafetyAttributes"]);return a!=null&&u(e,["positivePromptSafetyAttributes"],w0(a)),e}function ww(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>pc(c))),u(e,["generatedImages"],a)}return e}function Mw(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>pc(c))),u(e,["generatedImages"],a)}return e}function Rw(t){const e={},i=s(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>pc(a))),u(e,["generatedImages"],r)}return e}function Nw(t){const e={},i=s(t,["label"]);i!=null&&u(e,["label"],i);const r=s(t,["score"]);return r!=null&&u(e,["score"],r),e}function kw(t){const e={},i=s(t,["_self"]);i!=null&&u(e,["mask"],A0(i));const r=s(t,["labels"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>Nw(c))),u(e,["labels"],a)}return e}function Dw(t){const e={},i=s(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>kw(a))),u(e,["generatedMasks"],r)}return e}function Iw(t){const e={},i=s(t,["endpoint"]);i!=null&&u(e,["name"],i);const r=s(t,["deployedModelId"]);return r!=null&&u(e,["deployedModelId"],r),e}function Pw(t){const e={},i=s(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&u(e,["baseModel"],i);const r=s(t,["createTime"]);r!=null&&u(e,["createTime"],r);const a=s(t,["updateTime"]);return a!=null&&u(e,["updateTime"],a),e}function Uw(t){const e={},i=s(t,["checkpointId"]);i!=null&&u(e,["checkpointId"],i);const r=s(t,["epoch"]);r!=null&&u(e,["epoch"],r);const a=s(t,["step"]);return a!=null&&u(e,["step"],a),e}function Kd(t){const e={},i=s(t,["name"]);i!=null&&u(e,["name"],i);const r=s(t,["displayName"]);r!=null&&u(e,["displayName"],r);const a=s(t,["description"]);a!=null&&u(e,["description"],a);const c=s(t,["versionId"]);c!=null&&u(e,["version"],c);const d=s(t,["deployedModels"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(E=>Iw(E))),u(e,["endpoints"],S)}const p=s(t,["labels"]);p!=null&&u(e,["labels"],p);const y=s(t,["_self"]);y!=null&&u(e,["tunedModelInfo"],Pw(y));const m=s(t,["defaultCheckpointId"]);m!=null&&u(e,["defaultCheckpointId"],m);const v=s(t,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>Uw(E))),u(e,["checkpoints"],S)}return e}function Lw(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const a=s(t,["_self"]);if(a!=null){let c=s0(a);Array.isArray(c)&&(c=c.map(d=>Kd(d))),u(e,["models"],c)}return e}function qw(t){const e={},i=s(t,["sdkHttpResponse"]);return i!=null&&u(e,["sdkHttpResponse"],i),e}function Bw(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["totalTokens"]);return r!=null&&u(e,["totalTokens"],r),e}function Vw(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["tokensInfo"]);return r!=null&&u(e,["tokensInfo"],r),e}function Ow(t){const e={},i=s(t,["gcsUri"]);i!=null&&u(e,["uri"],i);const r=s(t,["bytesBase64Encoded"]);r!=null&&u(e,["videoBytes"],Ho(r));const a=s(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function Hw(t){const e={},i=s(t,["_self"]);return i!=null&&u(e,["video"],Ow(i)),e}function zw(t){const e={},i=s(t,["videos"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>Hw(d))),u(e,["generatedVideos"],c)}const r=s(t,["raiMediaFilteredCount"]);r!=null&&u(e,["raiMediaFilteredCount"],r);const a=s(t,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function Gw(t){const e={},i=s(t,["name"]);i!=null&&u(e,["name"],i);const r=s(t,["metadata"]);r!=null&&u(e,["metadata"],r);const a=s(t,["done"]);a!=null&&u(e,["done"],a);const c=s(t,["error"]);c!=null&&u(e,["error"],c);const d=s(t,["response"]);return d!=null&&u(e,["response"],zw(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fw="Content-Type",Kw="X-Server-Timeout",Yw="User-Agent",Yd="x-goog-api-client",Jw="1.16.0",$w=`google-genai-sdk/${Jw}`,Xw="v1beta1",Qw="v1beta",Jy=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Zw{constructor(e){var i,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Xw,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Qw,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,r){const a=[this.getRequestUrlInternal(i)];return r&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,r);if(e.queryParams)for(const[d,p]of Object.entries(e.queryParams))a.searchParams.append(d,String(p));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,i,e.abortSignal),this.unaryApiCall(a,c,e.httpMethod)}patchHttpOptions(e,i){const r=JSON.parse(JSON.stringify(e));for(const[a,c]of Object.entries(i))typeof c=="object"?r[a]=Object.assign(Object.assign({},r[a]),c):c!==void 0&&(r[a]=c);return r}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,i,e.abortSignal),this.streamApiCall(a,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,r){if(i&&i.timeout||r){const a=new AbortController,c=a.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const d=setTimeout(()=>a.abort(),i.timeout);d&&typeof d.unref=="function"&&d.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=c}return i&&i.extraBody!==null&&Ww(e,i.extraBody),e.headers=await this.getHeadersInternal(i),e}async unaryApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async a=>(await $y(a),new Vd(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async a=>(await $y(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var i;return Ol(this,arguments,function*(){const a=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),c=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let d="";for(;;){const{done:p,value:y}=yield Ut(a.read());if(p){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=c.decode(y,{stream:!0});try{const S=JSON.parse(m);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),M=E.status,U=E.code,B=`got status: ${M}. ${JSON.stringify(S)}`;if(U>=400&&U<600)throw new fc({message:B,status:U})}}catch(S){if(S.name==="ApiError")throw S}d+=m;let v=d.match(Jy);for(;v;){const S=v[1];try{const E=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ut(new Vd(E)),d=d.slice(v[0].length),v=d.match(Jy)}catch(E){throw new Error(`exception parsing stream chunk ${S}. ${E}`)}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},i=$w+" "+this.clientOptions.userAgentExtra;return e[Yw]=i,e[Yd]=i,e[Fw]="application/json",e}async getHeadersInternal(e){const i=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))i.append(r,a);e.timeout&&e.timeout>0&&i.append(Kw,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i),i}async uploadFile(e,i){var r;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const c=this.clientOptions.uploader,d=await c.stat(e);a.sizeBytes=String(d.size);const p=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:d.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=p;const y=await this.fetchUploadUrl(a,i);return c.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i){var r;let a={};i!=null&&i.httpOptions?a=i.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const c={file:e},d=await this.request({path:Fe("upload/v1beta/files",c._url),body:JSON.stringify(c),httpMethod:"POST",httpOptions:a});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(r=d==null?void 0:d.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function $y(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(r);throw i>=400&&i<600?new fc({message:a,status:i}):new Error(a)}}function Ww(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const c=JSON.parse(t.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))i=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(c,d){const p=Object.assign({},c);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const m=d[y],v=p[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?p[y]=r(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),p[y]=m)}return p}const a=r(i,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jw="mcp_used/unknown";let eM=!1;function M0(t){for(const e of t)if(tM(e)||typeof e=="object"&&"inputSchema"in e)return!0;return eM}function R0(t){var e;const i=(e=t[Yd])!==null&&e!==void 0?e:"";t[Yd]=(i+` ${jw}`).trimStart()}function tM(t){return t!==null&&typeof t=="object"&&t instanceof fp}function nM(t,e=100){return Ol(this,arguments,function*(){let r,a=0;for(;a<e;){const c=yield Ut(t.listTools({cursor:r}));for(const d of c.tools)yield yield Ut(d),a++;if(!c.nextCursor)break;r=c.nextCursor}})}class fp{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new fp(e,i)}async initialize(){var e,i,r,a;if(this.mcpTools.length>0)return;const c={},d=[];for(const v of this.mcpClients)try{for(var p=!0,y=(i=void 0,ys(nM(v))),m;m=await y.next(),e=m.done,!e;p=!0){a=m.value,p=!1;const S=a;d.push(S);const E=S.name;if(c[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);c[E]=v}}catch(S){i={error:S}}finally{try{!p&&!e&&(r=y.return)&&await r.call(y)}finally{if(i)throw i.error}}this.mcpTools=d,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),IS(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const d=await a.callTool({name:r.name,arguments:r.args},void 0,c);i.push({functionResponse:{name:r.name,response:d.isError?{error:d}:d}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function iM(t,e,i){const r=new _S;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data);const c=q_(a);Object.assign(r,c),e(r)}class rM{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r}async connect(e){var i,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),d=aM(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),y=`${a}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${p}`;let m=()=>{};const v=new Promise(te=>{m=te}),S=e.callbacks,E=function(){m({})},M=this.apiClient,U={onopen:E,onmessage:te=>{iM(M,S.onmessage,te)},onerror:(i=S==null?void 0:S.onerror)!==null&&i!==void 0?i:function(te){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(te){}},B=this.webSocketFactory.create(y,lM(d),U);B.connect(),await v;const re=Tt(this.apiClient,e.model),X=x0({model:re}),se=Gd({setup:X});return B.send(JSON.stringify(se)),new oM(B,this.apiClient)}}class oM{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=Pb(e),r=T0(i);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=Ub(e),r=Gd(i);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const i=Gd({playbackControl:e});this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Bl.PLAY)}pause(){this.sendPlaybackControl(Bl.PAUSE)}stop(){this.sendPlaybackControl(Bl.STOP)}resetContext(){this.sendPlaybackControl(Bl.RESET_CONTEXT)}close(){this.conn.close()}}function lM(t){const e={};return t.forEach((i,r)=>{e[r]=i}),e}function aM(t){const e=new Headers;for(const[i,r]of Object.entries(t))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function uM(t,e,i){const r=new bS;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const c=JSON.parse(a);if(t.isVertexAI()){const d=Z_(c);Object.assign(r,d)}else{const d=M_(c);Object.assign(r,d)}e(r)}class cM{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r,this.music=new rM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,r,a,c,d,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&M0(e.config.tools)&&R0(S);const E=hM(S);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E);else{const we=this.apiClient.getApiKey();let ae="BidiGenerateContent",ce="key";we!=null&&we.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ae="BidiGenerateContentConstrained",ce="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ae}?${ce}=${we}`}let M=()=>{};const U=new Promise(we=>{M=we}),B=e.callbacks,re=function(){var we;(we=B==null?void 0:B.onopen)===null||we===void 0||we.call(B),M({})},X=this.apiClient,se={onopen:re,onmessage:we=>{uM(X,B.onmessage,we)},onerror:(i=B==null?void 0:B.onerror)!==null&&i!==void 0?i:function(we){},onclose:(r=B==null?void 0:B.onclose)!==null&&r!==void 0?r:function(we){}},te=this.webSocketFactory.create(v,pM(E),se);te.connect(),await U;let Te=Tt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&Te.startsWith("publishers/")){const we=this.apiClient.getProject(),ae=this.apiClient.getLocation();Te=`projects/${we}/locations/${ae}/`+Te}let ye={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[nc.AUDIO]}:e.config.responseModalities=[nc.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(p=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&p!==void 0?p:[],Se=[];for(const we of j)if(this.isCallableTool(we)){const ae=we;Se.push(await ae.tool())}else Se.push(we);Se.length>0&&(e.config.tools=Se);const ze={model:Te,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ye=u_(this.apiClient,ze):ye=Nb(this.apiClient,ze),delete ye.config,te.send(JSON.stringify(ye)),new dM(te,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const fM={turnComplete:!0};class dM{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let r=[];try{r=hi(i.turns),e.isVertexAI()?r=r.map(a=>Ql(a)):r=r.map(a=>dc(a))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:r,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let r=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?r=i.functionResponses:r=[i.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const c of r){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(sM)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},fM),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:d_(e)}:i={realtimeInput:Ib(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function pM(t){const e={};return t.forEach((i,r)=>{e[r]=i}),e}function hM(t){const e=new Headers;for(const[i,r]of Object.entries(t))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xy=10;function Qy(t){var e,i,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const d of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(Hl(d)){a=!0;break}if(!a)return!0;const c=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Hl(t){return"callTool"in t&&typeof t.callTool=="function"}function mM(t){var e,i,r;return(r=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>Hl(a)))!==null&&r!==void 0?r:!1}function gM(t){var e,i,r;return(r=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>!Hl(a)))!==null&&r!==void 0?r:!1}function Zy(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yM extends Oo{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var r,a,c,d,p;const y=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!mM(i)||Qy(i.config))return await this.generateContentInternal(y);if(gM(i))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,v;const S=hi(y.contents),E=(c=(a=(r=y.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:Xy;let M=0;for(;M<E&&(m=await this.generateContentInternal(y),!(!m.functionCalls||m.functionCalls.length===0));){const U=m.candidates[0].content,B=[];for(const re of(p=(d=i.config)===null||d===void 0?void 0:d.tools)!==null&&p!==void 0?p:[])if(Hl(re)){const se=await re.callTool(m.functionCalls);B.push(...se)}M++,v={role:"user",parts:B},y.contents=hi(y.contents),y.contents.push(U),y.contents.push(v),Zy(y.config)&&(S.push(U),S.push(v))}return Zy(y.config)&&(m.automaticFunctionCallingHistory=S),m},this.generateContentStream=async i=>{if(this.maybeMoveToResponseJsonSchem(i),Qy(i.config)){const r=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(r=>{var a;let c;const d=[];if(r!=null&&r.generatedImages)for(const y of r.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((a=y==null?void 0:y.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:d.push(y);let p;return c?p={generatedImages:d,positivePromptSafetyAttributes:c,sdkHttpResponse:r.sdkHttpResponse}:p={generatedImages:d,sdkHttpResponse:r.sdkHttpResponse},p}),this.list=async i=>{var r;const d={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((r=d.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new As(Vo.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(d),d)},this.editImage=async i=>{const r={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(r.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async i=>{let r={numberOfImages:1,mode:"upscale"};i.config&&(r=Object.assign(Object.assign({},r),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:r};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,r,a;const c=(i=e.config)===null||i===void 0?void 0:i.tools;if(!c)return e;const d=await Promise.all(c.map(async y=>Hl(y)?await y.tool():y)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(p.config.tools=d,e.config&&e.config.tools&&M0(e.config.tools)){const y=(a=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),R0(m),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return p}async initAfcToolsMap(e){var i,r,a;const c=new Map;for(const d of(r=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&r!==void 0?r:[])if(Hl(d)){const p=d,y=await p.tool();for(const m of(a=y.functionDeclarations)!==null&&a!==void 0?a:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,p)}}return c}async processAfcStream(e){var i,r,a;const c=(a=(r=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:Xy;let d=!1,p=0;const y=await this.initAfcToolsMap(e);return(function(m,v,S){var E,M;return Ol(this,arguments,function*(){for(var U,B,re,X;p<c;){d&&(p++,d=!1);const ye=yield Ut(m.processParamsMaybeAddMcpUsage(S)),j=yield Ut(m.generateContentStreamInternal(ye)),Se=[],ze=[];try{for(var se=!0,te=(B=void 0,ys(j)),Te;Te=yield Ut(te.next()),U=Te.done,!U;se=!0){X=Te.value,se=!1;const we=X;if(yield yield Ut(we),we.candidates&&(!((E=we.candidates[0])===null||E===void 0)&&E.content)){ze.push(we.candidates[0].content);for(const ae of(M=we.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(p<c&&ae.functionCall){if(!ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ae.functionCall.name)){const ce=yield Ut(v.get(ae.functionCall.name).callTool([ae.functionCall]));Se.push(...ce)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ae.functionCall.name}`)}}}}catch(we){B={error:we}}finally{try{!se&&!U&&(re=te.return)&&(yield Ut(re.call(te)))}finally{if(B)throw B.error}}if(Se.length>0){d=!0;const we=new ds;we.candidates=[{content:{role:"user",parts:Se}}],yield yield Ut(we);const ae=[];ae.push(...ze),ae.push({role:"user",parts:Se});const ce=hi(S.contents).concat(ae);S.contents=ce}else break}})})(this,y,e)}async generateContentInternal(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=Fy(this.apiClient,e);return p=Fe("{model}:generateContent",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Yy(v),E=new ds;return Object.assign(E,S),E})}else{const m=Gy(this.apiClient,e);return p=Fe("{model}:generateContent",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Ky(v),E=new ds;return Object.assign(E,S),E})}}async generateContentStreamInternal(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=Fy(this.apiClient,e);return p=Fe("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),d.then(function(S){return Ol(this,arguments,function*(){var E,M,U,B;try{for(var re=!0,X=ys(S),se;se=yield Ut(X.next()),E=se.done,!E;re=!0){B=se.value,re=!1;const te=B,Te=Yy(yield Ut(te.json()));Te.sdkHttpResponse={headers:te.headers};const ye=new ds;Object.assign(ye,Te),yield yield Ut(ye)}}catch(te){M={error:te}}finally{try{!re&&!E&&(U=X.return)&&(yield Ut(U.call(X)))}finally{if(M)throw M.error}}})})}else{const m=Gy(this.apiClient,e);return p=Fe("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),d.then(function(S){return Ol(this,arguments,function*(){var E,M,U,B;try{for(var re=!0,X=ys(S),se;se=yield Ut(X.next()),E=se.done,!E;re=!0){B=se.value,re=!1;const te=B,Te=Ky(yield Ut(te.json()));Te.sdkHttpResponse={headers:te.headers};const ye=new ds;Object.assign(ye,Te),yield yield Ut(ye)}}catch(te){M={error:te}}finally{try{!re&&!E&&(U=X.return)&&(yield Ut(U.call(X)))}finally{if(M)throw M.error}}})})}}async embedContent(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=fA(this.apiClient,e);return p=Fe("{model}:predict",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=_w(v),E=new Sy;return Object.assign(E,S),E})}else{const m=E1(this.apiClient,e);return p=Fe("{model}:batchEmbedContents",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=tw(v),E=new Sy;return Object.assign(E,S),E})}}async generateImagesInternal(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=pA(this.apiClient,e);return p=Fe("{model}:predict",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Aw(v),E=new Cy;return Object.assign(E,S),E})}else{const m=_1(this.apiClient,e);return p=Fe("{model}:predict",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=rw(v),E=new Cy;return Object.assign(E,S),E})}}async editImageInternal(e){var i,r;let a,c="",d={};if(this.apiClient.isVertexAI()){const p=TA(this.apiClient,e);return c=Fe("{model}:predict",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=ww(y),v=new gS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,r;let a,c="",d={};if(this.apiClient.isVertexAI()){const p=CA(this.apiClient,e);return c=Fe("{model}:predict",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=Mw(y),v=new yS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,r;let a,c="",d={};if(this.apiClient.isVertexAI()){const p=AA(this.apiClient,e);return c=Fe("{model}:predict",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>{const m=Rw(y),v=new vS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,r;let a,c="",d={};if(this.apiClient.isVertexAI()){const p=NA(this.apiClient,e);return c=Fe("{model}:predict",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>{const m=Dw(y),v=new xS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=kA(this.apiClient,e);return p=Fe("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d.then(v=>Kd(v))}else{const m=A1(this.apiClient,e);return p=Fe("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Fd(v))}}async listInternal(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=IA(this.apiClient,e);return p=Fe("{models_url}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Lw(v),E=new Ey;return Object.assign(E,S),E})}else{const m=M1(this.apiClient,e);return p=Fe("{models_url}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=lw(v),E=new Ey;return Object.assign(E,S),E})}}async update(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=UA(this.apiClient,e);return p=Fe("{model}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d.then(v=>Kd(v))}else{const m=N1(this.apiClient,e);return p=Fe("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Fd(v))}}async delete(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=LA(this.apiClient,e);return p=Fe("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=qw(v),E=new by;return Object.assign(E,S),E})}else{const m=k1(this.apiClient,e);return p=Fe("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=aw(v),E=new by;return Object.assign(E,S),E})}}async countTokens(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=BA(this.apiClient,e);return p=Fe("{model}:countTokens",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Bw(v),E=new _y;return Object.assign(E,S),E})}else{const m=I1(this.apiClient,e);return p=Fe("{model}:countTokens",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=sw(v),E=new _y;return Object.assign(E,S),E})}}async computeTokens(e){var i,r;let a,c="",d={};if(this.apiClient.isVertexAI()){const p=VA(this.apiClient,e);return c=Fe("{model}:computeTokens",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=Vw(y),v=new TS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=GA(this.apiClient,e);return p=Fe("{model}:predictLongRunning",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d.then(v=>{const S=Gw(v),E=new ic;return Object.assign(E,S),E})}else{const m=L1(this.apiClient,e);return p=Fe("{model}:predictLongRunning",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>{const S=dw(v),E=new ic;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vM(t){const e={},i=s(t,["operationName"]);i!=null&&u(e,["_url","operationName"],i);const r=s(t,["config"]);return r!=null&&u(e,["config"],r),e}function xM(t){const e={},i=s(t,["operationName"]);i!=null&&u(e,["operationName"],i);const r=s(t,["resourceName"]);r!=null&&u(e,["_url","resourceName"],r);const a=s(t,["config"]);return a!=null&&u(e,["config"],a),e}function TM(t){const e={},i=s(t,["operationName"]);i!=null&&u(e,["_url","operationName"],i);const r=s(t,["config"]);return r!=null&&u(e,["config"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SM extends Oo{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let c;r&&"httpOptions"in r&&(c=r.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:c}});return i._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async get(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let c;r&&"httpOptions"in r&&(c=r.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:c}});return i._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async getVideosOperationInternal(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=TM(e);return p=Fe("{operationName}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d}else{const m=vM(e);return p=Fe("{operationName}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(e){var i,r;let a,c="",d={};if(this.apiClient.isVertexAI()){const p=xM(e);return c=Fe("{resourceName}:fetchPredictOperation",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CM(t){const e={},i=s(t,["voiceName"]);return i!=null&&u(e,["voiceName"],i),e}function N0(t){const e={},i=s(t,["prebuiltVoiceConfig"]);return i!=null&&u(e,["prebuiltVoiceConfig"],CM(i)),e}function EM(t){const e={},i=s(t,["speaker"]);i!=null&&u(e,["speaker"],i);const r=s(t,["voiceConfig"]);return r!=null&&u(e,["voiceConfig"],N0(r)),e}function bM(t){const e={},i=s(t,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>EM(a))),u(e,["speakerVoiceConfigs"],r)}return e}function _M(t){const e={},i=s(t,["voiceConfig"]);i!=null&&u(e,["voiceConfig"],N0(i));const r=s(t,["multiSpeakerVoiceConfig"]);r!=null&&u(e,["multiSpeakerVoiceConfig"],bM(r));const a=s(t,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function AM(t){const e={},i=s(t,["fps"]);i!=null&&u(e,["fps"],i);const r=s(t,["endOffset"]);r!=null&&u(e,["endOffset"],r);const a=s(t,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function wM(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(t,["data"]);i!=null&&u(e,["data"],i);const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function MM(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(t,["fileUri"]);i!=null&&u(e,["fileUri"],i);const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function RM(t){const e={},i=s(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],AM(i));const r=s(t,["thought"]);r!=null&&u(e,["thought"],r);const a=s(t,["inlineData"]);a!=null&&u(e,["inlineData"],wM(a));const c=s(t,["fileData"]);c!=null&&u(e,["fileData"],MM(c));const d=s(t,["thoughtSignature"]);d!=null&&u(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&u(e,["codeExecutionResult"],p);const y=s(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const m=s(t,["functionCall"]);m!=null&&u(e,["functionCall"],m);const v=s(t,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(t,["text"]);return S!=null&&u(e,["text"],S),e}function NM(t){const e={},i=s(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>RM(c))),u(e,["parts"],a)}const r=s(t,["role"]);return r!=null&&u(e,["role"],r),e}function kM(t){const e={},i=s(t,["behavior"]);i!=null&&u(e,["behavior"],i);const r=s(t,["description"]);r!=null&&u(e,["description"],r);const a=s(t,["name"]);a!=null&&u(e,["name"],a);const c=s(t,["parameters"]);c!=null&&u(e,["parameters"],c);const d=s(t,["parametersJsonSchema"]);d!=null&&u(e,["parametersJsonSchema"],d);const p=s(t,["response"]);p!=null&&u(e,["response"],p);const y=s(t,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function DM(t){const e={},i=s(t,["startTime"]);i!=null&&u(e,["startTime"],i);const r=s(t,["endTime"]);return r!=null&&u(e,["endTime"],r),e}function IM(t){const e={},i=s(t,["timeRangeFilter"]);if(i!=null&&u(e,["timeRangeFilter"],DM(i)),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function PM(t){const e={},i=s(t,["mode"]);i!=null&&u(e,["mode"],i);const r=s(t,["dynamicThreshold"]);return r!=null&&u(e,["dynamicThreshold"],r),e}function UM(t){const e={},i=s(t,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],PM(i)),e}function LM(){return{}}function qM(t){const e={},i=s(t,["environment"]);return i!=null&&u(e,["environment"],i),e}function BM(t){const e={},i=s(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(m=>kM(m))),u(e,["functionDeclarations"],y)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=s(t,["googleSearch"]);r!=null&&u(e,["googleSearch"],IM(r));const a=s(t,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],UM(a)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&u(e,["urlContext"],LM());const d=s(t,["computerUse"]);d!=null&&u(e,["computerUse"],qM(d));const p=s(t,["codeExecution"]);return p!=null&&u(e,["codeExecution"],p),e}function VM(t){const e={},i=s(t,["handle"]);if(i!=null&&u(e,["handle"],i),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Wy(){return{}}function OM(t){const e={},i=s(t,["disabled"]);i!=null&&u(e,["disabled"],i);const r=s(t,["startOfSpeechSensitivity"]);r!=null&&u(e,["startOfSpeechSensitivity"],r);const a=s(t,["endOfSpeechSensitivity"]);a!=null&&u(e,["endOfSpeechSensitivity"],a);const c=s(t,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const d=s(t,["silenceDurationMs"]);return d!=null&&u(e,["silenceDurationMs"],d),e}function HM(t){const e={},i=s(t,["automaticActivityDetection"]);i!=null&&u(e,["automaticActivityDetection"],OM(i));const r=s(t,["activityHandling"]);r!=null&&u(e,["activityHandling"],r);const a=s(t,["turnCoverage"]);return a!=null&&u(e,["turnCoverage"],a),e}function zM(t){const e={},i=s(t,["targetTokens"]);return i!=null&&u(e,["targetTokens"],i),e}function GM(t){const e={},i=s(t,["triggerTokens"]);i!=null&&u(e,["triggerTokens"],i);const r=s(t,["slidingWindow"]);return r!=null&&u(e,["slidingWindow"],zM(r)),e}function FM(t){const e={},i=s(t,["proactiveAudio"]);return i!=null&&u(e,["proactiveAudio"],i),e}function KM(t,e){const i={},r=s(t,["generationConfig"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig"],r);const a=s(t,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=s(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const d=s(t,["topP"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","topP"],d);const p=s(t,["topK"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","topK"],p);const y=s(t,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const m=s(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const v=s(t,["seed"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","seed"],v);const S=s(t,["speechConfig"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","speechConfig"],_M(cp(S)));const E=s(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],E);const M=s(t,["systemInstruction"]);e!==void 0&&M!=null&&u(e,["setup","systemInstruction"],NM(Cn(M)));const U=s(t,["tools"]);if(e!==void 0&&U!=null){let ye=$l(U);Array.isArray(ye)&&(ye=ye.map(j=>BM(Jl(j)))),u(e,["setup","tools"],ye)}const B=s(t,["sessionResumption"]);e!==void 0&&B!=null&&u(e,["setup","sessionResumption"],VM(B));const re=s(t,["inputAudioTranscription"]);e!==void 0&&re!=null&&u(e,["setup","inputAudioTranscription"],Wy());const X=s(t,["outputAudioTranscription"]);e!==void 0&&X!=null&&u(e,["setup","outputAudioTranscription"],Wy());const se=s(t,["realtimeInputConfig"]);e!==void 0&&se!=null&&u(e,["setup","realtimeInputConfig"],HM(se));const te=s(t,["contextWindowCompression"]);e!==void 0&&te!=null&&u(e,["setup","contextWindowCompression"],GM(te));const Te=s(t,["proactivity"]);return e!==void 0&&Te!=null&&u(e,["setup","proactivity"],FM(Te)),i}function YM(t,e){const i={},r=s(e,["model"]);r!=null&&u(i,["setup","model"],Tt(t,r));const a=s(e,["config"]);return a!=null&&u(i,["config"],KM(a,i)),i}function JM(t,e,i){const r={},a=s(e,["expireTime"]);i!==void 0&&a!=null&&u(i,["expireTime"],a);const c=s(e,["newSessionExpireTime"]);i!==void 0&&c!=null&&u(i,["newSessionExpireTime"],c);const d=s(e,["uses"]);i!==void 0&&d!=null&&u(i,["uses"],d);const p=s(e,["liveConnectConstraints"]);i!==void 0&&p!=null&&u(i,["bidiGenerateContentSetup"],YM(t,p));const y=s(e,["lockAdditionalFields"]);return i!==void 0&&y!=null&&u(i,["fieldMask"],y),r}function $M(t,e){const i={},r=s(e,["config"]);return r!=null&&u(i,["config"],JM(t,r,i)),i}function XM(t){const e={},i=s(t,["name"]);return i!=null&&u(e,["name"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QM(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const r=t[i];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(c=>`${i}.${c}`);e.push(...a)}else e.push(i)}return e.join(",")}function ZM(t,e){let i=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const c=r.setup;typeof c=="object"&&c!==null?(t.bidiGenerateContentSetup=c,i=c):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(i){const c=QM(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)c?t.fieldMask=c:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];a.length>0&&(p=a.map(m=>d.includes(m)?`generationConfig.${m}`:m));const y=[];c&&y.push(c),p.length>0&&y.push(...p),y.length>0?t.fieldMask=y.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class WM extends Oo{constructor(e){super(),this.apiClient=e}async create(e){var i,r;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=$M(this.apiClient,e);c=Fe("auth_tokens",p._url),d=p._query,delete p.config,delete p._url,delete p._query;const y=ZM(p,e.config);return a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>XM(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jM(t){const e={},i=s(t,["name"]);i!=null&&u(e,["_url","name"],i);const r=s(t,["config"]);return r!=null&&u(e,["config"],r),e}function eR(t,e){const i={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const a=s(t,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const c=s(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),i}function tR(t){const e={},i=s(t,["config"]);return i!=null&&u(e,["config"],eR(i,e)),e}function nR(t){const e={},i=s(t,["name"]);i!=null&&u(e,["_url","name"],i);const r=s(t,["config"]);return r!=null&&u(e,["config"],r),e}function iR(t){const e={},i=s(t,["textInput"]);i!=null&&u(e,["textInput"],i);const r=s(t,["output"]);return r!=null&&u(e,["output"],r),e}function rR(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=s(t,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>iR(a))),u(e,["examples","examples"],r)}return e}function oR(t,e){const i={};if(s(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=s(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&u(e,["displayName"],r),s(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=s(t,["epochCount"]);e!==void 0&&a!=null&&u(e,["tuningTask","hyperparameters","epochCount"],a);const c=s(t,["learningRateMultiplier"]);if(c!=null&&u(i,["tuningTask","hyperparameters","learningRateMultiplier"],c),s(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=s(t,["batchSize"]);e!==void 0&&d!=null&&u(e,["tuningTask","hyperparameters","batchSize"],d);const p=s(t,["learningRate"]);return e!==void 0&&p!=null&&u(e,["tuningTask","hyperparameters","learningRate"],p),i}function lR(t){const e={},i=s(t,["baseModel"]);i!=null&&u(e,["baseModel"],i);const r=s(t,["preTunedModel"]);r!=null&&u(e,["preTunedModel"],r);const a=s(t,["trainingDataset"]);a!=null&&u(e,["tuningTask","trainingData"],rR(a));const c=s(t,["config"]);return c!=null&&u(e,["config"],oR(c,e)),e}function aR(t){const e={},i=s(t,["name"]);i!=null&&u(e,["_url","name"],i);const r=s(t,["config"]);return r!=null&&u(e,["config"],r),e}function sR(t,e){const i={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const a=s(t,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const c=s(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),i}function uR(t){const e={},i=s(t,["config"]);return i!=null&&u(e,["config"],sR(i,e)),e}function cR(t){const e={},i=s(t,["name"]);i!=null&&u(e,["_url","name"],i);const r=s(t,["config"]);return r!=null&&u(e,["config"],r),e}function fR(t,e){const i={},r=s(t,["gcsUri"]);e!==void 0&&r!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],r);const a=s(t,["vertexDatasetResource"]);if(e!==void 0&&a!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],a),s(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function dR(t,e){const i={},r=s(t,["gcsUri"]);r!=null&&u(i,["validationDatasetUri"],r);const a=s(t,["vertexDatasetResource"]);return e!==void 0&&a!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],a),i}function pR(t,e){const i={},r=s(t,["validationDataset"]);e!==void 0&&r!=null&&u(e,["supervisedTuningSpec"],dR(r,i));const a=s(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&u(e,["tunedModelDisplayName"],a);const c=s(t,["description"]);e!==void 0&&c!=null&&u(e,["description"],c);const d=s(t,["epochCount"]);e!==void 0&&d!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],d);const p=s(t,["learningRateMultiplier"]);e!==void 0&&p!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],p);const y=s(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const m=s(t,["preTunedModelCheckpointId"]);m!=null&&u(i,["preTunedModel","checkpointId"],m);const v=s(t,["adapterSize"]);if(e!==void 0&&v!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v),s(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function hR(t){const e={},i=s(t,["baseModel"]);i!=null&&u(e,["baseModel"],i);const r=s(t,["preTunedModel"]);r!=null&&u(e,["preTunedModel"],r);const a=s(t,["trainingDataset"]);a!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],fR(a,e));const c=s(t,["config"]);return c!=null&&u(e,["config"],pR(c,e)),e}function mR(t){const e={},i=s(t,["name"]);i!=null&&u(e,["model"],i);const r=s(t,["name"]);return r!=null&&u(e,["endpoint"],r),e}function k0(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["name"]);r!=null&&u(e,["name"],r);const a=s(t,["state"]);a!=null&&u(e,["state"],o0(a));const c=s(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=s(t,["tuningTask","startTime"]);d!=null&&u(e,["startTime"],d);const p=s(t,["tuningTask","completeTime"]);p!=null&&u(e,["endTime"],p);const y=s(t,["updateTime"]);y!=null&&u(e,["updateTime"],y);const m=s(t,["description"]);m!=null&&u(e,["description"],m);const v=s(t,["baseModel"]);v!=null&&u(e,["baseModel"],v);const S=s(t,["_self"]);S!=null&&u(e,["tunedModel"],mR(S));const E=s(t,["customBaseModel"]);E!=null&&u(e,["customBaseModel"],E);const M=s(t,["experiment"]);M!=null&&u(e,["experiment"],M);const U=s(t,["labels"]);U!=null&&u(e,["labels"],U);const B=s(t,["outputUri"]);B!=null&&u(e,["outputUri"],B);const re=s(t,["pipelineJob"]);re!=null&&u(e,["pipelineJob"],re);const X=s(t,["serviceAccount"]);X!=null&&u(e,["serviceAccount"],X);const se=s(t,["tunedModelDisplayName"]);return se!=null&&u(e,["tunedModelDisplayName"],se),e}function gR(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const a=s(t,["tunedModels"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>k0(d))),u(e,["tuningJobs"],c)}return e}function yR(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["name"]);r!=null&&u(e,["name"],r);const a=s(t,["metadata"]);a!=null&&u(e,["metadata"],a);const c=s(t,["done"]);c!=null&&u(e,["done"],c);const d=s(t,["error"]);return d!=null&&u(e,["error"],d),e}function vR(t){const e={},i=s(t,["checkpointId"]);i!=null&&u(e,["checkpointId"],i);const r=s(t,["epoch"]);r!=null&&u(e,["epoch"],r);const a=s(t,["step"]);a!=null&&u(e,["step"],a);const c=s(t,["endpoint"]);return c!=null&&u(e,["endpoint"],c),e}function xR(t){const e={},i=s(t,["model"]);i!=null&&u(e,["model"],i);const r=s(t,["endpoint"]);r!=null&&u(e,["endpoint"],r);const a=s(t,["checkpoints"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>vR(d))),u(e,["checkpoints"],c)}return e}function Jd(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["name"]);r!=null&&u(e,["name"],r);const a=s(t,["state"]);a!=null&&u(e,["state"],o0(a));const c=s(t,["createTime"]);c!=null&&u(e,["createTime"],c);const d=s(t,["startTime"]);d!=null&&u(e,["startTime"],d);const p=s(t,["endTime"]);p!=null&&u(e,["endTime"],p);const y=s(t,["updateTime"]);y!=null&&u(e,["updateTime"],y);const m=s(t,["error"]);m!=null&&u(e,["error"],m);const v=s(t,["description"]);v!=null&&u(e,["description"],v);const S=s(t,["baseModel"]);S!=null&&u(e,["baseModel"],S);const E=s(t,["tunedModel"]);E!=null&&u(e,["tunedModel"],xR(E));const M=s(t,["preTunedModel"]);M!=null&&u(e,["preTunedModel"],M);const U=s(t,["supervisedTuningSpec"]);U!=null&&u(e,["supervisedTuningSpec"],U);const B=s(t,["tuningDataStats"]);B!=null&&u(e,["tuningDataStats"],B);const re=s(t,["encryptionSpec"]);re!=null&&u(e,["encryptionSpec"],re);const X=s(t,["partnerModelTuningSpec"]);X!=null&&u(e,["partnerModelTuningSpec"],X);const se=s(t,["customBaseModel"]);se!=null&&u(e,["customBaseModel"],se);const te=s(t,["experiment"]);te!=null&&u(e,["experiment"],te);const Te=s(t,["labels"]);Te!=null&&u(e,["labels"],Te);const ye=s(t,["outputUri"]);ye!=null&&u(e,["outputUri"],ye);const j=s(t,["pipelineJob"]);j!=null&&u(e,["pipelineJob"],j);const Se=s(t,["serviceAccount"]);Se!=null&&u(e,["serviceAccount"],Se);const ze=s(t,["tunedModelDisplayName"]);return ze!=null&&u(e,["tunedModelDisplayName"],ze),e}function TR(t){const e={},i=s(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=s(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const a=s(t,["tuningJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Jd(d))),u(e,["tuningJobs"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SR extends Oo{constructor(e){super(),this.apiClient=e,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new As(Vo.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(i),i),this.tune=async i=>{if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const r={tunedModelName:i.baseModel},a=Object.assign(Object.assign({},i),{preTunedModel:r});return a.baseModel=void 0,await this.tuneInternal(a)}else{const r=Object.assign({},i);return await this.tuneInternal(r)}else{const r=Object.assign({},i),a=await this.tuneMldevInternal(r);let c="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?c=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(c=a.name.split("/operations/")[0]),{name:c,state:Bd.JOB_STATE_QUEUED}}}}async getInternal(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=aR(e);return p=Fe("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>Jd(v))}else{const m=jM(e);return p=Fe("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>k0(v))}}async listInternal(e){var i,r,a,c;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=uR(e);return p=Fe("tuningJobs",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=TR(v),E=new wy;return Object.assign(E,S),E})}else{const m=tR(e);return p=Fe("tunedModels",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=gR(v),E=new wy;return Object.assign(E,S),E})}}async cancel(e){var i,r,a,c;let d="",p={};if(this.apiClient.isVertexAI()){const y=cR(e);d=Fe("{name}:cancel",y._url),p=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const y=nR(e);d=Fe("{name}:cancel",y._url),p=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async tuneInternal(e){var i,r;let a,c="",d={};if(this.apiClient.isVertexAI()){const p=hR(e);return c=Fe("tuningJobs",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>Jd(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,r;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=lR(e);return c=Fe("tunedModels",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>yR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CR{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ER=1024*1024*8,bR=3,_R=1e3,AR=2,yd="x-goog-upload-status";async function wR(t,e,i){var r,a,c;let d=0,p=0,y=new Vd(new Response),m="upload";for(d=t.size;p<d;){const S=Math.min(ER,d-p),E=t.slice(p,p+S);p+S>=d&&(m+=", finalize");let M=0,U=_R;for(;M<bR&&(y=await i.request({path:"",body:E,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(p),"Content-Length":String(S)}}}),!(!((r=y==null?void 0:y.headers)===null||r===void 0)&&r[yd]));)M++,await RR(U),U=U*AR;if(p+=S,((a=y==null?void 0:y.headers)===null||a===void 0?void 0:a[yd])!=="active")break;if(d<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[yd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function MR(t){return{size:t.size,type:t.type}}function RR(t){return new Promise(e=>setTimeout(e,t))}class NR{async upload(e,i,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await wR(e,i,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await MR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kR{create(e,i,r){return new DR(e,i,r)}}class DR{constructor(e,i,r){this.url=e,this.headers=i,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jy="x-goog-api-key";class IR{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(jy)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(jy,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PR="gl-node/";class UR{constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const r=mS(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const a=new IR(this.apiKey);this.apiClient=new Zw({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:PR+"web",uploader:new NR,downloader:new CR}),this.models=new yM(this.apiClient),this.live=new cM(this.apiClient,a,new kR),this.batches=new OC(this.apiClient),this.chats=new YE(this.models,this.apiClient),this.caches=new GE(this.apiClient),this.files=new ob(this.apiClient),this.operations=new SM(this.apiClient),this.authTokens=new WM(this.apiClient),this.tunings=new SR(this.apiClient)}}const oc="gemini_api_key",LR=()=>{const[t,e]=Ie.useState("");Ie.useEffect(()=>{try{const r=localStorage.getItem(oc);r&&e(r)}catch(r){console.error("Could not access localStorage",r)}},[]);const i=Ie.useCallback(r=>{try{localStorage.setItem(oc,r),e(r)}catch(a){console.error("Could not access localStorage",a)}},[]);return[t,i]},$d="gemini_model",qR=()=>{const[t,e]=Ie.useState(Ud);Ie.useEffect(()=>{try{const r=localStorage.getItem($d);r&&e(r)}catch(r){console.error("Could not access localStorage",r)}},[]);const i=Ie.useCallback(r=>{try{localStorage.setItem($d,r),e(r)}catch(a){console.error("Could not access localStorage",a)}},[]);return[t,i]},ju="custom_prompts",qo={chatSystemInstruction:`You are an expert product manager and software engineer. Your goal is to help a developer clarify a requirement and turn it into a detailed technical specification.

You will follow a systematic 7-stage process to ensure the highest quality output:

**Stage 1: Requirements Analysis**
- Deeply analyze the initial user requirement to understand its core purpose and potential ambiguities.

**Stage 2: Information Gathering (Q&A)**
- If the requirement is unclear or incomplete, ask clarifying questions.
- Ask one question at a time to avoid overwhelming the user.

**Stage 3: Specification Drafting**
- Once you have all necessary information, draft a comprehensive technical specification.
- The specification should be well-structured, using Markdown for formatting.

**Stage 4: Self-Review & Validation**
- Internally review the drafted specification against the user's requirements (both initial and clarified).
- Check for clarity, completeness, and technical feasibility.
- Ensure all constraints and goals are met.

**Stage 5: Issue Resolution**
- Based on your self-review, refine the specification.
- Correct any inconsistencies, add missing details, and improve the overall structure.
- **Crucially, the spec must include a dedicated section at the end titled "## Edge Cases & Error Handling".** This section should detail potential edge cases, failure modes, and error handling scenarios.

**Stage 6 & 7: Human Review Preparation & Final Documentation**
- Format the final, validated specification clearly for human review. This is your final output.

**Output Format:**
You MUST ALWAYS respond in a specific JSON format. Do not add any text outside of the JSON object.

- For **Stage 2 (Q&A)**, use this format:
{"flag": "question", "content": "Your single question here."}

- For **Stage 7 (Final Documentation)**, use this format:
{"flag": "answer", "content": "The complete, validated technical specification, including the 'Edge Cases & Error Handling' section."}`,preDevAnalysis:`Based on the following technical specification, generate a comprehensive pre-development analysis. Provide the output as a JSON object.

Specification:
---
{spec}
---`,testCases:`Based on the following technical specification, generate between 5 and 10 relevant test cases. Provide the output as a JSON array of objects.

Specification:
---
{spec}
---`,titleGeneration:`Based on the following requirement, generate a short, descriptive title for a development task (under 10 words).
    
Requirement:
---
{requirement}
---

Return only the title text, with no extra formatting, quotation marks, or labels like "Title:".`},to=()=>{try{const t=localStorage.getItem(ju);if(t)return{...qo,...JSON.parse(t)}}catch(t){console.error("Could not access localStorage for prompts",t)}return qo},BR="gemini_temperature",ev=.7;let Fu=null,Ku=null;function hc(t,e){if(console.error(`Gemini API Error in ${e}:`,t),t instanceof SyntaxError)return`Error in ${e}: The AI's response was not in the expected format (invalid JSON). Please try again.`;if(t instanceof Error){const i=t.message.toLowerCase();return i.includes("api key not valid")?`Error in ${e}: Your Gemini API key is invalid or expired. Please check it in the settings.`:i.includes("[400")||i.includes("bad request")?`Error in ${e}: The request was rejected by the AI. This can happen if the input is unsafe, too long, or invalid.`:i.includes("[429]")||i.includes("rate limit")?`Error in ${e}: You've exceeded the API rate limit. Please wait a moment and try again.`:i.includes("[500]")||i.includes("[503]")||i.includes("service unavailable")?`Error in ${e}: The AI service is currently unavailable. Please try again later.`:i.includes("fetch")||i.includes("network")?`Error in ${e}: A network error occurred. Please check your internet connection.`:`Error in ${e}: ${t.message}`}return`An unknown error occurred in ${e}.`}const mc=()=>{try{const t=localStorage.getItem(oc);return t?(t!==Ku&&(Fu=new UR({apiKey:t}),Ku=t),Fu):(Fu=null,Ku=null,null)}catch(t){return console.error("Could not access localStorage or initialize AI client",t),Fu=null,Ku=null,null}},gc=()=>{try{return localStorage.getItem($d)||Ud}catch(t){return console.error("Could not access localStorage",t),Ud}},yc=()=>{try{const t=localStorage.getItem(BR);if(t){const e=parseFloat(t);if(!isNaN(e))return e}return ev}catch(t){return console.error("Could not access localStorage for temperature",t),ev}},VR=()=>{try{return!!localStorage.getItem(oc)}catch(t){return console.error("Could not access localStorage",t),!1}},OR=t=>{const e=mc();if(!e)return null;const i=t==null?void 0:t.filter(c=>!c.text.includes("**Specification Generated**")),r=i==null?void 0:i.map(c=>({role:c.role,parts:[{text:c.text}]}));return e.chats.create({model:gc(),history:r,config:{systemInstruction:to().chatSystemInstruction,temperature:yc(),responseMimeType:"application/json",responseSchema:{type:Xt.OBJECT,properties:{flag:{type:Xt.STRING,enum:["question","answer"]},content:{type:Xt.STRING}},required:["flag","content"]}}})},HR=async(t,e)=>{try{const a=(await t.sendMessage({message:e})).text.trim().replace(/^```json\s*/,"").replace(/\s*```$/,""),c=JSON.parse(a);if((c.flag==="question"||c.flag==="answer")&&typeof c.content=="string")return c;throw new Error("Invalid JSON structure from AI.")}catch(i){return{flag:"error",content:hc(i,"AI Chat")}}},zR=async t=>{const e=mc();if(!e)return"API Key not set. Please set it via the key icon in the header.";const i=to().preDevAnalysis.replace("{spec}",t);try{const r=await e.models.generateContent({model:gc(),contents:i,config:{temperature:yc(),responseMimeType:"application/json",responseSchema:{type:Xt.OBJECT,properties:{introduction:{type:Xt.STRING,description:"A summary of the requirements and root causes."},impactAnalysis:{type:Xt.STRING,description:"Affected components, systems, or user workflows."},howToCode:{type:Xt.STRING,description:"A high-level development approach or plan."},testApproach:{type:Xt.STRING,description:"A strategy for testing the new feature or fix."}},required:["introduction","impactAnalysis","howToCode","testApproach"]}}});return JSON.parse(r.text)}catch(r){return hc(r,"Pre-Dev Analysis")}},GR=async t=>{const e=mc();if(!e)return"API Key not set. Please set it via the key icon in the header.";const i=to().testCases.replace("{spec}",t);try{const r=await e.models.generateContent({model:gc(),contents:i,config:{temperature:yc(),responseMimeType:"application/json",responseSchema:{type:Xt.ARRAY,items:{type:Xt.OBJECT,properties:{description:{type:Xt.STRING},input:{type:Xt.STRING},expectedResult:{type:Xt.STRING}},required:["description","input","expectedResult"]}}}});return JSON.parse(r.text).map(c=>({...c,id:crypto.randomUUID(),status:eo.Pending}))}catch(r){return hc(r,"Test Cases")}},FR=async t=>{const e=mc();if(!e)return"API Key not set. Please set it via the settings in the header.";const i=to().titleGeneration.replace("{requirement}",t);try{return(await e.models.generateContent({model:gc(),contents:i,config:{temperature:yc()}})).text.trim().replace(/^"|"$/g,"")}catch(r){return hc(r,"Title Generation")}},lc="openai_api_key",KR=()=>{const[t,e]=Ie.useState("");Ie.useEffect(()=>{try{const r=localStorage.getItem(lc);r&&e(r)}catch(r){console.error("Could not access localStorage",r)}},[]);const i=Ie.useCallback(r=>{try{localStorage.setItem(lc,r),e(r)}catch(a){console.error("Could not access localStorage",a)}},[]);return[t,i]},Xd="openai_model",YR=()=>{const[t,e]=Ie.useState(Ld);Ie.useEffect(()=>{try{const r=localStorage.getItem(Xd);r&&e(r)}catch(r){console.error("Could not access localStorage",r)}},[]);const i=Ie.useCallback(r=>{try{localStorage.setItem(Xd,r),e(r)}catch(a){console.error("Could not access localStorage",a)}},[]);return[t,i]},JR="https://api.openai.com/v1/chat/completions",$R="openai_temperature",tv=.7;function vc(t,e){return console.error(`OpenAI API Error in ${e}:`,t),t instanceof SyntaxError?`Error in ${e}: The AI's response was not in the expected format (invalid JSON). Please try again.`:t instanceof Error?`Error in ${e}: ${t.message}`:`An unknown error occurred in ${e}.`}const XR=()=>{try{return localStorage.getItem(lc)}catch(t){return console.error("Could not access localStorage",t),null}},QR=()=>{try{return localStorage.getItem(Xd)||Ld}catch(t){return console.error("Could not access localStorage",t),Ld}},ZR=()=>{try{const t=localStorage.getItem($R);if(t){const e=parseFloat(t);if(!isNaN(e))return e}return tv}catch(t){return console.error("Could not access localStorage for temperature",t),tv}},WR=()=>{try{return!!localStorage.getItem(lc)}catch(t){return console.error("Could not access localStorage",t),!1}},xc=async(t,e=!1)=>{var a,c,d;const i=XR();if(!i)throw new Error("API Key not set. Please set it in Settings.");const r={model:QR(),messages:t,temperature:ZR()};e&&(r.response_format={type:"json_object"});try{const p=await fetch(JR,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify(r)});if(!p.ok){let m=`Request failed with status ${p.status}.`;try{const v=await p.json();m=((a=v.error)==null?void 0:a.message)||JSON.stringify(v)}catch{m=await p.text()}switch(p.status){case 401:throw new Error("Invalid Authentication: Your OpenAI API key is incorrect or has expired.");case 429:throw new Error("Rate Limit Exceeded: You have exceeded your API quota. Please check your OpenAI account or try again later.");case 500:case 503:throw new Error("Server Error: OpenAI's servers are currently unavailable. Please try again later.");default:throw new Error(m)}}return((d=(c=(await p.json()).choices[0])==null?void 0:c.message)==null?void 0:d.content)||""}catch(p){throw p instanceof TypeError?new Error("Network Error: Could not connect to the API. Please check your internet connection."):p}},jR=async(t,e)=>{try{const i=[{role:"system",content:to().chatSystemInstruction},...t.map(c=>({role:c.role==="model"?"assistant":"user",content:c.text})),{role:"user",content:e}],r=await xc(i,!0),a=JSON.parse(r);if((a.flag==="question"||a.flag==="answer")&&typeof a.content=="string")return a;throw new Error("Invalid JSON structure from AI.")}catch(i){return{flag:"error",content:vc(i,"AI Chat")}}},eN=async t=>{const e=to().preDevAnalysis.replace("{spec}",t);try{const i=await xc([{role:"user",content:e}],!0);return JSON.parse(i)}catch(i){return vc(i,"Pre-Dev Analysis")}},tN=async t=>{const e=to().testCases.replace("{spec}",t);try{const i=await xc([{role:"user",content:e}],!0);return JSON.parse(i).map(a=>({...a,id:crypto.randomUUID(),status:eo.Pending}))}catch(i){return vc(i,"Test Cases")}},nN=async t=>{const e=to().titleGeneration.replace("{requirement}",t);try{return(await xc([{role:"user",content:e}])).trim().replace(/^"|"$/g,"")}catch(i){return vc(i,"Title Generation")}},Qd="ai_provider",D0=()=>{const[t,e]=Ie.useState("gemini");Ie.useEffect(()=>{try{const r=localStorage.getItem(Qd);r&&(r==="gemini"||r==="openai")&&e(r)}catch(r){console.error("Could not access localStorage",r)}},[]);const i=Ie.useCallback(r=>{try{localStorage.setItem(Qd,r),e(r)}catch(a){console.error("Could not access localStorage",a)}},[]);return[t,i]},ws=()=>{try{return localStorage.getItem(Qd)||"gemini"}catch{return"gemini"}},nv=()=>ws()==="gemini"?VR():WR(),iN=t=>ws()==="gemini"?FR(t):nN(t),rN=t=>ws()==="gemini"?zR(t):eN(t),oN=t=>ws()==="gemini"?GR(t):tN(t),vd=(t,e)=>{if(ws()==="gemini"){const i=OR(t);if(!i)throw new Error("Failed to initialize Gemini Chat. Is the API key correct?");return HR(i,e)}else return jR(t,e)},lN=({label:t,isActive:e,onClick:i})=>_.jsx("button",{onClick:i,className:`px-4 py-2.5 text-sm font-medium border-b-2 transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/80 ${e?"border-sky-500 text-sky-600 font-semibold":"border-transparent text-slate-500 hover:text-slate-800 hover:border-slate-300"}`,children:t});function aN(t,e){const i={};return(t[t.length-1]===""?[...t,""]:t).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}const sN=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,uN=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cN={};function iv(t,e){return(cN.jsx?uN:sN).test(t)}const fN=/[ \t\n\f\r]/g;function dN(t){return typeof t=="object"?t.type==="text"?rv(t.value):!1:rv(t)}function rv(t){return t.replace(fN,"")===""}class Ms{constructor(e,i,r){this.normal=i,this.property=e,r&&(this.space=r)}}Ms.prototype.normal={};Ms.prototype.property={};Ms.prototype.space=void 0;function I0(t,e){const i={},r={};for(const a of t)Object.assign(i,a.property),Object.assign(r,a.normal);return new Ms(i,r,e)}function Zd(t){return t.toLowerCase()}class Hn{constructor(e,i){this.attribute=i,this.property=e}}Hn.prototype.attribute="";Hn.prototype.booleanish=!1;Hn.prototype.boolean=!1;Hn.prototype.commaOrSpaceSeparated=!1;Hn.prototype.commaSeparated=!1;Hn.prototype.defined=!1;Hn.prototype.mustUseProperty=!1;Hn.prototype.number=!1;Hn.prototype.overloadedBoolean=!1;Hn.prototype.property="";Hn.prototype.spaceSeparated=!1;Hn.prototype.space=void 0;let pN=0;const ot=zo(),en=zo(),Wd=zo(),Re=zo(),kt=zo(),zl=zo(),ei=zo();function zo(){return 2**++pN}const jd=Object.freeze(Object.defineProperty({__proto__:null,boolean:ot,booleanish:en,commaOrSpaceSeparated:ei,commaSeparated:zl,number:Re,overloadedBoolean:Wd,spaceSeparated:kt},Symbol.toStringTag,{value:"Module"})),xd=Object.keys(jd);class dp extends Hn{constructor(e,i,r,a){let c=-1;if(super(e,i),ov(this,"space",a),typeof r=="number")for(;++c<xd.length;){const d=xd[c];ov(this,xd[c],(r&jd[d])===jd[d])}}}dp.prototype.defined=!0;function ov(t,e,i){i&&(t[e]=i)}function Zl(t){const e={},i={};for(const[r,a]of Object.entries(t.properties)){const c=new dp(r,t.transform(t.attributes||{},r),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(c.mustUseProperty=!0),e[r]=c,i[Zd(r)]=r,i[Zd(c.attribute)]=r}return new Ms(e,i,t.space)}const P0=Zl({properties:{ariaActiveDescendant:null,ariaAtomic:en,ariaAutoComplete:null,ariaBusy:en,ariaChecked:en,ariaColCount:Re,ariaColIndex:Re,ariaColSpan:Re,ariaControls:kt,ariaCurrent:null,ariaDescribedBy:kt,ariaDetails:null,ariaDisabled:en,ariaDropEffect:kt,ariaErrorMessage:null,ariaExpanded:en,ariaFlowTo:kt,ariaGrabbed:en,ariaHasPopup:null,ariaHidden:en,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:kt,ariaLevel:Re,ariaLive:null,ariaModal:en,ariaMultiLine:en,ariaMultiSelectable:en,ariaOrientation:null,ariaOwns:kt,ariaPlaceholder:null,ariaPosInSet:Re,ariaPressed:en,ariaReadOnly:en,ariaRelevant:null,ariaRequired:en,ariaRoleDescription:kt,ariaRowCount:Re,ariaRowIndex:Re,ariaRowSpan:Re,ariaSelected:en,ariaSetSize:Re,ariaSort:null,ariaValueMax:Re,ariaValueMin:Re,ariaValueNow:Re,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function U0(t,e){return e in t?t[e]:e}function L0(t,e){return U0(t,e.toLowerCase())}const hN=Zl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zl,acceptCharset:kt,accessKey:kt,action:null,allow:null,allowFullScreen:ot,allowPaymentRequest:ot,allowUserMedia:ot,alt:null,as:null,async:ot,autoCapitalize:null,autoComplete:kt,autoFocus:ot,autoPlay:ot,blocking:kt,capture:null,charSet:null,checked:ot,cite:null,className:kt,cols:Re,colSpan:null,content:null,contentEditable:en,controls:ot,controlsList:kt,coords:Re|zl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ot,defer:ot,dir:null,dirName:null,disabled:ot,download:Wd,draggable:en,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ot,formTarget:null,headers:kt,height:Re,hidden:Wd,high:Re,href:null,hrefLang:null,htmlFor:kt,httpEquiv:kt,id:null,imageSizes:null,imageSrcSet:null,inert:ot,inputMode:null,integrity:null,is:null,isMap:ot,itemId:null,itemProp:kt,itemRef:kt,itemScope:ot,itemType:kt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ot,low:Re,manifest:null,max:null,maxLength:Re,media:null,method:null,min:null,minLength:Re,multiple:ot,muted:ot,name:null,nonce:null,noModule:ot,noValidate:ot,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ot,optimum:Re,pattern:null,ping:kt,placeholder:null,playsInline:ot,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ot,referrerPolicy:null,rel:kt,required:ot,reversed:ot,rows:Re,rowSpan:Re,sandbox:kt,scope:null,scoped:ot,seamless:ot,selected:ot,shadowRootClonable:ot,shadowRootDelegatesFocus:ot,shadowRootMode:null,shape:null,size:Re,sizes:null,slot:null,span:Re,spellCheck:en,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Re,step:null,style:null,tabIndex:Re,target:null,title:null,translate:null,type:null,typeMustMatch:ot,useMap:null,value:en,width:Re,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:kt,axis:null,background:null,bgColor:null,border:Re,borderColor:null,bottomMargin:Re,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ot,declare:ot,event:null,face:null,frame:null,frameBorder:null,hSpace:Re,leftMargin:Re,link:null,longDesc:null,lowSrc:null,marginHeight:Re,marginWidth:Re,noResize:ot,noHref:ot,noShade:ot,noWrap:ot,object:null,profile:null,prompt:null,rev:null,rightMargin:Re,rules:null,scheme:null,scrolling:en,standby:null,summary:null,text:null,topMargin:Re,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Re,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ot,disableRemotePlayback:ot,prefix:null,property:null,results:Re,security:null,unselectable:null},space:"html",transform:L0}),mN=Zl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ei,accentHeight:Re,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Re,amplitude:Re,arabicForm:null,ascent:Re,attributeName:null,attributeType:null,azimuth:Re,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Re,by:null,calcMode:null,capHeight:Re,className:kt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Re,diffuseConstant:Re,direction:null,display:null,dur:null,divisor:Re,dominantBaseline:null,download:ot,dx:null,dy:null,edgeMode:null,editable:null,elevation:Re,enableBackground:null,end:null,event:null,exponent:Re,externalResourcesRequired:null,fill:null,fillOpacity:Re,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zl,g2:zl,glyphName:zl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Re,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Re,horizOriginX:Re,horizOriginY:Re,id:null,ideographic:Re,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Re,k:Re,k1:Re,k2:Re,k3:Re,k4:Re,kernelMatrix:ei,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Re,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Re,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Re,overlineThickness:Re,paintOrder:null,panose1:null,path:null,pathLength:Re,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:kt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Re,pointsAtY:Re,pointsAtZ:Re,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ei,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ei,rev:ei,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ei,requiredFeatures:ei,requiredFonts:ei,requiredFormats:ei,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Re,specularExponent:Re,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Re,strikethroughThickness:Re,string:null,stroke:null,strokeDashArray:ei,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Re,strokeOpacity:Re,strokeWidth:null,style:null,surfaceScale:Re,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ei,tabIndex:Re,tableValues:null,target:null,targetX:Re,targetY:Re,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ei,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Re,underlineThickness:Re,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Re,values:null,vAlphabetic:Re,vMathematical:Re,vectorEffect:null,vHanging:Re,vIdeographic:Re,version:null,vertAdvY:Re,vertOriginX:Re,vertOriginY:Re,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Re,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:U0}),q0=Zl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),B0=Zl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:L0}),V0=Zl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),gN={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},yN=/[A-Z]/g,lv=/-[a-z]/g,vN=/^data[-\w.:]+$/i;function xN(t,e){const i=Zd(e);let r=e,a=Hn;if(i in t.normal)return t.property[t.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&vN.test(e)){if(e.charAt(4)==="-"){const c=e.slice(5).replace(lv,SN);r="data"+c.charAt(0).toUpperCase()+c.slice(1)}else{const c=e.slice(4);if(!lv.test(c)){let d=c.replace(yN,TN);d.charAt(0)!=="-"&&(d="-"+d),e="data"+d}}a=dp}return new a(r,e)}function TN(t){return"-"+t.toLowerCase()}function SN(t){return t.charAt(1).toUpperCase()}const CN=I0([P0,hN,q0,B0,V0],"html"),pp=I0([P0,mN,q0,B0,V0],"svg");function EN(t){return t.join(" ").trim()}var Ul={},Td,av;function bN(){if(av)return Td;av=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,i=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,c=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,d=/^[;\s]*/,p=/^\s+|\s+$/g,y=`
`,m="/",v="*",S="",E="comment",M="declaration";Td=function(B,re){if(typeof B!="string")throw new TypeError("First argument must be a string");if(!B)return[];re=re||{};var X=1,se=1;function te(Z){var pe=Z.match(e);pe&&(X+=pe.length);var Ee=Z.lastIndexOf(y);se=~Ee?Z.length-Ee:se+Z.length}function Te(){var Z={line:X,column:se};return function(pe){return pe.position=new ye(Z),ze(),pe}}function ye(Z){this.start=Z,this.end={line:X,column:se},this.source=re.source}ye.prototype.content=B;function j(Z){var pe=new Error(re.source+":"+X+":"+se+": "+Z);if(pe.reason=Z,pe.filename=re.source,pe.line=X,pe.column=se,pe.source=B,!re.silent)throw pe}function Se(Z){var pe=Z.exec(B);if(pe){var Ee=pe[0];return te(Ee),B=B.slice(Ee.length),pe}}function ze(){Se(i)}function we(Z){var pe;for(Z=Z||[];pe=ae();)pe!==!1&&Z.push(pe);return Z}function ae(){var Z=Te();if(!(m!=B.charAt(0)||v!=B.charAt(1))){for(var pe=2;S!=B.charAt(pe)&&(v!=B.charAt(pe)||m!=B.charAt(pe+1));)++pe;if(pe+=2,S===B.charAt(pe-1))return j("End of comment missing");var Ee=B.slice(2,pe-2);return se+=2,te(Ee),B=B.slice(pe),se+=2,Z({type:E,comment:Ee})}}function ce(){var Z=Te(),pe=Se(r);if(pe){if(ae(),!Se(a))return j("property missing ':'");var Ee=Se(c),ne=Z({type:M,property:U(pe[0].replace(t,S)),value:Ee?U(Ee[0].replace(t,S)):S});return Se(d),ne}}function me(){var Z=[];we(Z);for(var pe;pe=ce();)pe!==!1&&(Z.push(pe),we(Z));return Z}return ze(),me()};function U(B){return B?B.replace(p,S):S}return Td}var sv;function _N(){if(sv)return Ul;sv=1;var t=Ul&&Ul.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.default=i;var e=t(bN());function i(r,a){var c=null;if(!r||typeof r!="string")return c;var d=(0,e.default)(r),p=typeof a=="function";return d.forEach(function(y){if(y.type==="declaration"){var m=y.property,v=y.value;p?a(m,v,y):v&&(c=c||{},c[m]=v)}}),c}return Ul}var ps={},uv;function AN(){if(uv)return ps;uv=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,i=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,c=function(m){return!m||i.test(m)||t.test(m)},d=function(m,v){return v.toUpperCase()},p=function(m,v){return"".concat(v,"-")},y=function(m,v){return v===void 0&&(v={}),c(m)?m:(m=m.toLowerCase(),v.reactCompat?m=m.replace(a,p):m=m.replace(r,p),m.replace(e,d))};return ps.camelCase=y,ps}var hs,cv;function wN(){if(cv)return hs;cv=1;var t=hs&&hs.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=t(_N()),i=AN();function r(a,c){var d={};return!a||typeof a!="string"||(0,e.default)(a,function(p,y){p&&y&&(d[(0,i.camelCase)(p,c)]=y)}),d}return r.default=r,hs=r,hs}var MN=wN();const RN=Es(MN),O0=H0("end"),hp=H0("start");function H0(t){return e;function e(i){const r=i&&i.position&&i.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function NN(t){const e=hp(t),i=O0(t);if(e&&i)return{start:e,end:i}}function vs(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?fv(t.position):"start"in t||"end"in t?fv(t):"line"in t||"column"in t?ep(t):""}function ep(t){return dv(t&&t.line)+":"+dv(t&&t.column)}function fv(t){return ep(t&&t.start)+"-"+ep(t&&t.end)}function dv(t){return t&&typeof t=="number"?t:1}class bn extends Error{constructor(e,i,r){super(),typeof i=="string"&&(r=i,i=void 0);let a="",c={},d=!1;if(i&&("line"in i&&"column"in i?c={place:i}:"start"in i&&"end"in i?c={place:i}:"type"in i?c={ancestors:[i],place:i.position}:c={...i}),typeof e=="string"?a=e:!c.cause&&e&&(d=!0,a=e.message,c.cause=e),!c.ruleId&&!c.source&&typeof r=="string"){const y=r.indexOf(":");y===-1?c.ruleId=r:(c.source=r.slice(0,y),c.ruleId=r.slice(y+1))}if(!c.place&&c.ancestors&&c.ancestors){const y=c.ancestors[c.ancestors.length-1];y&&(c.place=y.position)}const p=c.place&&"start"in c.place?c.place.start:c.place;this.ancestors=c.ancestors||void 0,this.cause=c.cause||void 0,this.column=p?p.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=p?p.line:void 0,this.name=vs(c.place)||"1:1",this.place=c.place||void 0,this.reason=this.message,this.ruleId=c.ruleId||void 0,this.source=c.source||void 0,this.stack=d&&c.cause&&typeof c.cause.stack=="string"?c.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}bn.prototype.file="";bn.prototype.name="";bn.prototype.reason="";bn.prototype.message="";bn.prototype.stack="";bn.prototype.column=void 0;bn.prototype.line=void 0;bn.prototype.ancestors=void 0;bn.prototype.cause=void 0;bn.prototype.fatal=void 0;bn.prototype.place=void 0;bn.prototype.ruleId=void 0;bn.prototype.source=void 0;const mp={}.hasOwnProperty,kN=new Map,DN=/[A-Z]/g,IN=new Set(["table","tbody","thead","tfoot","tr"]),PN=new Set(["td","th"]),z0="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function UN(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const i=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=GN(i,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=zN(i,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?pp:CN,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},c=G0(a,t,void 0);return c&&typeof c!="string"?c:a.create(t,a.Fragment,{children:c||void 0},void 0)}function G0(t,e,i){if(e.type==="element")return LN(t,e,i);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return qN(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return VN(t,e,i);if(e.type==="mdxjsEsm")return BN(t,e);if(e.type==="root")return ON(t,e,i);if(e.type==="text")return HN(t,e)}function LN(t,e,i){const r=t.schema;let a=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=pp,t.schema=a),t.ancestors.push(e);const c=K0(t,e.tagName,!1),d=FN(t,e);let p=yp(t,e);return IN.has(e.tagName)&&(p=p.filter(function(y){return typeof y=="string"?!dN(y):!0})),F0(t,d,c,e),gp(d,p),t.ancestors.pop(),t.schema=r,t.create(e,c,d,i)}function qN(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Cs(t,e.position)}function BN(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Cs(t,e.position)}function VN(t,e,i){const r=t.schema;let a=r;e.name==="svg"&&r.space==="html"&&(a=pp,t.schema=a),t.ancestors.push(e);const c=e.name===null?t.Fragment:K0(t,e.name,!0),d=KN(t,e),p=yp(t,e);return F0(t,d,c,e),gp(d,p),t.ancestors.pop(),t.schema=r,t.create(e,c,d,i)}function ON(t,e,i){const r={};return gp(r,yp(t,e)),t.create(e,t.Fragment,r,i)}function HN(t,e){return e.value}function F0(t,e,i,r){typeof i!="string"&&i!==t.Fragment&&t.passNode&&(e.node=r)}function gp(t,e){if(e.length>0){const i=e.length>1?e:e[0];i&&(t.children=i)}}function zN(t,e,i){return r;function r(a,c,d,p){const m=Array.isArray(d.children)?i:e;return p?m(c,d,p):m(c,d)}}function GN(t,e){return i;function i(r,a,c,d){const p=Array.isArray(c.children),y=hp(r);return e(a,c,d,p,{columnNumber:y?y.column-1:void 0,fileName:t,lineNumber:y?y.line:void 0},void 0)}}function FN(t,e){const i={};let r,a;for(a in e.properties)if(a!=="children"&&mp.call(e.properties,a)){const c=YN(t,a,e.properties[a]);if(c){const[d,p]=c;t.tableCellAlignToStyle&&d==="align"&&typeof p=="string"&&PN.has(e.tagName)?r=p:i[d]=p}}if(r){const c=i.style||(i.style={});c[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return i}function KN(t,e){const i={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const c=r.data.estree.body[0];c.type;const d=c.expression;d.type;const p=d.properties[0];p.type,Object.assign(i,t.evaluater.evaluateExpression(p.argument))}else Cs(t,e.position);else{const a=r.name;let c;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const p=r.value.data.estree.body[0];p.type,c=t.evaluater.evaluateExpression(p.expression)}else Cs(t,e.position);else c=r.value===null?!0:r.value;i[a]=c}return i}function yp(t,e){const i=[];let r=-1;const a=t.passKeys?new Map:kN;for(;++r<e.children.length;){const c=e.children[r];let d;if(t.passKeys){const y=c.type==="element"?c.tagName:c.type==="mdxJsxFlowElement"||c.type==="mdxJsxTextElement"?c.name:void 0;if(y){const m=a.get(y)||0;d=y+"-"+m,a.set(y,m+1)}}const p=G0(t,c,d);p!==void 0&&i.push(p)}return i}function YN(t,e,i){const r=xN(t.schema,e);if(!(i==null||typeof i=="number"&&Number.isNaN(i))){if(Array.isArray(i)&&(i=r.commaSeparated?aN(i):EN(i)),r.property==="style"){let a=typeof i=="object"?i:JN(t,String(i));return t.stylePropertyNameCase==="css"&&(a=$N(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&r.space?gN[r.property]||r.property:r.attribute,i]}}function JN(t,e){try{return RN(e,{reactCompat:!0})}catch(i){if(t.ignoreInvalidStyle)return{};const r=i,a=new bn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=z0+"#cannot-parse-style-attribute",a}}function K0(t,e,i){let r;if(!i)r={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let c=-1,d;for(;++c<a.length;){const p=iv(a[c])?{type:"Identifier",name:a[c]}:{type:"Literal",value:a[c]};d=d?{type:"MemberExpression",object:d,property:p,computed:!!(c&&p.type==="Literal"),optional:!1}:p}r=d}else r=iv(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const a=r.value;return mp.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(r);Cs(t)}function Cs(t,e){const i=new bn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=z0+"#cannot-handle-mdx-estrees-without-createevaluater",i}function $N(t){const e={};let i;for(i in t)mp.call(t,i)&&(e[XN(i)]=t[i]);return e}function XN(t){let e=t.replace(DN,QN);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function QN(t){return"-"+t.toLowerCase()}const Sd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ZN={};function WN(t,e){const i=ZN,r=typeof i.includeImageAlt=="boolean"?i.includeImageAlt:!0,a=typeof i.includeHtml=="boolean"?i.includeHtml:!0;return Y0(t,r,a)}function Y0(t,e,i){if(jN(t)){if("value"in t)return t.type==="html"&&!i?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return pv(t.children,e,i)}return Array.isArray(t)?pv(t,e,i):""}function pv(t,e,i){const r=[];let a=-1;for(;++a<t.length;)r[a]=Y0(t[a],e,i);return r.join("")}function jN(t){return!!(t&&typeof t=="object")}const hv=document.createElement("i");function vp(t){const e="&"+t+";";hv.innerHTML=e;const i=hv.textContent;return i.charCodeAt(i.length-1)===59&&t!=="semi"||i===e?!1:i}function Bi(t,e,i,r){const a=t.length;let c=0,d;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,i=i>0?i:0,r.length<1e4)d=Array.from(r),d.unshift(e,i),t.splice(...d);else for(i&&t.splice(e,i);c<r.length;)d=r.slice(c,c+1e4),d.unshift(e,0),t.splice(...d),c+=1e4,e+=1e4}function pi(t,e){return t.length>0?(Bi(t,t.length,0,e),t):e}const mv={}.hasOwnProperty;function ek(t){const e={};let i=-1;for(;++i<t.length;)tk(e,t[i]);return e}function tk(t,e){let i;for(i in e){const a=(mv.call(t,i)?t[i]:void 0)||(t[i]={}),c=e[i];let d;if(c)for(d in c){mv.call(a,d)||(a[d]=[]);const p=c[d];nk(a[d],Array.isArray(p)?p:p?[p]:[])}}}function nk(t,e){let i=-1;const r=[];for(;++i<e.length;)(e[i].add==="after"?t:r).push(e[i]);Bi(t,0,0,r)}function J0(t,e){const i=Number.parseInt(t,e);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(i&65535)===65535||(i&65535)===65534||i>1114111?"":String.fromCodePoint(i)}function Gl(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const qi=no(/[A-Za-z]/),ti=no(/[\dA-Za-z]/),ik=no(/[#-'*+\--9=?A-Z^-~]/);function tp(t){return t!==null&&(t<32||t===127)}const np=no(/\d/),rk=no(/[\dA-Fa-f]/),ok=no(/[!-/:-@[-`{-~]/);function et(t){return t!==null&&t<-2}function On(t){return t!==null&&(t<0||t===32)}function xt(t){return t===-2||t===-1||t===32}const lk=no(new RegExp("\\p{P}|\\p{S}","u")),ak=no(/\s/);function no(t){return e;function e(i){return i!==null&&i>-1&&t.test(String.fromCharCode(i))}}function Wl(t){const e=[];let i=-1,r=0,a=0;for(;++i<t.length;){const c=t.charCodeAt(i);let d="";if(c===37&&ti(t.charCodeAt(i+1))&&ti(t.charCodeAt(i+2)))a=2;else if(c<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(c))||(d=String.fromCharCode(c));else if(c>55295&&c<57344){const p=t.charCodeAt(i+1);c<56320&&p>56319&&p<57344?(d=String.fromCharCode(c,p),a=1):d=""}else d=String.fromCharCode(c);d&&(e.push(t.slice(r,i),encodeURIComponent(d)),r=i+a+1,d=""),a&&(i+=a,a=0)}return e.join("")+t.slice(r)}function Dt(t,e,i,r){const a=r?r-1:Number.POSITIVE_INFINITY;let c=0;return d;function d(y){return xt(y)?(t.enter(i),p(y)):e(y)}function p(y){return xt(y)&&c++<a?(t.consume(y),p):(t.exit(i),e(y))}}const sk={tokenize:uk};function uk(t){const e=t.attempt(this.parser.constructs.contentInitial,r,a);let i;return e;function r(p){if(p===null){t.consume(p);return}return t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),Dt(t,e,"linePrefix")}function a(p){return t.enter("paragraph"),c(p)}function c(p){const y=t.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=y),i=y,d(p)}function d(p){if(p===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(p);return}return et(p)?(t.consume(p),t.exit("chunkText"),c):(t.consume(p),d)}}const ck={tokenize:fk},gv={tokenize:dk};function fk(t){const e=this,i=[];let r=0,a,c,d;return p;function p(te){if(r<i.length){const Te=i[r];return e.containerState=Te[1],t.attempt(Te[0].continuation,y,m)(te)}return m(te)}function y(te){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&se();const Te=e.events.length;let ye=Te,j;for(;ye--;)if(e.events[ye][0]==="exit"&&e.events[ye][1].type==="chunkFlow"){j=e.events[ye][1].end;break}X(r);let Se=Te;for(;Se<e.events.length;)e.events[Se][1].end={...j},Se++;return Bi(e.events,ye+1,0,e.events.slice(Te)),e.events.length=Se,m(te)}return p(te)}function m(te){if(r===i.length){if(!a)return E(te);if(a.currentConstruct&&a.currentConstruct.concrete)return U(te);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(gv,v,S)(te)}function v(te){return a&&se(),X(r),E(te)}function S(te){return e.parser.lazy[e.now().line]=r!==i.length,d=e.now().offset,U(te)}function E(te){return e.containerState={},t.attempt(gv,M,U)(te)}function M(te){return r++,i.push([e.currentConstruct,e.containerState]),E(te)}function U(te){if(te===null){a&&se(),X(0),t.consume(te);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:c}),B(te)}function B(te){if(te===null){re(t.exit("chunkFlow"),!0),X(0),t.consume(te);return}return et(te)?(t.consume(te),re(t.exit("chunkFlow")),r=0,e.interrupt=void 0,p):(t.consume(te),B)}function re(te,Te){const ye=e.sliceStream(te);if(Te&&ye.push(null),te.previous=c,c&&(c.next=te),c=te,a.defineSkip(te.start),a.write(ye),e.parser.lazy[te.start.line]){let j=a.events.length;for(;j--;)if(a.events[j][1].start.offset<d&&(!a.events[j][1].end||a.events[j][1].end.offset>d))return;const Se=e.events.length;let ze=Se,we,ae;for(;ze--;)if(e.events[ze][0]==="exit"&&e.events[ze][1].type==="chunkFlow"){if(we){ae=e.events[ze][1].end;break}we=!0}for(X(r),j=Se;j<e.events.length;)e.events[j][1].end={...ae},j++;Bi(e.events,ze+1,0,e.events.slice(Se)),e.events.length=j}}function X(te){let Te=i.length;for(;Te-- >te;){const ye=i[Te];e.containerState=ye[1],ye[0].exit.call(e,t)}i.length=te}function se(){a.write([null]),c=void 0,a=void 0,e.containerState._closeFlow=void 0}}function dk(t,e,i){return Dt(t,t.attempt(this.parser.constructs.document,e,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function yv(t){if(t===null||On(t)||ak(t))return 1;if(lk(t))return 2}function xp(t,e,i){const r=[];let a=-1;for(;++a<t.length;){const c=t[a].resolveAll;c&&!r.includes(c)&&(e=c(e,i),r.push(c))}return e}const ip={name:"attention",resolveAll:pk,tokenize:hk};function pk(t,e){let i=-1,r,a,c,d,p,y,m,v;for(;++i<t.length;)if(t[i][0]==="enter"&&t[i][1].type==="attentionSequence"&&t[i][1]._close){for(r=i;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[i][1]).charCodeAt(0)){if((t[r][1]._close||t[i][1]._open)&&(t[i][1].end.offset-t[i][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[i][1].end.offset-t[i][1].start.offset)%3))continue;y=t[r][1].end.offset-t[r][1].start.offset>1&&t[i][1].end.offset-t[i][1].start.offset>1?2:1;const S={...t[r][1].end},E={...t[i][1].start};vv(S,-y),vv(E,y),d={type:y>1?"strongSequence":"emphasisSequence",start:S,end:{...t[r][1].end}},p={type:y>1?"strongSequence":"emphasisSequence",start:{...t[i][1].start},end:E},c={type:y>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[i][1].start}},a={type:y>1?"strong":"emphasis",start:{...d.start},end:{...p.end}},t[r][1].end={...d.start},t[i][1].start={...p.end},m=[],t[r][1].end.offset-t[r][1].start.offset&&(m=pi(m,[["enter",t[r][1],e],["exit",t[r][1],e]])),m=pi(m,[["enter",a,e],["enter",d,e],["exit",d,e],["enter",c,e]]),m=pi(m,xp(e.parser.constructs.insideSpan.null,t.slice(r+1,i),e)),m=pi(m,[["exit",c,e],["enter",p,e],["exit",p,e],["exit",a,e]]),t[i][1].end.offset-t[i][1].start.offset?(v=2,m=pi(m,[["enter",t[i][1],e],["exit",t[i][1],e]])):v=0,Bi(t,r-1,i-r+3,m),i=r+m.length-v-2;break}}for(i=-1;++i<t.length;)t[i][1].type==="attentionSequence"&&(t[i][1].type="data");return t}function hk(t,e){const i=this.parser.constructs.attentionMarkers.null,r=this.previous,a=yv(r);let c;return d;function d(y){return c=y,t.enter("attentionSequence"),p(y)}function p(y){if(y===c)return t.consume(y),p;const m=t.exit("attentionSequence"),v=yv(y),S=!v||v===2&&a||i.includes(y),E=!a||a===2&&v||i.includes(r);return m._open=!!(c===42?S:S&&(a||!E)),m._close=!!(c===42?E:E&&(v||!S)),e(y)}}function vv(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const mk={name:"autolink",tokenize:gk};function gk(t,e,i){let r=0;return a;function a(M){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(M),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),c}function c(M){return qi(M)?(t.consume(M),d):M===64?i(M):m(M)}function d(M){return M===43||M===45||M===46||ti(M)?(r=1,p(M)):m(M)}function p(M){return M===58?(t.consume(M),r=0,y):(M===43||M===45||M===46||ti(M))&&r++<32?(t.consume(M),p):(r=0,m(M))}function y(M){return M===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(M),t.exit("autolinkMarker"),t.exit("autolink"),e):M===null||M===32||M===60||tp(M)?i(M):(t.consume(M),y)}function m(M){return M===64?(t.consume(M),v):ik(M)?(t.consume(M),m):i(M)}function v(M){return ti(M)?S(M):i(M)}function S(M){return M===46?(t.consume(M),r=0,v):M===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(M),t.exit("autolinkMarker"),t.exit("autolink"),e):E(M)}function E(M){if((M===45||ti(M))&&r++<63){const U=M===45?E:S;return t.consume(M),U}return i(M)}}const Tc={partial:!0,tokenize:yk};function yk(t,e,i){return r;function r(c){return xt(c)?Dt(t,a,"linePrefix")(c):a(c)}function a(c){return c===null||et(c)?e(c):i(c)}}const $0={continuation:{tokenize:xk},exit:Tk,name:"blockQuote",tokenize:vk};function vk(t,e,i){const r=this;return a;function a(d){if(d===62){const p=r.containerState;return p.open||(t.enter("blockQuote",{_container:!0}),p.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(d),t.exit("blockQuoteMarker"),c}return i(d)}function c(d){return xt(d)?(t.enter("blockQuotePrefixWhitespace"),t.consume(d),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(d))}}function xk(t,e,i){const r=this;return a;function a(d){return xt(d)?Dt(t,c,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):c(d)}function c(d){return t.attempt($0,e,i)(d)}}function Tk(t){t.exit("blockQuote")}const X0={name:"characterEscape",tokenize:Sk};function Sk(t,e,i){return r;function r(c){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(c),t.exit("escapeMarker"),a}function a(c){return ok(c)?(t.enter("characterEscapeValue"),t.consume(c),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):i(c)}}const Q0={name:"characterReference",tokenize:Ck};function Ck(t,e,i){const r=this;let a=0,c,d;return p;function p(S){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(S),t.exit("characterReferenceMarker"),y}function y(S){return S===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(S),t.exit("characterReferenceMarkerNumeric"),m):(t.enter("characterReferenceValue"),c=31,d=ti,v(S))}function m(S){return S===88||S===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(S),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),c=6,d=rk,v):(t.enter("characterReferenceValue"),c=7,d=np,v(S))}function v(S){if(S===59&&a){const E=t.exit("characterReferenceValue");return d===ti&&!vp(r.sliceSerialize(E))?i(S):(t.enter("characterReferenceMarker"),t.consume(S),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return d(S)&&a++<c?(t.consume(S),v):i(S)}}const xv={partial:!0,tokenize:bk},Tv={concrete:!0,name:"codeFenced",tokenize:Ek};function Ek(t,e,i){const r=this,a={partial:!0,tokenize:ye};let c=0,d=0,p;return y;function y(j){return m(j)}function m(j){const Se=r.events[r.events.length-1];return c=Se&&Se[1].type==="linePrefix"?Se[2].sliceSerialize(Se[1],!0).length:0,p=j,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),v(j)}function v(j){return j===p?(d++,t.consume(j),v):d<3?i(j):(t.exit("codeFencedFenceSequence"),xt(j)?Dt(t,S,"whitespace")(j):S(j))}function S(j){return j===null||et(j)?(t.exit("codeFencedFence"),r.interrupt?e(j):t.check(xv,B,Te)(j)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),E(j))}function E(j){return j===null||et(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),S(j)):xt(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Dt(t,M,"whitespace")(j)):j===96&&j===p?i(j):(t.consume(j),E)}function M(j){return j===null||et(j)?S(j):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),U(j))}function U(j){return j===null||et(j)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),S(j)):j===96&&j===p?i(j):(t.consume(j),U)}function B(j){return t.attempt(a,Te,re)(j)}function re(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),X}function X(j){return c>0&&xt(j)?Dt(t,se,"linePrefix",c+1)(j):se(j)}function se(j){return j===null||et(j)?t.check(xv,B,Te)(j):(t.enter("codeFlowValue"),te(j))}function te(j){return j===null||et(j)?(t.exit("codeFlowValue"),se(j)):(t.consume(j),te)}function Te(j){return t.exit("codeFenced"),e(j)}function ye(j,Se,ze){let we=0;return ae;function ae(Ee){return j.enter("lineEnding"),j.consume(Ee),j.exit("lineEnding"),ce}function ce(Ee){return j.enter("codeFencedFence"),xt(Ee)?Dt(j,me,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ee):me(Ee)}function me(Ee){return Ee===p?(j.enter("codeFencedFenceSequence"),Z(Ee)):ze(Ee)}function Z(Ee){return Ee===p?(we++,j.consume(Ee),Z):we>=d?(j.exit("codeFencedFenceSequence"),xt(Ee)?Dt(j,pe,"whitespace")(Ee):pe(Ee)):ze(Ee)}function pe(Ee){return Ee===null||et(Ee)?(j.exit("codeFencedFence"),Se(Ee)):ze(Ee)}}}function bk(t,e,i){const r=this;return a;function a(d){return d===null?i(d):(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),c)}function c(d){return r.parser.lazy[r.now().line]?i(d):e(d)}}const Cd={name:"codeIndented",tokenize:Ak},_k={partial:!0,tokenize:wk};function Ak(t,e,i){const r=this;return a;function a(m){return t.enter("codeIndented"),Dt(t,c,"linePrefix",5)(m)}function c(m){const v=r.events[r.events.length-1];return v&&v[1].type==="linePrefix"&&v[2].sliceSerialize(v[1],!0).length>=4?d(m):i(m)}function d(m){return m===null?y(m):et(m)?t.attempt(_k,d,y)(m):(t.enter("codeFlowValue"),p(m))}function p(m){return m===null||et(m)?(t.exit("codeFlowValue"),d(m)):(t.consume(m),p)}function y(m){return t.exit("codeIndented"),e(m)}}function wk(t,e,i){const r=this;return a;function a(d){return r.parser.lazy[r.now().line]?i(d):et(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),a):Dt(t,c,"linePrefix",5)(d)}function c(d){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?e(d):et(d)?a(d):i(d)}}const Mk={name:"codeText",previous:Nk,resolve:Rk,tokenize:kk};function Rk(t){let e=t.length-4,i=3,r,a;if((t[i][1].type==="lineEnding"||t[i][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=i;++r<e;)if(t[r][1].type==="codeTextData"){t[i][1].type="codeTextPadding",t[e][1].type="codeTextPadding",i+=2,e-=2;break}}for(r=i-1,e++;++r<=e;)a===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(a=r):(r===e||t[r][1].type==="lineEnding")&&(t[a][1].type="codeTextData",r!==a+2&&(t[a][1].end=t[r-1][1].end,t.splice(a+2,r-a-2),e-=r-a-2,r=a+2),a=void 0);return t}function Nk(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function kk(t,e,i){let r=0,a,c;return d;function d(S){return t.enter("codeText"),t.enter("codeTextSequence"),p(S)}function p(S){return S===96?(t.consume(S),r++,p):(t.exit("codeTextSequence"),y(S))}function y(S){return S===null?i(S):S===32?(t.enter("space"),t.consume(S),t.exit("space"),y):S===96?(c=t.enter("codeTextSequence"),a=0,v(S)):et(S)?(t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),y):(t.enter("codeTextData"),m(S))}function m(S){return S===null||S===32||S===96||et(S)?(t.exit("codeTextData"),y(S)):(t.consume(S),m)}function v(S){return S===96?(t.consume(S),a++,v):a===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(S)):(c.type="codeTextData",m(S))}}class Dk{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,i){const r=i??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,i,r){const a=i||0;this.setCursor(Math.trunc(e));const c=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&ms(this.left,r),c.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ms(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ms(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const i=this.left.splice(e,Number.POSITIVE_INFINITY);ms(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ms(this.left,i.reverse())}}}function ms(t,e){let i=0;if(e.length<1e4)t.push(...e);else for(;i<e.length;)t.push(...e.slice(i,i+1e4)),i+=1e4}function Z0(t){const e={};let i=-1,r,a,c,d,p,y,m;const v=new Dk(t);for(;++i<v.length;){for(;i in e;)i=e[i];if(r=v.get(i),i&&r[1].type==="chunkFlow"&&v.get(i-1)[1].type==="listItemPrefix"&&(y=r[1]._tokenizer.events,c=0,c<y.length&&y[c][1].type==="lineEndingBlank"&&(c+=2),c<y.length&&y[c][1].type==="content"))for(;++c<y.length&&y[c][1].type!=="content";)y[c][1].type==="chunkText"&&(y[c][1]._isInFirstContentOfListItem=!0,c++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Ik(v,i)),i=e[i],m=!0);else if(r[1]._container){for(c=i,a=void 0;c--;)if(d=v.get(c),d[1].type==="lineEnding"||d[1].type==="lineEndingBlank")d[0]==="enter"&&(a&&(v.get(a)[1].type="lineEndingBlank"),d[1].type="lineEnding",a=c);else if(!(d[1].type==="linePrefix"||d[1].type==="listItemIndent"))break;a&&(r[1].end={...v.get(a)[1].start},p=v.slice(a,i),p.unshift(r),v.splice(a,i-a+1,p))}}return Bi(t,0,Number.POSITIVE_INFINITY,v.slice(0)),!m}function Ik(t,e){const i=t.get(e)[1],r=t.get(e)[2];let a=e-1;const c=[];let d=i._tokenizer;d||(d=r.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(d._contentTypeTextTrailing=!0));const p=d.events,y=[],m={};let v,S,E=-1,M=i,U=0,B=0;const re=[B];for(;M;){for(;t.get(++a)[1]!==M;);c.push(a),M._tokenizer||(v=r.sliceStream(M),M.next||v.push(null),S&&d.defineSkip(M.start),M._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(v),M._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),S=M,M=M.next}for(M=i;++E<p.length;)p[E][0]==="exit"&&p[E-1][0]==="enter"&&p[E][1].type===p[E-1][1].type&&p[E][1].start.line!==p[E][1].end.line&&(B=E+1,re.push(B),M._tokenizer=void 0,M.previous=void 0,M=M.next);for(d.events=[],M?(M._tokenizer=void 0,M.previous=void 0):re.pop(),E=re.length;E--;){const X=p.slice(re[E],re[E+1]),se=c.pop();y.push([se,se+X.length-1]),t.splice(se,2,X)}for(y.reverse(),E=-1;++E<y.length;)m[U+y[E][0]]=U+y[E][1],U+=y[E][1]-y[E][0]-1;return m}const Pk={resolve:Lk,tokenize:qk},Uk={partial:!0,tokenize:Bk};function Lk(t){return Z0(t),t}function qk(t,e){let i;return r;function r(p){return t.enter("content"),i=t.enter("chunkContent",{contentType:"content"}),a(p)}function a(p){return p===null?c(p):et(p)?t.check(Uk,d,c)(p):(t.consume(p),a)}function c(p){return t.exit("chunkContent"),t.exit("content"),e(p)}function d(p){return t.consume(p),t.exit("chunkContent"),i.next=t.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,a}}function Bk(t,e,i){const r=this;return a;function a(d){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),Dt(t,c,"linePrefix")}function c(d){if(d===null||et(d))return i(d);const p=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?e(d):t.interrupt(r.parser.constructs.flow,i,e)(d)}}function W0(t,e,i,r,a,c,d,p,y){const m=y||Number.POSITIVE_INFINITY;let v=0;return S;function S(X){return X===60?(t.enter(r),t.enter(a),t.enter(c),t.consume(X),t.exit(c),E):X===null||X===32||X===41||tp(X)?i(X):(t.enter(r),t.enter(d),t.enter(p),t.enter("chunkString",{contentType:"string"}),B(X))}function E(X){return X===62?(t.enter(c),t.consume(X),t.exit(c),t.exit(a),t.exit(r),e):(t.enter(p),t.enter("chunkString",{contentType:"string"}),M(X))}function M(X){return X===62?(t.exit("chunkString"),t.exit(p),E(X)):X===null||X===60||et(X)?i(X):(t.consume(X),X===92?U:M)}function U(X){return X===60||X===62||X===92?(t.consume(X),M):M(X)}function B(X){return!v&&(X===null||X===41||On(X))?(t.exit("chunkString"),t.exit(p),t.exit(d),t.exit(r),e(X)):v<m&&X===40?(t.consume(X),v++,B):X===41?(t.consume(X),v--,B):X===null||X===32||X===40||tp(X)?i(X):(t.consume(X),X===92?re:B)}function re(X){return X===40||X===41||X===92?(t.consume(X),B):B(X)}}function j0(t,e,i,r,a,c){const d=this;let p=0,y;return m;function m(M){return t.enter(r),t.enter(a),t.consume(M),t.exit(a),t.enter(c),v}function v(M){return p>999||M===null||M===91||M===93&&!y||M===94&&!p&&"_hiddenFootnoteSupport"in d.parser.constructs?i(M):M===93?(t.exit(c),t.enter(a),t.consume(M),t.exit(a),t.exit(r),e):et(M)?(t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),v):(t.enter("chunkString",{contentType:"string"}),S(M))}function S(M){return M===null||M===91||M===93||et(M)||p++>999?(t.exit("chunkString"),v(M)):(t.consume(M),y||(y=!xt(M)),M===92?E:S)}function E(M){return M===91||M===92||M===93?(t.consume(M),p++,S):S(M)}}function ex(t,e,i,r,a,c){let d;return p;function p(E){return E===34||E===39||E===40?(t.enter(r),t.enter(a),t.consume(E),t.exit(a),d=E===40?41:E,y):i(E)}function y(E){return E===d?(t.enter(a),t.consume(E),t.exit(a),t.exit(r),e):(t.enter(c),m(E))}function m(E){return E===d?(t.exit(c),y(d)):E===null?i(E):et(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),Dt(t,m,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),v(E))}function v(E){return E===d||E===null||et(E)?(t.exit("chunkString"),m(E)):(t.consume(E),E===92?S:v)}function S(E){return E===d||E===92?(t.consume(E),v):v(E)}}function xs(t,e){let i;return r;function r(a){return et(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i=!0,r):xt(a)?Dt(t,r,i?"linePrefix":"lineSuffix")(a):e(a)}}const Vk={name:"definition",tokenize:Hk},Ok={partial:!0,tokenize:zk};function Hk(t,e,i){const r=this;let a;return c;function c(M){return t.enter("definition"),d(M)}function d(M){return j0.call(r,t,p,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(M)}function p(M){return a=Gl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),M===58?(t.enter("definitionMarker"),t.consume(M),t.exit("definitionMarker"),y):i(M)}function y(M){return On(M)?xs(t,m)(M):m(M)}function m(M){return W0(t,v,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(M)}function v(M){return t.attempt(Ok,S,S)(M)}function S(M){return xt(M)?Dt(t,E,"whitespace")(M):E(M)}function E(M){return M===null||et(M)?(t.exit("definition"),r.parser.defined.push(a),e(M)):i(M)}}function zk(t,e,i){return r;function r(p){return On(p)?xs(t,a)(p):i(p)}function a(p){return ex(t,c,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(p)}function c(p){return xt(p)?Dt(t,d,"whitespace")(p):d(p)}function d(p){return p===null||et(p)?e(p):i(p)}}const Gk={name:"hardBreakEscape",tokenize:Fk};function Fk(t,e,i){return r;function r(c){return t.enter("hardBreakEscape"),t.consume(c),a}function a(c){return et(c)?(t.exit("hardBreakEscape"),e(c)):i(c)}}const Kk={name:"headingAtx",resolve:Yk,tokenize:Jk};function Yk(t,e){let i=t.length-2,r=3,a,c;return t[r][1].type==="whitespace"&&(r+=2),i-2>r&&t[i][1].type==="whitespace"&&(i-=2),t[i][1].type==="atxHeadingSequence"&&(r===i-1||i-4>r&&t[i-2][1].type==="whitespace")&&(i-=r+1===i?2:4),i>r&&(a={type:"atxHeadingText",start:t[r][1].start,end:t[i][1].end},c={type:"chunkText",start:t[r][1].start,end:t[i][1].end,contentType:"text"},Bi(t,r,i-r+1,[["enter",a,e],["enter",c,e],["exit",c,e],["exit",a,e]])),t}function Jk(t,e,i){let r=0;return a;function a(v){return t.enter("atxHeading"),c(v)}function c(v){return t.enter("atxHeadingSequence"),d(v)}function d(v){return v===35&&r++<6?(t.consume(v),d):v===null||On(v)?(t.exit("atxHeadingSequence"),p(v)):i(v)}function p(v){return v===35?(t.enter("atxHeadingSequence"),y(v)):v===null||et(v)?(t.exit("atxHeading"),e(v)):xt(v)?Dt(t,p,"whitespace")(v):(t.enter("atxHeadingText"),m(v))}function y(v){return v===35?(t.consume(v),y):(t.exit("atxHeadingSequence"),p(v))}function m(v){return v===null||v===35||On(v)?(t.exit("atxHeadingText"),p(v)):(t.consume(v),m)}}const $k=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Sv=["pre","script","style","textarea"],Xk={concrete:!0,name:"htmlFlow",resolveTo:Wk,tokenize:jk},Qk={partial:!0,tokenize:t2},Zk={partial:!0,tokenize:e2};function Wk(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function jk(t,e,i){const r=this;let a,c,d,p,y;return m;function m(I){return v(I)}function v(I){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(I),S}function S(I){return I===33?(t.consume(I),E):I===47?(t.consume(I),c=!0,B):I===63?(t.consume(I),a=3,r.interrupt?e:R):qi(I)?(t.consume(I),d=String.fromCharCode(I),re):i(I)}function E(I){return I===45?(t.consume(I),a=2,M):I===91?(t.consume(I),a=5,p=0,U):qi(I)?(t.consume(I),a=4,r.interrupt?e:R):i(I)}function M(I){return I===45?(t.consume(I),r.interrupt?e:R):i(I)}function U(I){const He="CDATA[";return I===He.charCodeAt(p++)?(t.consume(I),p===He.length?r.interrupt?e:me:U):i(I)}function B(I){return qi(I)?(t.consume(I),d=String.fromCharCode(I),re):i(I)}function re(I){if(I===null||I===47||I===62||On(I)){const He=I===47,tt=d.toLowerCase();return!He&&!c&&Sv.includes(tt)?(a=1,r.interrupt?e(I):me(I)):$k.includes(d.toLowerCase())?(a=6,He?(t.consume(I),X):r.interrupt?e(I):me(I)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?i(I):c?se(I):te(I))}return I===45||ti(I)?(t.consume(I),d+=String.fromCharCode(I),re):i(I)}function X(I){return I===62?(t.consume(I),r.interrupt?e:me):i(I)}function se(I){return xt(I)?(t.consume(I),se):ae(I)}function te(I){return I===47?(t.consume(I),ae):I===58||I===95||qi(I)?(t.consume(I),Te):xt(I)?(t.consume(I),te):ae(I)}function Te(I){return I===45||I===46||I===58||I===95||ti(I)?(t.consume(I),Te):ye(I)}function ye(I){return I===61?(t.consume(I),j):xt(I)?(t.consume(I),ye):te(I)}function j(I){return I===null||I===60||I===61||I===62||I===96?i(I):I===34||I===39?(t.consume(I),y=I,Se):xt(I)?(t.consume(I),j):ze(I)}function Se(I){return I===y?(t.consume(I),y=null,we):I===null||et(I)?i(I):(t.consume(I),Se)}function ze(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||On(I)?ye(I):(t.consume(I),ze)}function we(I){return I===47||I===62||xt(I)?te(I):i(I)}function ae(I){return I===62?(t.consume(I),ce):i(I)}function ce(I){return I===null||et(I)?me(I):xt(I)?(t.consume(I),ce):i(I)}function me(I){return I===45&&a===2?(t.consume(I),ne):I===60&&a===1?(t.consume(I),Me):I===62&&a===4?(t.consume(I),ge):I===63&&a===3?(t.consume(I),R):I===93&&a===5?(t.consume(I),nt):et(I)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(Qk,Ue,Z)(I)):I===null||et(I)?(t.exit("htmlFlowData"),Z(I)):(t.consume(I),me)}function Z(I){return t.check(Zk,pe,Ue)(I)}function pe(I){return t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),Ee}function Ee(I){return I===null||et(I)?Z(I):(t.enter("htmlFlowData"),me(I))}function ne(I){return I===45?(t.consume(I),R):me(I)}function Me(I){return I===47?(t.consume(I),d="",Ve):me(I)}function Ve(I){if(I===62){const He=d.toLowerCase();return Sv.includes(He)?(t.consume(I),ge):me(I)}return qi(I)&&d.length<8?(t.consume(I),d+=String.fromCharCode(I),Ve):me(I)}function nt(I){return I===93?(t.consume(I),R):me(I)}function R(I){return I===62?(t.consume(I),ge):I===45&&a===2?(t.consume(I),R):me(I)}function ge(I){return I===null||et(I)?(t.exit("htmlFlowData"),Ue(I)):(t.consume(I),ge)}function Ue(I){return t.exit("htmlFlow"),e(I)}}function e2(t,e,i){const r=this;return a;function a(d){return et(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),c):i(d)}function c(d){return r.parser.lazy[r.now().line]?i(d):e(d)}}function t2(t,e,i){return r;function r(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(Tc,e,i)}}const n2={name:"htmlText",tokenize:i2};function i2(t,e,i){const r=this;let a,c,d;return p;function p(R){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(R),y}function y(R){return R===33?(t.consume(R),m):R===47?(t.consume(R),ye):R===63?(t.consume(R),te):qi(R)?(t.consume(R),ze):i(R)}function m(R){return R===45?(t.consume(R),v):R===91?(t.consume(R),c=0,U):qi(R)?(t.consume(R),se):i(R)}function v(R){return R===45?(t.consume(R),M):i(R)}function S(R){return R===null?i(R):R===45?(t.consume(R),E):et(R)?(d=S,Me(R)):(t.consume(R),S)}function E(R){return R===45?(t.consume(R),M):S(R)}function M(R){return R===62?ne(R):R===45?E(R):S(R)}function U(R){const ge="CDATA[";return R===ge.charCodeAt(c++)?(t.consume(R),c===ge.length?B:U):i(R)}function B(R){return R===null?i(R):R===93?(t.consume(R),re):et(R)?(d=B,Me(R)):(t.consume(R),B)}function re(R){return R===93?(t.consume(R),X):B(R)}function X(R){return R===62?ne(R):R===93?(t.consume(R),X):B(R)}function se(R){return R===null||R===62?ne(R):et(R)?(d=se,Me(R)):(t.consume(R),se)}function te(R){return R===null?i(R):R===63?(t.consume(R),Te):et(R)?(d=te,Me(R)):(t.consume(R),te)}function Te(R){return R===62?ne(R):te(R)}function ye(R){return qi(R)?(t.consume(R),j):i(R)}function j(R){return R===45||ti(R)?(t.consume(R),j):Se(R)}function Se(R){return et(R)?(d=Se,Me(R)):xt(R)?(t.consume(R),Se):ne(R)}function ze(R){return R===45||ti(R)?(t.consume(R),ze):R===47||R===62||On(R)?we(R):i(R)}function we(R){return R===47?(t.consume(R),ne):R===58||R===95||qi(R)?(t.consume(R),ae):et(R)?(d=we,Me(R)):xt(R)?(t.consume(R),we):ne(R)}function ae(R){return R===45||R===46||R===58||R===95||ti(R)?(t.consume(R),ae):ce(R)}function ce(R){return R===61?(t.consume(R),me):et(R)?(d=ce,Me(R)):xt(R)?(t.consume(R),ce):we(R)}function me(R){return R===null||R===60||R===61||R===62||R===96?i(R):R===34||R===39?(t.consume(R),a=R,Z):et(R)?(d=me,Me(R)):xt(R)?(t.consume(R),me):(t.consume(R),pe)}function Z(R){return R===a?(t.consume(R),a=void 0,Ee):R===null?i(R):et(R)?(d=Z,Me(R)):(t.consume(R),Z)}function pe(R){return R===null||R===34||R===39||R===60||R===61||R===96?i(R):R===47||R===62||On(R)?we(R):(t.consume(R),pe)}function Ee(R){return R===47||R===62||On(R)?we(R):i(R)}function ne(R){return R===62?(t.consume(R),t.exit("htmlTextData"),t.exit("htmlText"),e):i(R)}function Me(R){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),Ve}function Ve(R){return xt(R)?Dt(t,nt,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):nt(R)}function nt(R){return t.enter("htmlTextData"),d(R)}}const Tp={name:"labelEnd",resolveAll:a2,resolveTo:s2,tokenize:u2},r2={tokenize:c2},o2={tokenize:f2},l2={tokenize:d2};function a2(t){let e=-1;const i=[];for(;++e<t.length;){const r=t[e][1];if(i.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",e+=a}}return t.length!==i.length&&Bi(t,0,t.length,i),t}function s2(t,e){let i=t.length,r=0,a,c,d,p;for(;i--;)if(a=t[i][1],c){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[i][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(d){if(t[i][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(c=i,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(d=i);const y={type:t[c][1].type==="labelLink"?"link":"image",start:{...t[c][1].start},end:{...t[t.length-1][1].end}},m={type:"label",start:{...t[c][1].start},end:{...t[d][1].end}},v={type:"labelText",start:{...t[c+r+2][1].end},end:{...t[d-2][1].start}};return p=[["enter",y,e],["enter",m,e]],p=pi(p,t.slice(c+1,c+r+3)),p=pi(p,[["enter",v,e]]),p=pi(p,xp(e.parser.constructs.insideSpan.null,t.slice(c+r+4,d-3),e)),p=pi(p,[["exit",v,e],t[d-2],t[d-1],["exit",m,e]]),p=pi(p,t.slice(d+1)),p=pi(p,[["exit",y,e]]),Bi(t,c,t.length,p),t}function u2(t,e,i){const r=this;let a=r.events.length,c,d;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){c=r.events[a][1];break}return p;function p(E){return c?c._inactive?S(E):(d=r.parser.defined.includes(Gl(r.sliceSerialize({start:c.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(E),t.exit("labelMarker"),t.exit("labelEnd"),y):i(E)}function y(E){return E===40?t.attempt(r2,v,d?v:S)(E):E===91?t.attempt(o2,v,d?m:S)(E):d?v(E):S(E)}function m(E){return t.attempt(l2,v,S)(E)}function v(E){return e(E)}function S(E){return c._balanced=!0,i(E)}}function c2(t,e,i){return r;function r(S){return t.enter("resource"),t.enter("resourceMarker"),t.consume(S),t.exit("resourceMarker"),a}function a(S){return On(S)?xs(t,c)(S):c(S)}function c(S){return S===41?v(S):W0(t,d,p,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(S)}function d(S){return On(S)?xs(t,y)(S):v(S)}function p(S){return i(S)}function y(S){return S===34||S===39||S===40?ex(t,m,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(S):v(S)}function m(S){return On(S)?xs(t,v)(S):v(S)}function v(S){return S===41?(t.enter("resourceMarker"),t.consume(S),t.exit("resourceMarker"),t.exit("resource"),e):i(S)}}function f2(t,e,i){const r=this;return a;function a(p){return j0.call(r,t,c,d,"reference","referenceMarker","referenceString")(p)}function c(p){return r.parser.defined.includes(Gl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(p):i(p)}function d(p){return i(p)}}function d2(t,e,i){return r;function r(c){return t.enter("reference"),t.enter("referenceMarker"),t.consume(c),t.exit("referenceMarker"),a}function a(c){return c===93?(t.enter("referenceMarker"),t.consume(c),t.exit("referenceMarker"),t.exit("reference"),e):i(c)}}const p2={name:"labelStartImage",resolveAll:Tp.resolveAll,tokenize:h2};function h2(t,e,i){const r=this;return a;function a(p){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(p),t.exit("labelImageMarker"),c}function c(p){return p===91?(t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelImage"),d):i(p)}function d(p){return p===94&&"_hiddenFootnoteSupport"in r.parser.constructs?i(p):e(p)}}const m2={name:"labelStartLink",resolveAll:Tp.resolveAll,tokenize:g2};function g2(t,e,i){const r=this;return a;function a(d){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelLink"),c}function c(d){return d===94&&"_hiddenFootnoteSupport"in r.parser.constructs?i(d):e(d)}}const Ed={name:"lineEnding",tokenize:y2};function y2(t,e){return i;function i(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Dt(t,e,"linePrefix")}}const ec={name:"thematicBreak",tokenize:v2};function v2(t,e,i){let r=0,a;return c;function c(m){return t.enter("thematicBreak"),d(m)}function d(m){return a=m,p(m)}function p(m){return m===a?(t.enter("thematicBreakSequence"),y(m)):r>=3&&(m===null||et(m))?(t.exit("thematicBreak"),e(m)):i(m)}function y(m){return m===a?(t.consume(m),r++,y):(t.exit("thematicBreakSequence"),xt(m)?Dt(t,p,"whitespace")(m):p(m))}}const Vn={continuation:{tokenize:C2},exit:b2,name:"list",tokenize:S2},x2={partial:!0,tokenize:_2},T2={partial:!0,tokenize:E2};function S2(t,e,i){const r=this,a=r.events[r.events.length-1];let c=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,d=0;return p;function p(M){const U=r.containerState.type||(M===42||M===43||M===45?"listUnordered":"listOrdered");if(U==="listUnordered"?!r.containerState.marker||M===r.containerState.marker:np(M)){if(r.containerState.type||(r.containerState.type=U,t.enter(U,{_container:!0})),U==="listUnordered")return t.enter("listItemPrefix"),M===42||M===45?t.check(ec,i,m)(M):m(M);if(!r.interrupt||M===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),y(M)}return i(M)}function y(M){return np(M)&&++d<10?(t.consume(M),y):(!r.interrupt||d<2)&&(r.containerState.marker?M===r.containerState.marker:M===41||M===46)?(t.exit("listItemValue"),m(M)):i(M)}function m(M){return t.enter("listItemMarker"),t.consume(M),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||M,t.check(Tc,r.interrupt?i:v,t.attempt(x2,E,S))}function v(M){return r.containerState.initialBlankLine=!0,c++,E(M)}function S(M){return xt(M)?(t.enter("listItemPrefixWhitespace"),t.consume(M),t.exit("listItemPrefixWhitespace"),E):i(M)}function E(M){return r.containerState.size=c+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(M)}}function C2(t,e,i){const r=this;return r.containerState._closeFlow=void 0,t.check(Tc,a,c);function a(p){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Dt(t,e,"listItemIndent",r.containerState.size+1)(p)}function c(p){return r.containerState.furtherBlankLines||!xt(p)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,d(p)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(T2,e,d)(p))}function d(p){return r.containerState._closeFlow=!0,r.interrupt=void 0,Dt(t,t.attempt(Vn,e,i),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(p)}}function E2(t,e,i){const r=this;return Dt(t,a,"listItemIndent",r.containerState.size+1);function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===r.containerState.size?e(c):i(c)}}function b2(t){t.exit(this.containerState.type)}function _2(t,e,i){const r=this;return Dt(t,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(c){const d=r.events[r.events.length-1];return!xt(c)&&d&&d[1].type==="listItemPrefixWhitespace"?e(c):i(c)}}const Cv={name:"setextUnderline",resolveTo:A2,tokenize:w2};function A2(t,e){let i=t.length,r,a,c;for(;i--;)if(t[i][0]==="enter"){if(t[i][1].type==="content"){r=i;break}t[i][1].type==="paragraph"&&(a=i)}else t[i][1].type==="content"&&t.splice(i,1),!c&&t[i][1].type==="definition"&&(c=i);const d={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",c?(t.splice(a,0,["enter",d,e]),t.splice(c+1,0,["exit",t[r][1],e]),t[r][1].end={...t[c][1].end}):t[r][1]=d,t.push(["exit",d,e]),t}function w2(t,e,i){const r=this;let a;return c;function c(m){let v=r.events.length,S;for(;v--;)if(r.events[v][1].type!=="lineEnding"&&r.events[v][1].type!=="linePrefix"&&r.events[v][1].type!=="content"){S=r.events[v][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||S)?(t.enter("setextHeadingLine"),a=m,d(m)):i(m)}function d(m){return t.enter("setextHeadingLineSequence"),p(m)}function p(m){return m===a?(t.consume(m),p):(t.exit("setextHeadingLineSequence"),xt(m)?Dt(t,y,"lineSuffix")(m):y(m))}function y(m){return m===null||et(m)?(t.exit("setextHeadingLine"),e(m)):i(m)}}const M2={tokenize:R2};function R2(t){const e=this,i=t.attempt(Tc,r,t.attempt(this.parser.constructs.flowInitial,a,Dt(t,t.attempt(this.parser.constructs.flow,a,t.attempt(Pk,a)),"linePrefix")));return i;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEndingBlank"),t.consume(c),t.exit("lineEndingBlank"),e.currentConstruct=void 0,i}function a(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),e.currentConstruct=void 0,i}}const N2={resolveAll:nx()},k2=tx("string"),D2=tx("text");function tx(t){return{resolveAll:nx(t==="text"?I2:void 0),tokenize:e};function e(i){const r=this,a=this.parser.constructs[t],c=i.attempt(a,d,p);return d;function d(v){return m(v)?c(v):p(v)}function p(v){if(v===null){i.consume(v);return}return i.enter("data"),i.consume(v),y}function y(v){return m(v)?(i.exit("data"),c(v)):(i.consume(v),y)}function m(v){if(v===null)return!0;const S=a[v];let E=-1;if(S)for(;++E<S.length;){const M=S[E];if(!M.previous||M.previous.call(r,r.previous))return!0}return!1}}}function nx(t){return e;function e(i,r){let a=-1,c;for(;++a<=i.length;)c===void 0?i[a]&&i[a][1].type==="data"&&(c=a,a++):(!i[a]||i[a][1].type!=="data")&&(a!==c+2&&(i[c][1].end=i[a-1][1].end,i.splice(c+2,a-c-2),a=c+2),c=void 0);return t?t(i,r):i}}function I2(t,e){let i=0;for(;++i<=t.length;)if((i===t.length||t[i][1].type==="lineEnding")&&t[i-1][1].type==="data"){const r=t[i-1][1],a=e.sliceStream(r);let c=a.length,d=-1,p=0,y;for(;c--;){const m=a[c];if(typeof m=="string"){for(d=m.length;m.charCodeAt(d-1)===32;)p++,d--;if(d)break;d=-1}else if(m===-2)y=!0,p++;else if(m!==-1){c++;break}}if(e._contentTypeTextTrailing&&i===t.length&&(p=0),p){const m={type:i===t.length||y||p<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:c?d:r.start._bufferIndex+d,_index:r.start._index+c,line:r.end.line,column:r.end.column-p,offset:r.end.offset-p},end:{...r.end}};r.end={...m.start},r.start.offset===r.end.offset?Object.assign(r,m):(t.splice(i,0,["enter",m,e],["exit",m,e]),i+=2)}i++}return t}const P2={42:Vn,43:Vn,45:Vn,48:Vn,49:Vn,50:Vn,51:Vn,52:Vn,53:Vn,54:Vn,55:Vn,56:Vn,57:Vn,62:$0},U2={91:Vk},L2={[-2]:Cd,[-1]:Cd,32:Cd},q2={35:Kk,42:ec,45:[Cv,ec],60:Xk,61:Cv,95:ec,96:Tv,126:Tv},B2={38:Q0,92:X0},V2={[-5]:Ed,[-4]:Ed,[-3]:Ed,33:p2,38:Q0,42:ip,60:[mk,n2],91:m2,92:[Gk,X0],93:Tp,95:ip,96:Mk},O2={null:[ip,N2]},H2={null:[42,95]},z2={null:[]},G2=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:H2,contentInitial:U2,disable:z2,document:P2,flow:q2,flowInitial:L2,insideSpan:O2,string:B2,text:V2},Symbol.toStringTag,{value:"Module"}));function F2(t,e,i){let r={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0};const a={},c=[];let d=[],p=[];const y={attempt:Se(ye),check:Se(j),consume:se,enter:te,exit:Te,interrupt:Se(j,{interrupt:!0})},m={code:null,containerState:{},defineSkip:B,events:[],now:U,parser:t,previous:null,sliceSerialize:E,sliceStream:M,write:S};let v=e.tokenize.call(m,y);return e.resolveAll&&c.push(e),m;function S(ce){return d=pi(d,ce),re(),d[d.length-1]!==null?[]:(ze(e,0),m.events=xp(c,m.events,m),m.events)}function E(ce,me){return Y2(M(ce),me)}function M(ce){return K2(d,ce)}function U(){const{_bufferIndex:ce,_index:me,line:Z,column:pe,offset:Ee}=r;return{_bufferIndex:ce,_index:me,line:Z,column:pe,offset:Ee}}function B(ce){a[ce.line]=ce.column,ae()}function re(){let ce;for(;r._index<d.length;){const me=d[r._index];if(typeof me=="string")for(ce=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ce&&r._bufferIndex<me.length;)X(me.charCodeAt(r._bufferIndex));else X(me)}}function X(ce){v=v(ce)}function se(ce){et(ce)?(r.line++,r.column=1,r.offset+=ce===-3?2:1,ae()):ce!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===d[r._index].length&&(r._bufferIndex=-1,r._index++)),m.previous=ce}function te(ce,me){const Z=me||{};return Z.type=ce,Z.start=U(),m.events.push(["enter",Z,m]),p.push(Z),Z}function Te(ce){const me=p.pop();return me.end=U(),m.events.push(["exit",me,m]),me}function ye(ce,me){ze(ce,me.from)}function j(ce,me){me.restore()}function Se(ce,me){return Z;function Z(pe,Ee,ne){let Me,Ve,nt,R;return Array.isArray(pe)?Ue(pe):"tokenize"in pe?Ue([pe]):ge(pe);function ge(Oe){return qt;function qt(dt){const Be=dt!==null&&Oe[dt],zn=dt!==null&&Oe.null,Dn=[...Array.isArray(Be)?Be:Be?[Be]:[],...Array.isArray(zn)?zn:zn?[zn]:[]];return Ue(Dn)(dt)}}function Ue(Oe){return Me=Oe,Ve=0,Oe.length===0?ne:I(Oe[Ve])}function I(Oe){return qt;function qt(dt){return R=we(),nt=Oe,Oe.partial||(m.currentConstruct=Oe),Oe.name&&m.parser.constructs.disable.null.includes(Oe.name)?tt():Oe.tokenize.call(me?Object.assign(Object.create(m),me):m,y,He,tt)(dt)}}function He(Oe){return ce(nt,R),Ee}function tt(Oe){return R.restore(),++Ve<Me.length?I(Me[Ve]):ne}}}function ze(ce,me){ce.resolveAll&&!c.includes(ce)&&c.push(ce),ce.resolve&&Bi(m.events,me,m.events.length-me,ce.resolve(m.events.slice(me),m)),ce.resolveTo&&(m.events=ce.resolveTo(m.events,m))}function we(){const ce=U(),me=m.previous,Z=m.currentConstruct,pe=m.events.length,Ee=Array.from(p);return{from:pe,restore:ne};function ne(){r=ce,m.previous=me,m.currentConstruct=Z,m.events.length=pe,p=Ee,ae()}}function ae(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function K2(t,e){const i=e.start._index,r=e.start._bufferIndex,a=e.end._index,c=e.end._bufferIndex;let d;if(i===a)d=[t[i].slice(r,c)];else{if(d=t.slice(i,a),r>-1){const p=d[0];typeof p=="string"?d[0]=p.slice(r):d.shift()}c>0&&d.push(t[a].slice(0,c))}return d}function Y2(t,e){let i=-1;const r=[];let a;for(;++i<t.length;){const c=t[i];let d;if(typeof c=="string")d=c;else switch(c){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=e?" ":"	";break}case-1:{if(!e&&a)continue;d=" ";break}default:d=String.fromCharCode(c)}a=c===-2,r.push(d)}return r.join("")}function J2(t){const r={constructs:ek([G2,...(t||{}).extensions||[]]),content:a(sk),defined:[],document:a(ck),flow:a(M2),lazy:{},string:a(k2),text:a(D2)};return r;function a(c){return d;function d(p){return F2(r,c,p)}}}function $2(t){for(;!Z0(t););return t}const Ev=/[\0\t\n\r]/g;function X2(){let t=1,e="",i=!0,r;return a;function a(c,d,p){const y=[];let m,v,S,E,M;for(c=e+(typeof c=="string"?c.toString():new TextDecoder(d||void 0).decode(c)),S=0,e="",i&&(c.charCodeAt(0)===65279&&S++,i=void 0);S<c.length;){if(Ev.lastIndex=S,m=Ev.exec(c),E=m&&m.index!==void 0?m.index:c.length,M=c.charCodeAt(E),!m){e=c.slice(S);break}if(M===10&&S===E&&r)y.push(-3),r=void 0;else switch(r&&(y.push(-5),r=void 0),S<E&&(y.push(c.slice(S,E)),t+=E-S),M){case 0:{y.push(65533),t++;break}case 9:{for(v=Math.ceil(t/4)*4,y.push(-2);t++<v;)y.push(-1);break}case 10:{y.push(-4),t=1;break}default:r=!0,t=1}S=E+1}return p&&(r&&y.push(-5),e&&y.push(e),y.push(null)),y}}const Q2=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Z2(t){return t.replace(Q2,W2)}function W2(t,e,i){if(e)return e;if(i.charCodeAt(0)===35){const a=i.charCodeAt(1),c=a===120||a===88;return J0(i.slice(c?2:1),c?16:10)}return vp(i)||t}const ix={}.hasOwnProperty;function j2(t,e,i){return typeof e!="string"&&(i=e,e=void 0),eD(i)($2(J2(i).document().write(X2()(t,e,!0))))}function eD(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:c(ro),autolinkProtocol:we,autolinkEmail:we,atxHeading:c(ni),blockQuote:c(zn),characterEscape:we,characterReference:we,codeFenced:c(Dn),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:c(Dn,d),codeText:c(ht,d),codeTextData:we,data:we,codeFlowValue:we,definition:c(mi),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:c(io),hardBreakEscape:c(Go),hardBreakTrailing:c(Go),htmlFlow:c(_n,d),htmlFlowData:we,htmlText:c(_n,d),htmlTextData:we,image:c(jl),label:d,link:c(ro),listItem:c(pn),listItemValue:E,listOrdered:c(Oi,S),listUnordered:c(Oi),paragraph:c(Fo),reference:I,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:c(ni),strong:c(Ci),thematicBreak:c(Hi)},exit:{atxHeading:y(),atxHeadingSequence:ye,autolink:y(),autolinkEmail:Be,autolinkProtocol:dt,blockQuote:y(),characterEscapeValue:ae,characterReferenceMarkerHexadecimal:tt,characterReferenceMarkerNumeric:tt,characterReferenceValue:Oe,characterReference:qt,codeFenced:y(re),codeFencedFence:B,codeFencedFenceInfo:M,codeFencedFenceMeta:U,codeFlowValue:ae,codeIndented:y(X),codeText:y(Ee),codeTextData:ae,data:ae,definition:y(),definitionDestinationString:Te,definitionLabelString:se,definitionTitleString:te,emphasis:y(),hardBreakEscape:y(me),hardBreakTrailing:y(me),htmlFlow:y(Z),htmlFlowData:ae,htmlText:y(pe),htmlTextData:ae,image:y(Me),label:nt,labelText:Ve,lineEnding:ce,link:y(ne),listItem:y(),listOrdered:y(),listUnordered:y(),paragraph:y(),referenceString:He,resourceDestinationString:R,resourceTitleString:ge,resource:Ue,setextHeading:y(ze),setextHeadingLineSequence:Se,setextHeadingText:j,strong:y(),thematicBreak:y()}};rx(e,(t||{}).mdastExtensions||[]);const i={};return r;function r(fe){let Ce={type:"root",children:[]};const Ye={stack:[Ce],tokenStack:[],config:e,enter:p,exit:m,buffer:d,resume:v,data:i},Je=[];let gt=-1;for(;++gt<fe.length;)if(fe[gt][1].type==="listOrdered"||fe[gt][1].type==="listUnordered")if(fe[gt][0]==="enter")Je.push(gt);else{const an=Je.pop();gt=a(fe,an,gt)}for(gt=-1;++gt<fe.length;){const an=e[fe[gt][0]];ix.call(an,fe[gt][1].type)&&an[fe[gt][1].type].call(Object.assign({sliceSerialize:fe[gt][2].sliceSerialize},Ye),fe[gt][1])}if(Ye.tokenStack.length>0){const an=Ye.tokenStack[Ye.tokenStack.length-1];(an[1]||bv).call(Ye,void 0,an[0])}for(Ce.position={start:Wr(fe.length>0?fe[0][1].start:{line:1,column:1,offset:0}),end:Wr(fe.length>0?fe[fe.length-2][1].end:{line:1,column:1,offset:0})},gt=-1;++gt<e.transforms.length;)Ce=e.transforms[gt](Ce)||Ce;return Ce}function a(fe,Ce,Ye){let Je=Ce-1,gt=-1,an=!1,hn,tn,In,Ht;for(;++Je<=Ye;){const Le=fe[Je];switch(Le[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Le[0]==="enter"?gt++:gt--,Ht=void 0;break}case"lineEndingBlank":{Le[0]==="enter"&&(hn&&!Ht&&!gt&&!In&&(In=Je),Ht=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ht=void 0}if(!gt&&Le[0]==="enter"&&Le[1].type==="listItemPrefix"||gt===-1&&Le[0]==="exit"&&(Le[1].type==="listUnordered"||Le[1].type==="listOrdered")){if(hn){let sn=Je;for(tn=void 0;sn--;){const nn=fe[sn];if(nn[1].type==="lineEnding"||nn[1].type==="lineEndingBlank"){if(nn[0]==="exit")continue;tn&&(fe[tn][1].type="lineEndingBlank",an=!0),nn[1].type="lineEnding",tn=sn}else if(!(nn[1].type==="linePrefix"||nn[1].type==="blockQuotePrefix"||nn[1].type==="blockQuotePrefixWhitespace"||nn[1].type==="blockQuoteMarker"||nn[1].type==="listItemIndent"))break}In&&(!tn||In<tn)&&(hn._spread=!0),hn.end=Object.assign({},tn?fe[tn][1].start:Le[1].end),fe.splice(tn||Je,0,["exit",hn,Le[2]]),Je++,Ye++}if(Le[1].type==="listItemPrefix"){const sn={type:"listItem",_spread:!1,start:Object.assign({},Le[1].start),end:void 0};hn=sn,fe.splice(Je,0,["enter",sn,Le[2]]),Je++,Ye++,In=void 0,Ht=!0}}}return fe[Ce][1]._spread=an,Ye}function c(fe,Ce){return Ye;function Ye(Je){p.call(this,fe(Je),Je),Ce&&Ce.call(this,Je)}}function d(){this.stack.push({type:"fragment",children:[]})}function p(fe,Ce,Ye){this.stack[this.stack.length-1].children.push(fe),this.stack.push(fe),this.tokenStack.push([Ce,Ye||void 0]),fe.position={start:Wr(Ce.start),end:void 0}}function y(fe){return Ce;function Ce(Ye){fe&&fe.call(this,Ye),m.call(this,Ye)}}function m(fe,Ce){const Ye=this.stack.pop(),Je=this.tokenStack.pop();if(Je)Je[0].type!==fe.type&&(Ce?Ce.call(this,fe,Je[0]):(Je[1]||bv).call(this,fe,Je[0]));else throw new Error("Cannot close `"+fe.type+"` ("+vs({start:fe.start,end:fe.end})+"): its not open");Ye.position.end=Wr(fe.end)}function v(){return WN(this.stack.pop())}function S(){this.data.expectingFirstListItemValue=!0}function E(fe){if(this.data.expectingFirstListItemValue){const Ce=this.stack[this.stack.length-2];Ce.start=Number.parseInt(this.sliceSerialize(fe),10),this.data.expectingFirstListItemValue=void 0}}function M(){const fe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.lang=fe}function U(){const fe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.meta=fe}function B(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function re(){const fe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=fe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function X(){const fe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=fe.replace(/(\r?\n|\r)$/g,"")}function se(fe){const Ce=this.resume(),Ye=this.stack[this.stack.length-1];Ye.label=Ce,Ye.identifier=Gl(this.sliceSerialize(fe)).toLowerCase()}function te(){const fe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=fe}function Te(){const fe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=fe}function ye(fe){const Ce=this.stack[this.stack.length-1];if(!Ce.depth){const Ye=this.sliceSerialize(fe).length;Ce.depth=Ye}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function Se(fe){const Ce=this.stack[this.stack.length-1];Ce.depth=this.sliceSerialize(fe).codePointAt(0)===61?1:2}function ze(){this.data.setextHeadingSlurpLineEnding=void 0}function we(fe){const Ye=this.stack[this.stack.length-1].children;let Je=Ye[Ye.length-1];(!Je||Je.type!=="text")&&(Je=Ko(),Je.position={start:Wr(fe.start),end:void 0},Ye.push(Je)),this.stack.push(Je)}function ae(fe){const Ce=this.stack.pop();Ce.value+=this.sliceSerialize(fe),Ce.position.end=Wr(fe.end)}function ce(fe){const Ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ye=Ce.children[Ce.children.length-1];Ye.position.end=Wr(fe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ce.type)&&(we.call(this,fe),ae.call(this,fe))}function me(){this.data.atHardBreak=!0}function Z(){const fe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=fe}function pe(){const fe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=fe}function Ee(){const fe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=fe}function ne(){const fe=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";fe.type+="Reference",fe.referenceType=Ce,delete fe.url,delete fe.title}else delete fe.identifier,delete fe.label;this.data.referenceType=void 0}function Me(){const fe=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";fe.type+="Reference",fe.referenceType=Ce,delete fe.url,delete fe.title}else delete fe.identifier,delete fe.label;this.data.referenceType=void 0}function Ve(fe){const Ce=this.sliceSerialize(fe),Ye=this.stack[this.stack.length-2];Ye.label=Z2(Ce),Ye.identifier=Gl(Ce).toLowerCase()}function nt(){const fe=this.stack[this.stack.length-1],Ce=this.resume(),Ye=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ye.type==="link"){const Je=fe.children;Ye.children=Je}else Ye.alt=Ce}function R(){const fe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=fe}function ge(){const fe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=fe}function Ue(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function He(fe){const Ce=this.resume(),Ye=this.stack[this.stack.length-1];Ye.label=Ce,Ye.identifier=Gl(this.sliceSerialize(fe)).toLowerCase(),this.data.referenceType="full"}function tt(fe){this.data.characterReferenceType=fe.type}function Oe(fe){const Ce=this.sliceSerialize(fe),Ye=this.data.characterReferenceType;let Je;Ye?(Je=J0(Ce,Ye==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Je=vp(Ce);const gt=this.stack[this.stack.length-1];gt.value+=Je}function qt(fe){const Ce=this.stack.pop();Ce.position.end=Wr(fe.end)}function dt(fe){ae.call(this,fe);const Ce=this.stack[this.stack.length-1];Ce.url=this.sliceSerialize(fe)}function Be(fe){ae.call(this,fe);const Ce=this.stack[this.stack.length-1];Ce.url="mailto:"+this.sliceSerialize(fe)}function zn(){return{type:"blockquote",children:[]}}function Dn(){return{type:"code",lang:null,meta:null,value:""}}function ht(){return{type:"inlineCode",value:""}}function mi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function io(){return{type:"emphasis",children:[]}}function ni(){return{type:"heading",depth:0,children:[]}}function Go(){return{type:"break"}}function _n(){return{type:"html",value:""}}function jl(){return{type:"image",title:null,url:"",alt:null}}function ro(){return{type:"link",title:null,url:"",children:[]}}function Oi(fe){return{type:"list",ordered:fe.type==="listOrdered",start:null,spread:fe._spread,children:[]}}function pn(fe){return{type:"listItem",spread:fe._spread,checked:null,children:[]}}function Fo(){return{type:"paragraph",children:[]}}function Ci(){return{type:"strong",children:[]}}function Ko(){return{type:"text",value:""}}function Hi(){return{type:"thematicBreak"}}}function Wr(t){return{line:t.line,column:t.column,offset:t.offset}}function rx(t,e){let i=-1;for(;++i<e.length;){const r=e[i];Array.isArray(r)?rx(t,r):tD(t,r)}}function tD(t,e){let i;for(i in e)if(ix.call(e,i))switch(i){case"canContainEols":{const r=e[i];r&&t[i].push(...r);break}case"transforms":{const r=e[i];r&&t[i].push(...r);break}case"enter":case"exit":{const r=e[i];r&&Object.assign(t[i],r);break}}}function bv(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+vs({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+vs({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+vs({start:e.start,end:e.end})+") is still open")}function nD(t){const e=this;e.parser=i;function i(r){return j2(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function iD(t,e){const i={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,i),t.applyData(e,i)}function rD(t,e){const i={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,i),[t.applyData(e,i),{type:"text",value:`
`}]}function oD(t,e){const i=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:i}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function lD(t,e){const i={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function aD(t,e){const i={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function sD(t,e){const i=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),a=Wl(r.toLowerCase()),c=t.footnoteOrder.indexOf(r);let d,p=t.footnoteCounts.get(r);p===void 0?(p=0,t.footnoteOrder.push(r),d=t.footnoteOrder.length):d=c+1,p+=1,t.footnoteCounts.set(r,p);const y={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+a,id:i+"fnref-"+a+(p>1?"-"+p:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(d)}]};t.patch(e,y);const m={type:"element",tagName:"sup",properties:{},children:[y]};return t.patch(e,m),t.applyData(e,m)}function uD(t,e){const i={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function cD(t,e){if(t.options.allowDangerousHtml){const i={type:"raw",value:e.value};return t.patch(e,i),t.applyData(e,i)}}function ox(t,e){const i=e.referenceType;let r="]";if(i==="collapsed"?r+="[]":i==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const a=t.all(e),c=a[0];c&&c.type==="text"?c.value="["+c.value:a.unshift({type:"text",value:"["});const d=a[a.length-1];return d&&d.type==="text"?d.value+=r:a.push({type:"text",value:r}),a}function fD(t,e){const i=String(e.identifier).toUpperCase(),r=t.definitionById.get(i);if(!r)return ox(t,e);const a={src:Wl(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const c={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,c),t.applyData(e,c)}function dD(t,e){const i={src:Wl(e.url)};e.alt!==null&&e.alt!==void 0&&(i.alt=e.alt),e.title!==null&&e.title!==void 0&&(i.title=e.title);const r={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,r),t.applyData(e,r)}function pD(t,e){const i={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,i);const r={type:"element",tagName:"code",properties:{},children:[i]};return t.patch(e,r),t.applyData(e,r)}function hD(t,e){const i=String(e.identifier).toUpperCase(),r=t.definitionById.get(i);if(!r)return ox(t,e);const a={href:Wl(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const c={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,c),t.applyData(e,c)}function mD(t,e){const i={href:Wl(e.url)};e.title!==null&&e.title!==void 0&&(i.title=e.title);const r={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function gD(t,e,i){const r=t.all(e),a=i?yD(i):lx(e),c={},d=[];if(typeof e.checked=="boolean"){const v=r[0];let S;v&&v.type==="element"&&v.tagName==="p"?S=v:(S={type:"element",tagName:"p",properties:{},children:[]},r.unshift(S)),S.children.length>0&&S.children.unshift({type:"text",value:" "}),S.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),c.className=["task-list-item"]}let p=-1;for(;++p<r.length;){const v=r[p];(a||p!==0||v.type!=="element"||v.tagName!=="p")&&d.push({type:"text",value:`
`}),v.type==="element"&&v.tagName==="p"&&!a?d.push(...v.children):d.push(v)}const y=r[r.length-1];y&&(a||y.type!=="element"||y.tagName!=="p")&&d.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:c,children:d};return t.patch(e,m),t.applyData(e,m)}function yD(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const i=t.children;let r=-1;for(;!e&&++r<i.length;)e=lx(i[r])}return e}function lx(t){const e=t.spread;return e??t.children.length>1}function vD(t,e){const i={},r=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(i.start=e.start);++a<r.length;){const d=r[a];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const c={type:"element",tagName:e.ordered?"ol":"ul",properties:i,children:t.wrap(r,!0)};return t.patch(e,c),t.applyData(e,c)}function xD(t,e){const i={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function TD(t,e){const i={type:"root",children:t.wrap(t.all(e))};return t.patch(e,i),t.applyData(e,i)}function SD(t,e){const i={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function CD(t,e){const i=t.all(e),r=i.shift(),a=[];if(r){const d={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],d),a.push(d)}if(i.length>0){const d={type:"element",tagName:"tbody",properties:{},children:t.wrap(i,!0)},p=hp(e.children[1]),y=O0(e.children[e.children.length-1]);p&&y&&(d.position={start:p,end:y}),a.push(d)}const c={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,c),t.applyData(e,c)}function ED(t,e,i){const r=i?i.children:void 0,c=(r?r.indexOf(e):1)===0?"th":"td",d=i&&i.type==="table"?i.align:void 0,p=d?d.length:e.children.length;let y=-1;const m=[];for(;++y<p;){const S=e.children[y],E={},M=d?d[y]:void 0;M&&(E.align=M);let U={type:"element",tagName:c,properties:E,children:[]};S&&(U.children=t.all(S),t.patch(S,U),U=t.applyData(S,U)),m.push(U)}const v={type:"element",tagName:"tr",properties:{},children:t.wrap(m,!0)};return t.patch(e,v),t.applyData(e,v)}function bD(t,e){const i={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}const _v=9,Av=32;function _D(t){const e=String(t),i=/\r?\n|\r/g;let r=i.exec(e),a=0;const c=[];for(;r;)c.push(wv(e.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=i.exec(e);return c.push(wv(e.slice(a),a>0,!1)),c.join("")}function wv(t,e,i){let r=0,a=t.length;if(e){let c=t.codePointAt(r);for(;c===_v||c===Av;)r++,c=t.codePointAt(r)}if(i){let c=t.codePointAt(a-1);for(;c===_v||c===Av;)a--,c=t.codePointAt(a-1)}return a>r?t.slice(r,a):""}function AD(t,e){const i={type:"text",value:_D(String(e.value))};return t.patch(e,i),t.applyData(e,i)}function wD(t,e){const i={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,i),t.applyData(e,i)}const MD={blockquote:iD,break:rD,code:oD,delete:lD,emphasis:aD,footnoteReference:sD,heading:uD,html:cD,imageReference:fD,image:dD,inlineCode:pD,linkReference:hD,link:mD,listItem:gD,list:vD,paragraph:xD,root:TD,strong:SD,table:CD,tableCell:bD,tableRow:ED,text:AD,thematicBreak:wD,toml:Yu,yaml:Yu,definition:Yu,footnoteDefinition:Yu};function Yu(){}const ax=-1,Sc=0,Ts=1,ac=2,Sp=3,Cp=4,Ep=5,bp=6,sx=7,ux=8,Mv=typeof self=="object"?self:globalThis,RD=(t,e)=>{const i=(a,c)=>(t.set(c,a),a),r=a=>{if(t.has(a))return t.get(a);const[c,d]=e[a];switch(c){case Sc:case ax:return i(d,a);case Ts:{const p=i([],a);for(const y of d)p.push(r(y));return p}case ac:{const p=i({},a);for(const[y,m]of d)p[r(y)]=r(m);return p}case Sp:return i(new Date(d),a);case Cp:{const{source:p,flags:y}=d;return i(new RegExp(p,y),a)}case Ep:{const p=i(new Map,a);for(const[y,m]of d)p.set(r(y),r(m));return p}case bp:{const p=i(new Set,a);for(const y of d)p.add(r(y));return p}case sx:{const{name:p,message:y}=d;return i(new Mv[p](y),a)}case ux:return i(BigInt(d),a);case"BigInt":return i(Object(BigInt(d)),a);case"ArrayBuffer":return i(new Uint8Array(d).buffer,d);case"DataView":{const{buffer:p}=new Uint8Array(d);return i(new DataView(p),d)}}return i(new Mv[c](d),a)};return r},Rv=t=>RD(new Map,t)(0),Ll="",{toString:ND}={},{keys:kD}=Object,gs=t=>{const e=typeof t;if(e!=="object"||!t)return[Sc,e];const i=ND.call(t).slice(8,-1);switch(i){case"Array":return[Ts,Ll];case"Object":return[ac,Ll];case"Date":return[Sp,Ll];case"RegExp":return[Cp,Ll];case"Map":return[Ep,Ll];case"Set":return[bp,Ll];case"DataView":return[Ts,i]}return i.includes("Array")?[Ts,i]:i.includes("Error")?[sx,i]:[ac,i]},Ju=([t,e])=>t===Sc&&(e==="function"||e==="symbol"),DD=(t,e,i,r)=>{const a=(d,p)=>{const y=r.push(d)-1;return i.set(p,y),y},c=d=>{if(i.has(d))return i.get(d);let[p,y]=gs(d);switch(p){case Sc:{let v=d;switch(y){case"bigint":p=ux,v=d.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+y);v=null;break;case"undefined":return a([ax],d)}return a([p,v],d)}case Ts:{if(y){let E=d;return y==="DataView"?E=new Uint8Array(d.buffer):y==="ArrayBuffer"&&(E=new Uint8Array(d)),a([y,[...E]],d)}const v=[],S=a([p,v],d);for(const E of d)v.push(c(E));return S}case ac:{if(y)switch(y){case"BigInt":return a([y,d.toString()],d);case"Boolean":case"Number":case"String":return a([y,d.valueOf()],d)}if(e&&"toJSON"in d)return c(d.toJSON());const v=[],S=a([p,v],d);for(const E of kD(d))(t||!Ju(gs(d[E])))&&v.push([c(E),c(d[E])]);return S}case Sp:return a([p,d.toISOString()],d);case Cp:{const{source:v,flags:S}=d;return a([p,{source:v,flags:S}],d)}case Ep:{const v=[],S=a([p,v],d);for(const[E,M]of d)(t||!(Ju(gs(E))||Ju(gs(M))))&&v.push([c(E),c(M)]);return S}case bp:{const v=[],S=a([p,v],d);for(const E of d)(t||!Ju(gs(E)))&&v.push(c(E));return S}}const{message:m}=d;return a([p,{name:y,message:m}],d)};return c},Nv=(t,{json:e,lossy:i}={})=>{const r=[];return DD(!(e||i),!!e,new Map,r)(t),r},sc=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Rv(Nv(t,e)):structuredClone(t):(t,e)=>Rv(Nv(t,e));function ID(t,e){const i=[{type:"text",value:""}];return e>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),i}function PD(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function UD(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=t.options.footnoteBackContent||ID,r=t.options.footnoteBackLabel||PD,a=t.options.footnoteLabel||"Footnotes",c=t.options.footnoteLabelTagName||"h2",d=t.options.footnoteLabelProperties||{className:["sr-only"]},p=[];let y=-1;for(;++y<t.footnoteOrder.length;){const m=t.footnoteById.get(t.footnoteOrder[y]);if(!m)continue;const v=t.all(m),S=String(m.identifier).toUpperCase(),E=Wl(S.toLowerCase());let M=0;const U=[],B=t.footnoteCounts.get(S);for(;B!==void 0&&++M<=B;){U.length>0&&U.push({type:"text",value:" "});let se=typeof i=="string"?i:i(y,M);typeof se=="string"&&(se={type:"text",value:se}),U.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+E+(M>1?"-"+M:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(y,M),className:["data-footnote-backref"]},children:Array.isArray(se)?se:[se]})}const re=v[v.length-1];if(re&&re.type==="element"&&re.tagName==="p"){const se=re.children[re.children.length-1];se&&se.type==="text"?se.value+=" ":re.children.push({type:"text",value:" "}),re.children.push(...U)}else v.push(...U);const X={type:"element",tagName:"li",properties:{id:e+"fn-"+E},children:t.wrap(v,!0)};t.patch(m,X),p.push(X)}if(p.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:c,properties:{...sc(d),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(p,!0)},{type:"text",value:`
`}]}}const cx=(function(t){if(t==null)return VD;if(typeof t=="function")return Cc(t);if(typeof t=="object")return Array.isArray(t)?LD(t):qD(t);if(typeof t=="string")return BD(t);throw new Error("Expected function, string, or object as test")});function LD(t){const e=[];let i=-1;for(;++i<t.length;)e[i]=cx(t[i]);return Cc(r);function r(...a){let c=-1;for(;++c<e.length;)if(e[c].apply(this,a))return!0;return!1}}function qD(t){const e=t;return Cc(i);function i(r){const a=r;let c;for(c in t)if(a[c]!==e[c])return!1;return!0}}function BD(t){return Cc(e);function e(i){return i&&i.type===t}}function Cc(t){return e;function e(i,r,a){return!!(OD(i)&&t.call(this,i,typeof r=="number"?r:void 0,a||void 0))}}function VD(){return!0}function OD(t){return t!==null&&typeof t=="object"&&"type"in t}const fx=[],HD=!0,kv=!1,zD="skip";function GD(t,e,i,r){let a;typeof e=="function"&&typeof i!="function"?(r=i,i=e):a=e;const c=cx(a),d=r?-1:1;p(t,void 0,[])();function p(y,m,v){const S=y&&typeof y=="object"?y:{};if(typeof S.type=="string"){const M=typeof S.tagName=="string"?S.tagName:typeof S.name=="string"?S.name:void 0;Object.defineProperty(E,"name",{value:"node ("+(y.type+(M?"<"+M+">":""))+")"})}return E;function E(){let M=fx,U,B,re;if((!e||c(y,m,v[v.length-1]||void 0))&&(M=FD(i(y,v)),M[0]===kv))return M;if("children"in y&&y.children){const X=y;if(X.children&&M[0]!==zD)for(B=(r?X.children.length:-1)+d,re=v.concat(X);B>-1&&B<X.children.length;){const se=X.children[B];if(U=p(se,B,re)(),U[0]===kv)return U;B=typeof U[1]=="number"?U[1]:B+d}}return M}}}function FD(t){return Array.isArray(t)?t:typeof t=="number"?[HD,t]:t==null?fx:[t]}function dx(t,e,i,r){let a,c,d;typeof e=="function"&&typeof i!="function"?(c=void 0,d=e,a=i):(c=e,d=i,a=r),GD(t,c,p,a);function p(y,m){const v=m[m.length-1],S=v?v.children.indexOf(y):void 0;return d(y,S,v)}}const rp={}.hasOwnProperty,KD={};function YD(t,e){const i=e||KD,r=new Map,a=new Map,c=new Map,d={...MD,...i.handlers},p={all:m,applyData:$D,definitionById:r,footnoteById:a,footnoteCounts:c,footnoteOrder:[],handlers:d,one:y,options:i,patch:JD,wrap:QD};return dx(t,function(v){if(v.type==="definition"||v.type==="footnoteDefinition"){const S=v.type==="definition"?r:a,E=String(v.identifier).toUpperCase();S.has(E)||S.set(E,v)}}),p;function y(v,S){const E=v.type,M=p.handlers[E];if(rp.call(p.handlers,E)&&M)return M(p,v,S);if(p.options.passThrough&&p.options.passThrough.includes(E)){if("children"in v){const{children:B,...re}=v,X=sc(re);return X.children=p.all(v),X}return sc(v)}return(p.options.unknownHandler||XD)(p,v,S)}function m(v){const S=[];if("children"in v){const E=v.children;let M=-1;for(;++M<E.length;){const U=p.one(E[M],v);if(U){if(M&&E[M-1].type==="break"&&(!Array.isArray(U)&&U.type==="text"&&(U.value=Dv(U.value)),!Array.isArray(U)&&U.type==="element")){const B=U.children[0];B&&B.type==="text"&&(B.value=Dv(B.value))}Array.isArray(U)?S.push(...U):S.push(U)}}}return S}}function JD(t,e){t.position&&(e.position=NN(t))}function $D(t,e){let i=e;if(t&&t.data){const r=t.data.hName,a=t.data.hChildren,c=t.data.hProperties;if(typeof r=="string")if(i.type==="element")i.tagName=r;else{const d="children"in i?i.children:[i];i={type:"element",tagName:r,properties:{},children:d}}i.type==="element"&&c&&Object.assign(i.properties,sc(c)),"children"in i&&i.children&&a!==null&&a!==void 0&&(i.children=a)}return i}function XD(t,e){const i=e.data||{},r="value"in e&&!(rp.call(i,"hProperties")||rp.call(i,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function QD(t,e){const i=[];let r=-1;for(e&&i.push({type:"text",value:`
`});++r<t.length;)r&&i.push({type:"text",value:`
`}),i.push(t[r]);return e&&t.length>0&&i.push({type:"text",value:`
`}),i}function Dv(t){let e=0,i=t.charCodeAt(e);for(;i===9||i===32;)e++,i=t.charCodeAt(e);return t.slice(e)}function Iv(t,e){const i=YD(t,e),r=i.one(t,void 0),a=UD(i),c=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&c.children.push({type:"text",value:`
`},a),c}function ZD(t,e){return t&&"run"in t?async function(i,r){const a=Iv(i,{file:r,...e});await t.run(a,r)}:function(i,r){return Iv(i,{file:r,...t||e})}}function Pv(t){if(t)throw t}var bd,Uv;function WD(){if(Uv)return bd;Uv=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,i=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(m){return typeof Array.isArray=="function"?Array.isArray(m):e.call(m)==="[object Array]"},c=function(m){if(!m||e.call(m)!=="[object Object]")return!1;var v=t.call(m,"constructor"),S=m.constructor&&m.constructor.prototype&&t.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!v&&!S)return!1;var E;for(E in m);return typeof E>"u"||t.call(m,E)},d=function(m,v){i&&v.name==="__proto__"?i(m,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):m[v.name]=v.newValue},p=function(m,v){if(v==="__proto__")if(t.call(m,v)){if(r)return r(m,v).value}else return;return m[v]};return bd=function y(){var m,v,S,E,M,U,B=arguments[0],re=1,X=arguments.length,se=!1;for(typeof B=="boolean"&&(se=B,B=arguments[1]||{},re=2),(B==null||typeof B!="object"&&typeof B!="function")&&(B={});re<X;++re)if(m=arguments[re],m!=null)for(v in m)S=p(B,v),E=p(m,v),B!==E&&(se&&E&&(c(E)||(M=a(E)))?(M?(M=!1,U=S&&a(S)?S:[]):U=S&&c(S)?S:{},d(B,{name:v,newValue:y(se,U,E)})):typeof E<"u"&&d(B,{name:v,newValue:E}));return B},bd}var jD=WD();const _d=Es(jD);function op(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function eI(){const t=[],e={run:i,use:r};return e;function i(...a){let c=-1;const d=a.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);p(null,...a);function p(y,...m){const v=t[++c];let S=-1;if(y){d(y);return}for(;++S<a.length;)(m[S]===null||m[S]===void 0)&&(m[S]=a[S]);a=m,v?tI(v,p)(...m):d(null,...m)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function tI(t,e){let i;return r;function r(...d){const p=t.length>d.length;let y;p&&d.push(a);try{y=t.apply(this,d)}catch(m){const v=m;if(p&&i)throw v;return a(v)}p||(y&&y.then&&typeof y.then=="function"?y.then(c,a):y instanceof Error?a(y):c(y))}function a(d,...p){i||(i=!0,e(d,...p))}function c(d){a(null,d)}}const Li={basename:nI,dirname:iI,extname:rI,join:oI,sep:"/"};function nI(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Rs(t);let i=0,r=-1,a=t.length,c;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(c){i=a+1;break}}else r<0&&(c=!0,r=a+1);return r<0?"":t.slice(i,r)}if(e===t)return"";let d=-1,p=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(c){i=a+1;break}}else d<0&&(c=!0,d=a+1),p>-1&&(t.codePointAt(a)===e.codePointAt(p--)?p<0&&(r=a):(p=-1,r=d));return i===r?r=d:r<0&&(r=t.length),t.slice(i,r)}function iI(t){if(Rs(t),t.length===0)return".";let e=-1,i=t.length,r;for(;--i;)if(t.codePointAt(i)===47){if(r){e=i;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function rI(t){Rs(t);let e=t.length,i=-1,r=0,a=-1,c=0,d;for(;e--;){const p=t.codePointAt(e);if(p===47){if(d){r=e+1;break}continue}i<0&&(d=!0,i=e+1),p===46?a<0?a=e:c!==1&&(c=1):a>-1&&(c=-1)}return a<0||i<0||c===0||c===1&&a===i-1&&a===r+1?"":t.slice(a,i)}function oI(...t){let e=-1,i;for(;++e<t.length;)Rs(t[e]),t[e]&&(i=i===void 0?t[e]:i+"/"+t[e]);return i===void 0?".":lI(i)}function lI(t){Rs(t);const e=t.codePointAt(0)===47;let i=aI(t,!e);return i.length===0&&!e&&(i="."),i.length>0&&t.codePointAt(t.length-1)===47&&(i+="/"),e?"/"+i:i}function aI(t,e){let i="",r=0,a=-1,c=0,d=-1,p,y;for(;++d<=t.length;){if(d<t.length)p=t.codePointAt(d);else{if(p===47)break;p=47}if(p===47){if(!(a===d-1||c===1))if(a!==d-1&&c===2){if(i.length<2||r!==2||i.codePointAt(i.length-1)!==46||i.codePointAt(i.length-2)!==46){if(i.length>2){if(y=i.lastIndexOf("/"),y!==i.length-1){y<0?(i="",r=0):(i=i.slice(0,y),r=i.length-1-i.lastIndexOf("/")),a=d,c=0;continue}}else if(i.length>0){i="",r=0,a=d,c=0;continue}}e&&(i=i.length>0?i+"/..":"..",r=2)}else i.length>0?i+="/"+t.slice(a+1,d):i=t.slice(a+1,d),r=d-a-1;a=d,c=0}else p===46&&c>-1?c++:c=-1}return i}function Rs(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const sI={cwd:uI};function uI(){return"/"}function lp(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function cI(t){if(typeof t=="string")t=new URL(t);else if(!lp(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return fI(t)}function fI(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let i=-1;for(;++i<e.length;)if(e.codePointAt(i)===37&&e.codePointAt(i+1)===50){const r=e.codePointAt(i+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const Ad=["history","path","basename","stem","extname","dirname"];class px{constructor(e){let i;e?lp(e)?i={path:e}:typeof e=="string"||dI(e)?i={value:e}:i=e:i={},this.cwd="cwd"in i?"":sI.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ad.length;){const c=Ad[r];c in i&&i[c]!==void 0&&i[c]!==null&&(this[c]=c==="history"?[...i[c]]:i[c])}let a;for(a in i)Ad.includes(a)||(this[a]=i[a])}get basename(){return typeof this.path=="string"?Li.basename(this.path):void 0}set basename(e){Md(e,"basename"),wd(e,"basename"),this.path=Li.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Li.dirname(this.path):void 0}set dirname(e){Lv(this.basename,"dirname"),this.path=Li.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Li.extname(this.path):void 0}set extname(e){if(wd(e,"extname"),Lv(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Li.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){lp(e)&&(e=cI(e)),Md(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Li.basename(this.path,this.extname):void 0}set stem(e){Md(e,"stem"),wd(e,"stem"),this.path=Li.join(this.dirname||"",e+(this.extname||""))}fail(e,i,r){const a=this.message(e,i,r);throw a.fatal=!0,a}info(e,i,r){const a=this.message(e,i,r);return a.fatal=void 0,a}message(e,i,r){const a=new bn(e,i,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function wd(t,e){if(t&&t.includes(Li.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Li.sep+"`")}function Md(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Lv(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function dI(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const pI=(function(t){const r=this.constructor.prototype,a=r[t],c=function(){return a.apply(c,arguments)};return Object.setPrototypeOf(c,r),c}),hI={}.hasOwnProperty;class _p extends pI{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=eI()}copy(){const e=new _p;let i=-1;for(;++i<this.attachers.length;){const r=this.attachers[i];e.use(...r)}return e.data(_d(!0,{},this.namespace)),e}data(e,i){return typeof e=="string"?arguments.length===2?(kd("data",this.frozen),this.namespace[e]=i,this):hI.call(this.namespace,e)&&this.namespace[e]||void 0:e?(kd("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=i.call(e,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const i=$u(e),r=this.parser||this.Parser;return Rd("parse",r),r(String(i),i)}process(e,i){const r=this;return this.freeze(),Rd("process",this.parser||this.Parser),Nd("process",this.compiler||this.Compiler),i?a(void 0,i):new Promise(a);function a(c,d){const p=$u(e),y=r.parse(p);r.run(y,p,function(v,S,E){if(v||!S||!E)return m(v);const M=S,U=r.stringify(M,E);yI(U)?E.value=U:E.result=U,m(v,E)});function m(v,S){v||!S?d(v):c?c(S):i(void 0,S)}}}processSync(e){let i=!1,r;return this.freeze(),Rd("processSync",this.parser||this.Parser),Nd("processSync",this.compiler||this.Compiler),this.process(e,a),Bv("processSync","process",i),r;function a(c,d){i=!0,Pv(c),r=d}}run(e,i,r){qv(e),this.freeze();const a=this.transformers;return!r&&typeof i=="function"&&(r=i,i=void 0),r?c(void 0,r):new Promise(c);function c(d,p){const y=$u(i);a.run(e,y,m);function m(v,S,E){const M=S||e;v?p(v):d?d(M):r(void 0,M,E)}}}runSync(e,i){let r=!1,a;return this.run(e,i,c),Bv("runSync","run",r),a;function c(d,p){Pv(d),a=p,r=!0}}stringify(e,i){this.freeze();const r=$u(i),a=this.compiler||this.Compiler;return Nd("stringify",a),qv(e),a(e,r)}use(e,...i){const r=this.attachers,a=this.namespace;if(kd("use",this.frozen),e!=null)if(typeof e=="function")y(e,i);else if(typeof e=="object")Array.isArray(e)?p(e):d(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function c(m){if(typeof m=="function")y(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[v,...S]=m;y(v,S)}else d(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function d(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");p(m.plugins),m.settings&&(a.settings=_d(!0,a.settings,m.settings))}function p(m){let v=-1;if(m!=null)if(Array.isArray(m))for(;++v<m.length;){const S=m[v];c(S)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function y(m,v){let S=-1,E=-1;for(;++S<r.length;)if(r[S][0]===m){E=S;break}if(E===-1)r.push([m,...v]);else if(v.length>0){let[M,...U]=v;const B=r[E][1];op(B)&&op(M)&&(M=_d(!0,B,M)),r[E]=[m,M,...U]}}}}const mI=new _p().freeze();function Rd(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Nd(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function kd(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function qv(t){if(!op(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Bv(t,e,i){if(!i)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function $u(t){return gI(t)?t:new px(t)}function gI(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function yI(t){return typeof t=="string"||vI(t)}function vI(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const xI="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Vv=[],Ov={allowDangerousHtml:!0},TI=/^(https?|ircs?|mailto|xmpp)$/i,SI=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Kl(t){const e=CI(t),i=EI(t);return bI(e.runSync(e.parse(i),i),t)}function CI(t){const e=t.rehypePlugins||Vv,i=t.remarkPlugins||Vv,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Ov}:Ov;return mI().use(nD).use(i).use(ZD,r).use(e)}function EI(t){const e=t.children||"",i=new px;return typeof e=="string"&&(i.value=e),i}function bI(t,e){const i=e.allowedElements,r=e.allowElement,a=e.components,c=e.disallowedElements,d=e.skipHtml,p=e.unwrapDisallowed,y=e.urlTransform||_I;for(const v of SI)Object.hasOwn(e,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+xI+v.id,void 0);return dx(t,m),UN(t,{Fragment:_.Fragment,components:a,ignoreInvalidStyle:!0,jsx:_.jsx,jsxs:_.jsxs,passKeys:!0,passNode:!0});function m(v,S,E){if(v.type==="raw"&&E&&typeof S=="number")return d?E.children.splice(S,1):E.children[S]={type:"text",value:v.value},S;if(v.type==="element"){let M;for(M in Sd)if(Object.hasOwn(Sd,M)&&Object.hasOwn(v.properties,M)){const U=v.properties[M],B=Sd[M];(B===null||B.includes(v.tagName))&&(v.properties[M]=y(String(U||""),M,v))}}if(v.type==="element"){let M=i?!i.includes(v.tagName):c?c.includes(v.tagName):!1;if(!M&&r&&typeof S=="number"&&(M=!r(v,S,E)),M&&E&&typeof S=="number")return p&&v.children?E.children.splice(S,1,...v.children):E.children.splice(S,1),S}}}function _I(t){const e=t.indexOf(":"),i=t.indexOf("?"),r=t.indexOf("#"),a=t.indexOf("/");return e===-1||a!==-1&&e>a||i!==-1&&e>i||r!==-1&&e>r||TI.test(t.slice(0,e))?t:""}const uc=({viewMode:t,onViewModeChange:e})=>_.jsxs("div",{className:"flex items-center gap-1 p-0.5 bg-slate-100 rounded-md border border-slate-200",children:[_.jsx("button",{onClick:()=>e("edit"),"aria-pressed":t==="edit",className:`px-2 py-0.5 text-xs rounded-sm transition-colors ${t==="edit"?"bg-white text-slate-800 shadow-sm":"bg-transparent text-slate-600 hover:bg-slate-200"}`,children:"Edit"}),_.jsx("button",{onClick:()=>e("preview"),"aria-pressed":t==="preview",className:`px-2 py-0.5 text-xs rounded-sm transition-colors ${t==="preview"?"bg-white text-slate-800 shadow-sm":"bg-transparent text-slate-600 hover:bg-slate-200"}`,children:"Preview"})]}),Ns=({chart:t})=>{const e=Ie.useRef(null),[i,r]=Ie.useState(null);return Ie.useEffect(()=>{if(window.mermaid&&e.current){window.mermaid.initialize({startOnLoad:!1,theme:"neutral",securityLevel:"loose"});const a=e.current;a.innerHTML=t;try{window.mermaid.run({nodes:[a],suppressErrors:!1}).catch(c=>{console.error("Mermaid render error:",c),r(c.message||"Error rendering diagram.")}),r(null)}catch(c){console.error("Mermaid rendering error:",c),c instanceof Error?r(c.message):r("An unknown error occurred during rendering.")}}},[t]),i?_.jsxs("div",{className:"p-4 my-2 bg-red-100 border border-red-300 text-red-800 rounded-md",children:[_.jsx("p",{className:"font-bold",children:"Mermaid Diagram Error:"}),_.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:i}),_.jsx("p",{className:"mt-2 text-xs",children:"Your diagram code:"}),_.jsx("pre",{className:"text-sm whitespace-pre-wrap bg-red-50 p-2 rounded",children:t})]}):_.jsx("div",{ref:e,className:"mermaid flex justify-center"},t)},AI={code({node:t,inline:e,className:i,children:r,...a}){const c=/language-(\w+)/.exec(i||"");return!e&&c&&c[1]==="mermaid"?_.jsx(Ns,{chart:String(r).replace(/\n$/,"")}):_.jsx("code",{className:i,...a,children:r})}},wI=({testCases:t,onChange:e})=>{const[i,r]=Ie.useState({description:"edit",input:"edit",expectedResult:"edit"}),a=(E,M)=>{r(U=>({...U,[E]:M}))},c=()=>{const E={id:crypto.randomUUID(),description:"",input:"",expectedResult:"",status:eo.Pending};e([...t,E])},d=(E,M,U)=>{const B=t.map(re=>re.id===E?{...re,[M]:U}:re);e(B)},p=E=>{e(t.filter(M=>M.id!==E))},y="w-full p-2 bg-white text-slate-800 border border-slate-300 rounded-md shadow-sm text-sm min-h-[60px] focus:ring-2 focus:ring-sky-500 focus:border-sky-500",m="prose prose-sm max-w-none p-2 min-h-[60px]",v=(E,M)=>i[M]==="preview"?_.jsx("div",{className:m,children:E[M]?_.jsx(Kl,{components:AI,children:E[M]}):_.jsx("p",{className:"text-slate-500 italic",children:"Not specified."})}):_.jsx("textarea",{value:E[M],onChange:U=>d(E.id,M,U.target.value),className:y}),S=(E,M)=>_.jsx("th",{scope:"col",className:"px-6 py-3 w-3/12",children:_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("span",{children:E}),_.jsx(uc,{viewMode:i[M],onViewModeChange:U=>a(M,U)})]})});return _.jsxs("div",{className:"space-y-4",children:[_.jsx("div",{className:"overflow-x-auto bg-white rounded-lg border border-slate-200",children:_.jsxs("table",{className:"w-full min-w-[800px] text-sm text-left text-slate-600",children:[_.jsx("thead",{className:"text-xs text-slate-700 uppercase bg-slate-50",children:_.jsxs("tr",{children:[_.jsx("th",{scope:"col",className:"px-6 py-3 w-1/12",children:"ID"}),S("Description","description"),S("Input","input"),S("Expected Result","expectedResult"),_.jsx("th",{scope:"col",className:"px-6 py-3 w-1/12",children:"Status"}),_.jsx("th",{scope:"col",className:"px-6 py-3 w-1/12",children:"Actions"})]})}),_.jsx("tbody",{children:t.map((E,M)=>_.jsxs("tr",{className:"border-b border-slate-200/80 last:border-b-0 hover:bg-sky-50/50 odd:bg-white even:bg-slate-50/70",children:[_.jsx("td",{className:"px-6 py-4 font-medium text-slate-900",children:M+1}),_.jsx("td",{className:"px-6 py-4",children:v(E,"description")}),_.jsx("td",{className:"px-6 py-4",children:v(E,"input")}),_.jsx("td",{className:"px-6 py-4",children:v(E,"expectedResult")}),_.jsx("td",{className:"px-6 py-4",children:_.jsx("select",{value:E.status,onChange:U=>d(E.id,"status",U.target.value),className:"w-full p-1.5 rounded-md text-xs font-medium border border-slate-300 focus:ring-2 focus:ring-offset-1 focus:ring-sky-500 focus:border-sky-500 bg-white shadow-sm",children:Object.values(eo).map(U=>_.jsx("option",{value:U,children:U},U))})}),_.jsx("td",{className:"px-6 py-4 text-center",children:_.jsx("button",{onClick:()=>p(E.id),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full",children:_.jsx(cc,{className:"w-4 h-4"})})})]},E.id))})]})}),_.jsx("div",{className:"flex justify-center",children:_.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 bg-slate-200 text-slate-700 font-semibold rounded-lg hover:bg-slate-300 transition-colors",children:[_.jsx(bs,{className:"w-5 h-5"}),"Add Test Case"]})})]})},Yl=({className:t=""})=>_.jsxs("svg",{className:`animate-spin h-5 w-5 text-current ${t}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Dd="w-full p-3 bg-white text-slate-800 border border-slate-300 rounded-md focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-shadow shadow-sm",Hv="prose max-w-none p-4 border border-slate-300 rounded-md bg-white min-h-[150px] shadow-sm",zv={code({node:t,inline:e,className:i,children:r,...a}){const c=/language-(\w+)/.exec(i||"");return!e&&c&&c[1]==="mermaid"?_.jsx(Ns,{chart:String(r).replace(/\n$/,"")}):_.jsx("code",{className:i,...a,children:r})}},MI=({requirement:t,referenceLink:e,spec:i,onRequirementChange:r,onReferenceLinkChange:a,onSpecChange:c})=>{const[d,p]=Ie.useState("edit"),[y,m]=Ie.useState("edit");return _.jsxs("div",{className:"flex flex-col gap-6",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center justify-between mb-1",children:[_.jsx("label",{className:"text-sm font-semibold text-slate-700 block",children:"Requirement"}),_.jsx(uc,{viewMode:d,onViewModeChange:p})]}),d==="edit"?_.jsx("textarea",{value:t,onChange:v=>r(v.target.value),className:`${Dd} min-h-[150px]`,placeholder:"State the user need or problem..."}):_.jsx("div",{className:Hv,children:t?_.jsx(Kl,{components:zv,children:t}):_.jsx("p",{className:"text-slate-500 italic",children:"No requirement content to preview."})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-sm font-semibold text-slate-700 block mb-1",children:"Reference Link (e.g., ClickUp, Jira)"}),_.jsx("input",{type:"url",value:e,onChange:v=>a(v.target.value),className:Dd,placeholder:"https://..."})]}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center justify-between mb-1",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("label",{className:"text-sm font-semibold text-slate-700 block",children:"AI-Generated Spec"}),_.jsx(Bo,{text:"This specification was generated by the AI based on the requirement. You can edit it directly.",children:_.jsx(Xv,{className:"w-4 h-4 text-slate-400 cursor-help"})})]}),_.jsx(uc,{viewMode:y,onViewModeChange:m})]}),y==="edit"?_.jsx("textarea",{value:i,onChange:v=>c(v.target.value),className:`${Dd} min-h-[300px]`,placeholder:"AI will generate the technical spec here..."}):_.jsx("div",{className:`${Hv} min-h-[300px]`,children:i?_.jsx(Kl,{components:zv,children:i}):_.jsx("p",{className:"text-slate-500 italic",children:"No spec content to preview."})})]})]})},RI="w-full p-3 bg-white text-slate-800 border border-slate-300 rounded-md focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-shadow shadow-sm",NI="prose max-w-none p-4 border border-slate-300 rounded-md bg-white shadow-sm",kI={code({node:t,inline:e,className:i,children:r,...a}){const c=/language-(\w+)/.exec(i||"");return!e&&c&&c[1]==="mermaid"?_.jsx(Ns,{chart:String(r).replace(/\n$/,"")}):_.jsx("code",{className:i,...a,children:r})}},DI=({preDevAnalysis:t,onPreDevChange:e})=>{const[i,r]=Ie.useState({introduction:"edit",impactAnalysis:"edit",howToCode:"edit",testApproach:"edit"}),a=(d,p)=>{r(y=>({...y,[d]:p}))},c=[{key:"introduction",label:"Introduction",placeholder:"A summary of the requirements and root causes...",height:"h-24",minHeight:"min-h-[96px]"},{key:"impactAnalysis",label:"Impact Analysis",placeholder:"Affected components, systems, or user workflows...",height:"h-24",minHeight:"min-h-[96px]"},{key:"howToCode",label:"How to Code",placeholder:"A high-level development approach or plan...",height:"h-48",minHeight:"min-h-[192px]"},{key:"testApproach",label:"Test Approach",placeholder:"A strategy for testing the new feature or fix...",height:"h-24",minHeight:"min-h-[96px]"}];return _.jsx("div",{className:"space-y-6",children:c.map(({key:d,label:p,placeholder:y,height:m,minHeight:v})=>_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx("label",{className:"text-sm font-semibold text-slate-700 block",children:p}),_.jsx(uc,{viewMode:i[d],onViewModeChange:S=>a(d,S)})]}),i[d]==="edit"?_.jsx("textarea",{value:t[d],onChange:S=>e(d,S.target.value),className:`${RI} ${m}`,placeholder:y}):_.jsx("div",{className:`${NI} ${v}`,children:t[d]?_.jsx(Kl,{components:kI,children:t[d]}):_.jsx("p",{className:"text-slate-500 italic",children:"Not specified."})})]},d))})},II={code({node:t,inline:e,className:i,children:r,...a}){const c=/language-(\w+)/.exec(i||"");return!e&&c&&c[1]==="mermaid"?_.jsx(Ns,{chart:String(r).replace(/\n$/,"")}):_.jsx("code",{className:i,...a,children:r})}},PI=({markdownContent:t})=>{const e=()=>{navigator.clipboard.writeText(t).then(()=>alert("Markdown copied to clipboard!"))};return _.jsxs("div",{children:[_.jsx("div",{className:"text-right mb-4",children:_.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-700 font-semibold rounded-lg shadow-sm hover:bg-slate-200 transition-colors",children:[_.jsx(iS,{})," Copy Markdown"]})}),_.jsx("div",{className:"prose prose-slate max-w-none p-6 border rounded-lg bg-white prose-pre:bg-slate-800 prose-pre:text-slate-100 prose-pre:border prose-pre:rounded-md prose-th:bg-slate-50",children:_.jsx(Kl,{components:II,children:t})})]})},Id=({text:t,onClick:e,isLoading:i=!1,disabled:r=!1,variant:a="primary"})=>{const c="flex items-center justify-center gap-2 px-5 py-2.5 font-semibold rounded-lg shadow-md transition-all duration-300 transform focus:outline-none focus:ring-2 focus:ring-offset-2",d={primary:"bg-gradient-to-r from-sky-500 to-indigo-600 text-white hover:scale-[1.03] hover:shadow-lg focus:ring-sky-500 disabled:from-slate-400 disabled:to-slate-500 disabled:cursor-not-allowed disabled:scale-100",secondary:"bg-white border border-slate-300 text-slate-700 hover:bg-slate-50 hover:scale-[1.03] focus:ring-sky-500 disabled:bg-slate-100 disabled:text-slate-500 disabled:border-slate-200 disabled:cursor-not-allowed disabled:scale-100"};return _.jsx("button",{onClick:e,disabled:i||r,className:`${c} ${d[a]}`,children:i?_.jsxs(_.Fragment,{children:[_.jsx(Yl,{}),_.jsx("span",{children:"Generating..."})]}):_.jsxs(_.Fragment,{children:[_.jsx(_s,{}),_.jsx("span",{children:t})]})})},UI={code({node:t,inline:e,className:i,children:r,...a}){const c=/language-(\w+)/.exec(i||"");return!e&&c&&c[1]==="mermaid"?_.jsx(Ns,{chart:String(r).replace(/\n$/,"")}):_.jsx("code",{className:i,...a,children:r})}},LI=({history:t,isLoading:e,onSendMessage:i,isChatActive:r,shouldFocusInput:a})=>{const[c,d]=Ie.useState(""),p=Ie.useRef(null),y=Ie.useRef(null),m=async v=>{if(v.preventDefault(),!c.trim())return;const S=c;d(""),await i(S)};return Ie.useEffect(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},[t,e]),Ie.useEffect(()=>{if(a&&y.current){const v=y.current;v.focus(),v.classList.add("highlight-focus");const S=setTimeout(()=>{v.classList.remove("highlight-focus")},1200);return()=>{clearTimeout(S),v.classList.remove("highlight-focus")}}},[a]),_.jsxs("div",{className:"p-2 border border-slate-200/80 rounded-lg bg-slate-100/70 flex flex-col justify-between flex-grow min-h-0",children:[_.jsxs("div",{ref:p,className:"overflow-y-auto space-y-4 p-3 flex-grow flex flex-col",children:[t.length===0&&!e&&_.jsx("div",{className:"flex h-full min-h-[100px] items-center justify-center text-center text-slate-500 px-4",children:_.jsx("p",{className:"text-sm",children:"Click 'Clarify & Generate Spec'. The AI will ask questions to refine your requirement before generating a spec."})}),t.map((v,S)=>{const E=v.role==="user";if(v.text.includes("**Specification Generated**"))return _.jsx("div",{className:"text-center text-xs text-slate-500 py-2 my-2 border-t border-b border-slate-200 bg-slate-50",children:"Specification has been generated. You can now edit it or move to the next steps."},S);const U=E?"bg-blue-600 text-white":v.isError?"bg-red-100 text-red-900 border border-red-200":"bg-white text-slate-800 border border-slate-200/90",B=E?"rounded-t-xl rounded-bl-xl":"rounded-t-xl rounded-br-xl";return _.jsx("div",{className:`flex flex-col max-w-[85%] ${E?"self-end items-end":"self-start items-start"}`,children:_.jsx("div",{className:`px-3 py-2 shadow-sm text-sm w-fit ${U} ${B}`,children:_.jsx("div",{className:"prose prose-sm max-w-none prose-p:my-0",style:{color:"inherit"},children:_.jsx(Kl,{components:UI,children:v.text})})})},S)}),e&&_.jsx("div",{className:"flex flex-col max-w-[90%] self-start items-start",children:_.jsx("div",{className:"px-3 py-2 rounded-t-xl rounded-br-xl text-sm bg-white border border-slate-200/90 text-slate-800",children:_.jsxs("div",{className:"flex items-center justify-center gap-1.5 h-5",children:[_.jsx("span",{className:"h-1.5 w-1.5 bg-slate-400 rounded-full animate-pulse [animation-delay:-0.3s]"}),_.jsx("span",{className:"h-1.5 w-1.5 bg-slate-400 rounded-full animate-pulse [animation-delay:-0.15s]"}),_.jsx("span",{className:"h-1.5 w-1.5 bg-slate-400 rounded-full animate-pulse"})]})})})]}),r&&!e&&_.jsxs("form",{onSubmit:m,className:"flex gap-2 items-start pt-2 border-t border-slate-200/80 mt-2",children:[_.jsx("textarea",{ref:y,value:c,onChange:v=>d(v.target.value),className:"flex-grow p-2 bg-white border border-slate-300 rounded-md shadow-sm focus:ring-2 focus:ring-sky-500 text-sm transition-colors duration-300",placeholder:"Your answer...",rows:2,onKeyDown:v=>{v.key==="Enter"&&!v.shiftKey&&m(v)}}),_.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-white text-slate-700 border border-slate-300 font-semibold rounded-lg shadow-sm hover:bg-slate-50 transition-colors text-sm",children:"Send"})]})]})},qI=()=>_.jsxs("div",{className:"p-3 my-2 bg-slate-100 border border-slate-200 rounded-lg text-sm text-slate-700 animate-fade-in",children:[_.jsx("p",{className:"font-semibold mb-2",children:"AI is following a 7-stage process for quality assurance:"}),_.jsxs("ol",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs",children:[_.jsx("li",{children:"1. Requirements Analysis"}),_.jsx("li",{children:"2. Information Gathering"}),_.jsx("li",{children:"3. Specification Drafting"}),_.jsx("li",{children:"4. Self-Review"}),_.jsx("li",{children:"5. Issue Resolution"}),_.jsx("li",{children:"6. Final Polish"}),_.jsx("li",{children:"7. Documentation"})]}),_.jsx("style",{children:`
          .animate-fade-in { animation: fadeIn 0.5s ease-in-out; }
          @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        `})]}),BI=({activeTab:t,cardData:e,onUpdate:i,onOpenSettingsModal:r})=>{const[a,c]=Ie.useState({}),[d,p]=Ie.useState(!1),[y,m]=Ie.useState(nv()),[v]=D0(),[S,E]=Ie.useState(!1),M=Ss(()=>En.knowledgeFiles.toArray(),[]);Ie.useEffect(()=>{m(nv())},[e.id,v]),Ie.useEffect(()=>{if(S){const ae=setTimeout(()=>E(!1),100);return()=>clearTimeout(ae)}},[S]);const U=(e.requirementChatHistory||[]).some(ae=>ae.role==="model"&&ae.text.includes("**Specification Generated**")),B=!U&&e.requirementChatHistory&&e.requirementChatHistory.length>0;if(!y)return _.jsxs("aside",{className:"w-96 flex-shrink-0 border-l border-slate-200/80 bg-white p-4 flex flex-col gap-4",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 text-center mb-0 flex-shrink-0",children:"AI Assistant"}),_.jsxs("div",{className:"flex flex-col items-center justify-center text-center h-full gap-4 p-6 bg-amber-50 rounded-xl border border-amber-200",children:[_.jsx("div",{className:"p-3 bg-white rounded-full border border-slate-200 shadow-sm",children:_.jsx(Qv,{className:"w-7 h-7 text-amber-600"})}),_.jsx("h4",{className:"text-lg font-semibold text-slate-800",children:"API Key Required"}),_.jsxs("p",{className:"text-sm text-slate-600 max-w-xs",children:["Please set your API key for the selected AI provider (",v,") to enable AI features."]}),_.jsx("button",{onClick:()=>r("api-key"),className:"mt-4 px-4 py-2 bg-slate-800 text-white font-semibold rounded-lg shadow-sm hover:bg-slate-900 transition-colors",children:"Set API Key"})]})]});const re=async ae=>{if(!e.knowledgeFileIds||e.knowledgeFileIds.length===0||!M)return ae;const ce=M.filter(pe=>e.knowledgeFileIds.includes(pe.id));if(ce.length===0)return ae;const me=`Here is some context from my knowledge base. Please use this information as the primary source of truth when answering my request.

`,Z=ce.map(pe=>`--- CONTEXT FROM FILE: ${pe.name} ---
${pe.content}
--- END OF CONTEXT FROM FILE: ${pe.name} ---`).join(`

`);return`${me}${Z}

Now, here is my original request:

${ae}`},X=async()=>{if(!e.requirement.trim()){alert("Please fill in the requirement first.");return}p(!0);const ae=`Here is the context for a task. Please analyze it, ask clarifying questions if needed, and then generate a comprehensive technical spec. My initial requirement is: "${e.requirement}"`,ce=[{role:"user",text:e.requirement}];i({requirementChatHistory:ce});try{const me=await re(ae),Z=await vd([],me),pe=[{role:"model",text:Z.content,isError:Z.flag==="error"}];Z.flag==="answer"?(i({spec:Z.content}),pe.push({role:"model",text:"**Specification Generated**"})):Z.flag==="question"&&E(!0),i({requirementChatHistory:[...ce,...pe]})}catch(me){console.error("Error starting chat:",me);const Z={role:"model",text:"An unexpected error occurred. Please try again.",isError:!0};i({requirementChatHistory:[...ce,Z]})}finally{p(!1)}},se=async ae=>{p(!0);const ce={role:"user",text:ae},me=[...e.requirementChatHistory||[],ce];i({requirementChatHistory:me});try{const Z=await re(ae),pe=await vd(e.requirementChatHistory||[],Z),Ee=[{role:"model",text:pe.content,isError:pe.flag==="error"}];pe.flag==="answer"?(i({spec:pe.content}),Ee.push({role:"model",text:"**Specification Generated**"})):pe.flag==="question"&&E(!0);const ne=[...me,...Ee];i({requirementChatHistory:ne})}catch(Z){console.error("Error continuing chat:",Z);const pe={role:"model",text:"An unexpected error occurred. Please try again.",isError:!0},Ee=[...me,pe];i({requirementChatHistory:Ee})}finally{p(!1)}},te=async()=>{if(!e.requirement.trim()){alert("The requirement field is empty. Please write a requirement before re-generating the spec.");return}if(!window.confirm("This will replace the current specification and clear the chat history. Are you sure you want to proceed?"))return;c(me=>({...me,regenerateSpec:!0}));const ae=`Please generate a new, comprehensive technical specification based *only* on the following requirement. Do not ask any clarifying questions; proceed directly to generating the spec. Requirement: "${e.requirement}"`,ce=[{role:"user",text:e.requirement}];try{const me=await re(ae),Z=await vd([],me),pe=[];let Ee=e.spec;Z.flag==="answer"?(Ee=Z.content,pe.push({role:"model",text:Z.content}),pe.push({role:"model",text:"**Specification Generated**"})):Z.flag==="question"?(pe.push({role:"model",text:Z.content}),E(!0)):pe.push({role:"model",text:Z.content,isError:!0}),i({spec:Ee,requirementChatHistory:[...ce,...pe]})}catch(me){console.error("Error regenerating spec:",me);const Z={role:"model",text:"An unexpected error occurred during re-generation. Please try again.",isError:!0};i({requirementChatHistory:[...ce,Z]})}finally{c(me=>({...me,regenerateSpec:!1}))}},Te=async()=>{if(!e.spec){alert("Please generate or write a spec first.");return}c(ae=>({...ae,predev:!0}));try{const ae=await re(e.spec),ce=await rN(ae);typeof ce=="string"?alert(ce):i({preDevAnalysis:ce})}catch(ae){console.error("AI pre-dev failed",ae),alert("An error occurred while communicating with the AI.")}finally{c(ae=>({...ae,predev:!1}))}},ye=async()=>{if(!e.spec){alert("Please generate or write a spec first.");return}c(ae=>({...ae,testcases:!0}));try{const ae=await re(e.spec),ce=await oN(ae);typeof ce=="string"?alert(ce):i({testCases:[...e.testCases,...ce]})}catch(ae){console.error("AI test cases failed",ae),alert("An error occurred while communicating with the AI.")}finally{c(ae=>({...ae,testcases:!1}))}},j=({title:ae,description:ce,buttonText:me,onAction:Z,isLoading:pe,disabled:Ee})=>_.jsxs("div",{className:"flex flex-col items-center justify-center text-center h-full gap-4 p-6 bg-slate-100/70 rounded-xl border border-slate-200/80",children:[_.jsx("div",{className:"p-4 bg-gradient-to-br from-sky-100 to-indigo-100 rounded-full border border-slate-200 shadow-sm",children:_.jsx(_s,{className:"w-8 h-8 text-sky-500"})}),_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsx("h4",{className:"text-lg font-semibold text-slate-800",children:ae}),_.jsx("p",{className:"text-sm text-slate-600 max-w-xs",children:ce})]}),_.jsx("div",{className:"mt-2",children:_.jsx(Bo,{text:ce,children:_.jsx("div",{children:_.jsx(Id,{text:me,onClick:Z,isLoading:pe,disabled:Ee})})})})]}),Se=({text:ae})=>_.jsxs("div",{className:"flex flex-col items-center justify-center text-center h-full gap-4 p-6 bg-slate-100/70 rounded-xl border border-slate-200/80",children:[_.jsx("div",{className:"p-3 bg-white rounded-full border border-slate-200 shadow-sm",children:_.jsx(Xv,{className:"w-7 h-7 text-slate-500"})}),_.jsx("p",{className:"text-sm font-medium text-slate-600 max-w-xs",children:ae})]}),ze=()=>{const ae=ce=>{const me=e.knowledgeFileIds||[],Z=me.includes(ce)?me.filter(pe=>pe!==ce):[...me,ce];i({knowledgeFileIds:Z})};return M?M.length===0?_.jsx("div",{className:"text-center p-4 text-sm text-slate-500 bg-slate-100/70 rounded-lg",children:"Your knowledge base is empty. Go to the Knowledge Base manager to upload files."}):_.jsx("div",{className:"space-y-2",children:M.map(ce=>{var me,Z;return _.jsxs("label",{className:`flex items-center gap-3 p-3 border rounded-lg hover:bg-slate-100/70 cursor-pointer transition-colors duration-200 ${(me=e.knowledgeFileIds)!=null&&me.includes(ce.id)?"bg-sky-50 border-sky-300 ring-2 ring-sky-200":"bg-white border-slate-200/80"}`,children:[_.jsx("input",{type:"checkbox",checked:((Z=e.knowledgeFileIds)==null?void 0:Z.includes(ce.id))??!1,onChange:()=>ae(ce.id),className:"h-4 w-4 rounded border-slate-400 text-sky-600 focus:ring-sky-500 flex-shrink-0"}),_.jsx("span",{className:"text-sm font-medium text-slate-800 break-all",children:ce.name})]},ce.id)})}):_.jsx("div",{className:"text-center p-4",children:_.jsx(Yl,{})})},we=()=>{switch(t){case"Requirement & Spec":return _.jsxs("div",{className:"flex flex-col flex-grow min-h-0 gap-2",children:[_.jsx("div",{className:"flex justify-center flex-shrink-0",children:U?_.jsx(Bo,{text:"Generates a new spec based on the current requirement. This will replace the existing spec and chat history.",children:_.jsx("div",{children:_.jsx(Id,{text:"Re-generate Spec",onClick:te,isLoading:a.regenerateSpec,disabled:!e.requirement.trim(),variant:"secondary"})})}):_.jsx(Bo,{text:"Starts an interactive chat with the AI to refine your requirement and then generates a detailed technical specification.",children:_.jsx("div",{children:_.jsx(Id,{text:"Clarify & Generate Spec",onClick:X,isLoading:d,disabled:B||!e.requirement.trim()})})})}),d&&(e.requirementChatHistory||[]).length<=1&&_.jsx(qI,{}),_.jsx(LI,{history:e.requirementChatHistory||[],isLoading:d&&!a.regenerateSpec,onSendMessage:se,isChatActive:B,shouldFocusInput:S})]});case"Pre-Dev":return _.jsx(j,{title:"Pre-Dev Analysis",description:"Generates an introduction, impact analysis, coding approach, and testing strategy based on the technical spec.",buttonText:"Generate Analysis",onAction:Te,isLoading:a.predev,disabled:!e.spec});case"Test Cases":return _.jsx(j,{title:"Test Cases",description:"Generates relevant test cases from the technical specification to help ensure comprehensive test coverage.",buttonText:"Generate Test Cases",onAction:ye,isLoading:a.testcases,disabled:!e.spec});case"Markdown Preview":return _.jsx(Se,{text:"This is a preview of your task documentation. No AI actions are available on this tab."});default:return null}};return _.jsxs("aside",{className:"w-96 flex-shrink-0 border-l border-slate-200/80 bg-white p-4 flex flex-col gap-4",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 text-center mb-0 flex-shrink-0",children:"AI Assistant"}),_.jsxs("div",{className:"flex-grow flex flex-col gap-4 min-h-0",children:[_.jsxs("div",{className:"flex-shrink-0",children:[_.jsxs("div",{className:"flex items-center gap-2 text-md font-semibold text-slate-700 mb-2",children:[_.jsx(Jv,{className:"w-5 h-5"}),_.jsx("span",{children:"Attach Context Files"})]}),_.jsx("div",{className:"max-h-48 overflow-y-auto p-1",children:_.jsx(ze,{})})]}),_.jsx("div",{className:"w-full h-px bg-slate-200/80"}),_.jsx("div",{className:"flex-grow flex flex-col min-h-0",children:we()})]})]})},VI=2e3,OI=({status:t})=>t==="saving"?_.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 animate-pulse",children:[_.jsx(Yl,{className:"w-4 h-4"}),_.jsx("span",{children:"Saving..."})]}):t==="saved"?_.jsxs("div",{className:"flex items-center gap-2 text-sm text-emerald-600",children:[_.jsx(tS,{className:"w-5 h-5"}),_.jsx("span",{children:"All changes saved"})]}):null,HI=({card:t,onClose:e,onUpdate:i,onDelete:r,allTags:a,onOpenSettingsModal:c})=>{const[d,p]=Ie.useState(gd[0]),[y,m]=Ie.useState(t),[v,S]=Ie.useState("idle"),[E,M]=Ie.useState(!1),U=Ie.useRef(null),[B,re]=Ie.useState(!1),X=Ie.useMemo(()=>JSON.stringify(y)!==JSON.stringify(t),[y,t]);Ie.useEffect(()=>{m(t),p(gd[0])},[t]);const se=Ie.useCallback(async Z=>{S("saving");const{id:pe,...Ee}=Z;try{await i(pe,Ee),S("saved")}catch(ne){console.error("Failed to save card:",ne),S("idle")}},[i]),te=Ie.useCallback(()=>{X&&se(y)},[X,y,se]);Ie.useEffect(()=>{if(v==="saved"){const Z=setTimeout(()=>S("idle"),VI);return()=>clearTimeout(Z)}},[v]),Ie.useEffect(()=>{const Z=pe=>{U.current&&!U.current.contains(pe.target)&&M(!1)};return document.addEventListener("mousedown",Z),()=>document.removeEventListener("mousedown",Z)},[]);const Te=Z=>{m(pe=>{const Ee={...pe,...Z};return Z.requirementChatHistory&&se(Ee),Ee})},ye=(Z,pe)=>{m(Ee=>({...Ee,preDevAnalysis:{...Ee.preDevAnalysis,[Z]:pe}}))},j=Z=>{m(pe=>({...pe,testCases:Z}))},Se=Z=>{const pe=y.tagIds||[],Ee=pe.includes(Z)?pe.filter(ne=>ne!==Z):[...pe,Z];Te({tagIds:Ee})},ze=async()=>{if(!y.requirement.trim()){alert("Please write a requirement before generating a title.");return}re(!0);try{const Z=await iN(y.requirement);Z.startsWith("Error")||Z.includes("API Key not set")?alert(Z):Te({title:Z})}catch(Z){console.error("Failed to generate title:",Z),alert("An unexpected error occurred while generating the title.")}finally{re(!1)}},we=Ie.useMemo(()=>{const Z=new Set(y.tagIds||[]);return a.filter(pe=>Z.has(pe.id))},[y.tagIds,a]),ae=Ie.useMemo(()=>{const Z=new Set(y.tagIds||[]);return a.filter(pe=>!Z.has(pe.id)).sort((pe,Ee)=>pe.name.localeCompare(Ee.name))},[y.tagIds,a]),ce=Ie.useMemo(()=>`
# ${y.title}

- **Status:** ${y.status}
- **Reference:** ${y.referenceLink?`[${y.referenceLink}](${y.referenceLink})`:"N/A"}

---

## 1. Requirement
${y.requirement||"Not specified."}

---

## 2. Specification
${y.spec||"Not specified."}

---

## 3. Pre-Development Analysis

### Introduction
${y.preDevAnalysis.introduction||"Not specified."}

### Impact Analysis
${y.preDevAnalysis.impactAnalysis||"Not specified."}

### How to Code
${y.preDevAnalysis.howToCode||"Not specified."}

### Test Approach
${y.preDevAnalysis.testApproach||"Not specified."}

---

## 4. Test Cases
${y.testCases.length>0?y.testCases.map((Z,pe)=>`
**Test Case ${pe+1} (${Z.status})**
- **Description:** ${Z.description||"N/A"}
- **Input:** ${Z.input||"N/A"}
- **Expected Result:** ${Z.expectedResult||"N/A"}
`).join(`
---
`):"No test cases specified."}
  `,[y]),me=()=>{switch(d){case"Requirement & Spec":return _.jsx(MI,{requirement:y.requirement,referenceLink:y.referenceLink,spec:y.spec,onRequirementChange:Z=>Te({requirement:Z}),onReferenceLinkChange:Z=>Te({referenceLink:Z}),onSpecChange:Z=>Te({spec:Z})});case"Pre-Dev":return _.jsx(DI,{preDevAnalysis:y.preDevAnalysis,onPreDevChange:ye});case"Test Cases":return _.jsx(wI,{testCases:y.testCases,onChange:j});case"Markdown Preview":return _.jsx(PI,{markdownContent:ce});default:return null}};return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-40 p-4 backdrop-blur-sm",onClick:e,children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-modal w-full max-w-7xl h-[95vh] flex flex-col overflow-hidden border border-slate-300/80",onClick:Z=>Z.stopPropagation(),children:[_.jsx("header",{className:"px-6 py-4 border-b border-slate-200/80 flex-shrink-0 bg-white",children:_.jsxs("div",{className:"flex justify-between items-start gap-4",children:[_.jsxs("div",{className:"flex-grow min-w-0",children:[_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"text",value:y.title,onChange:Z=>Te({title:Z.target.value}),className:"text-2xl font-bold text-slate-900 bg-transparent focus:outline-none focus:ring-1 focus:ring-sky-500 rounded-md px-2 py-1 w-full pr-10",placeholder:"Card Title"}),_.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:_.jsx(Bo,{text:y.requirement.trim()?"Generate title with AI":"Add a requirement to generate a title",children:_.jsx("button",{onClick:ze,disabled:!y.requirement.trim()||B,className:"p-1 text-sky-500 rounded-full hover:bg-sky-100 disabled:text-slate-300 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors","aria-label":"Generate title with AI",children:B?_.jsx(Yl,{className:"w-5 h-5 text-slate-500"}):_.jsx(_s,{className:"w-5 h-5"})})})})]}),_.jsxs("div",{className:"mt-3 flex items-center gap-2 flex-wrap pl-2",children:[we.map(Z=>{const pe=fr[Z.color]||fr.slate;return _.jsxs("span",{className:`inline-flex items-center font-medium rounded-full whitespace-nowrap text-xs px-2 py-0.5 ${pe.bg} ${pe.text}`,children:[Z.name,_.jsx("button",{onClick:()=>Se(Z.id),className:`ml-1.5 -mr-0.5 p-0.5 rounded-full ${pe.hoverBg} ${pe.hoverText}`,"aria-label":`Remove tag ${Z.name}`,children:_.jsx(tc,{className:"w-3 h-3"})})]},Z.id)}),_.jsxs("div",{className:"relative",ref:U,children:[_.jsx("button",{onClick:()=>M(Z=>!Z),className:"p-1 bg-slate-200 text-slate-600 rounded-full hover:bg-slate-300 transition-colors","aria-label":"Add tag",children:_.jsx(bs,{className:"w-4 h-4"})}),E&&_.jsx("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-slate-200 z-20 max-h-60 overflow-y-auto",children:ae.length>0?ae.map(Z=>{const pe=fr[Z.color]||fr.slate;return _.jsxs("button",{onClick:()=>Se(Z.id),className:"w-full text-left px-3 py-2 hover:bg-slate-100 flex items-center gap-2",children:[_.jsx("span",{className:`w-3 h-3 rounded-full ${pe.bg}`}),_.jsx("span",{className:"text-sm font-medium text-slate-800",children:Z.name})]},Z.id)}):_.jsx("div",{className:"p-3 text-sm text-slate-500",children:"No other tags available."})})]})]})]}),_.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[_.jsx("div",{className:"w-44 h-8 flex items-center justify-end",children:_.jsx(OI,{status:v})}),_.jsxs("button",{onClick:te,disabled:!X||v==="saving",className:"flex items-center gap-2 px-4 py-2 text-sm bg-slate-800 text-white font-semibold rounded-lg shadow-sm hover:bg-slate-700 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed",children:[_.jsx(jT,{className:"w-5 h-5"}),_.jsx("span",{children:"Save Changes"})]}),_.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),_.jsx("select",{value:y.status,onChange:Z=>Te({status:Z.target.value}),className:"px-3 py-2 rounded-md text-sm font-medium border border-slate-300 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-sky-500 bg-white shadow-sm",children:Object.values(kn).map(Z=>_.jsx("option",{value:Z,children:Z},Z))}),_.jsx("button",{onClick:()=>r(t.id),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full transition-colors",children:_.jsx(cc,{className:"w-5 h-5"})}),_.jsx("button",{onClick:e,className:"p-2 text-slate-500 hover:text-slate-800 hover:bg-slate-200 rounded-full transition-colors",children:_.jsx(tc,{})})]})]})}),_.jsxs("div",{className:"flex flex-1 overflow-hidden bg-slate-50",children:[_.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[_.jsx("div",{className:"px-6 border-b border-slate-200/80 bg-slate-50/80 backdrop-blur-sm sticky top-0 z-10",children:_.jsx("nav",{className:"flex items-center gap-2 -mb-px",children:gd.map(Z=>_.jsx(lN,{label:Z,isActive:d===Z,onClick:()=>p(Z)},Z))})}),_.jsx("main",{className:"p-6 sm:p-8 flex-1",children:me()})]}),_.jsx(BI,{activeTab:d,cardData:y,onUpdate:Te,onOpenSettingsModal:c},t.id)]})]})})},zI=({onClose:t})=>{const e=Ss(()=>En.knowledgeFiles.orderBy("createdAt").reverse().toArray(),[]),[i,r]=Ie.useState(!1),a=Ie.useRef(null),c=async p=>{const y=p.target.files;if(!(!y||y.length===0)){r(!0);try{for(const m of Array.from(y)){if(m.size>5*1024*1024){alert(`File "${m.name}" is too large. The maximum size is 5MB.`);continue}const v=await m.text();await XT(m.name,v)}}catch(m){console.error("Failed to upload file:",m),alert("There was an error uploading one or more files. Please check the console.")}finally{r(!1),a.current&&(a.current.value="")}}},d=async p=>{window.confirm("Are you sure you want to delete this file from the knowledge base? This will also un-link it from any cards.")&&await QT(p)};return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",onClick:t,children:_.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl h-[80vh] flex flex-col",onClick:p=>p.stopPropagation(),children:[_.jsxs("header",{className:"p-4 border-b border-slate-200 flex justify-between items-center flex-shrink-0",children:[_.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Knowledge Base"}),_.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-200","aria-label":"Close",children:_.jsx(tc,{className:"w-6 h-6 text-slate-600"})})]}),_.jsxs("main",{className:"flex-grow p-6 overflow-y-auto",children:[_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{htmlFor:"file-upload",className:"w-full cursor-pointer",children:_.jsx("div",{className:"flex flex-col items-center justify-center p-6 border-2 border-dashed border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:i?_.jsxs(_.Fragment,{children:[_.jsx(Yl,{}),_.jsx("span",{className:"mt-2 text-sm font-semibold text-slate-700",children:"Uploading..."})]}):_.jsxs(_.Fragment,{children:[_.jsx(bs,{className:"w-8 h-8 text-slate-400 mb-2"}),_.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Click to upload files"}),_.jsx("span",{className:"text-xs text-slate-500 mt-1",children:".txt, .md, .json, etc. (Max 5MB per file)"})]})})}),_.jsx("input",{id:"file-upload",ref:a,type:"file",multiple:!0,className:"hidden",onChange:c,disabled:i,accept:".txt,.md,.json,.html,.css,.js,.ts,.py,.java,.c,.cpp,.cs,.go,.php,.rb,.rs,.swift,.kt,.sql"})]}),_.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-3",children:"Uploaded Files"}),_.jsx("div",{className:"space-y-3",children:e?e.length>0?e.map(p=>_.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-slate-200 shadow-sm hover:bg-slate-50 transition-colors",children:[_.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[_.jsx($v,{className:"w-6 h-6 text-slate-400 flex-shrink-0"}),_.jsxs("div",{className:"min-w-0",children:[_.jsx("p",{className:"font-medium text-slate-800 truncate",title:p.name,children:p.name}),_.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded on ",new Date(p.createdAt).toLocaleDateString()]})]})]}),_.jsx("button",{onClick:()=>d(p.id),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full","aria-label":`Delete ${p.name}`,children:_.jsx(cc,{className:"w-5 h-5"})})]},p.id)):_.jsx("p",{className:"text-center text-slate-500 py-8",children:"Your knowledge base is empty. Upload some files to get started."}):_.jsx("div",{className:"text-center py-8",children:_.jsx(Yl,{})})})]})]})})},GI=({onAddNewCard:t})=>_.jsxs("div",{className:"text-center p-12 md:p-24 bg-gradient-to-b from-white to-slate-50 rounded-2xl shadow-card border border-slate-200/80 mt-8",children:[_.jsx("div",{className:"relative inline-block p-5 bg-gradient-to-br from-sky-100 to-indigo-200 rounded-full mb-6 shadow-inner-lg",children:_.jsx(_s,{className:"w-16 h-16 text-sky-500"})}),_.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:"AI-Powered Task Manager"}),_.jsx("p",{className:"text-slate-500 max-w-2xl mx-auto mb-8",children:"Go from idea to execution. Let AI help you generate specs, analysis, and test cases, so you can focus on building."}),_.jsxs("button",{onClick:t,className:"inline-flex items-center gap-2 px-6 py-3 bg-slate-800 text-white font-semibold rounded-lg shadow-md hover:scale-[1.03] hover:shadow-lg hover:bg-slate-700 transition-all duration-300 transform focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-800",children:[_.jsx(bs,{className:"w-5 h-5"}),_.jsx("span",{children:"Create Your First Card"})]})]}),Gv="gemini_temperature",Fv=.7,FI=()=>{const[t,e]=Ie.useState(Fv);Ie.useEffect(()=>{try{const r=localStorage.getItem(Gv);if(r){const a=parseFloat(r);isNaN(a)||e(a)}else e(Fv)}catch(r){console.error("Could not access localStorage",r)}},[]);const i=Ie.useCallback(r=>{try{localStorage.setItem(Gv,String(r)),e(r)}catch(a){console.error("Could not access localStorage",a)}},[]);return[t,i]},Kv="openai_temperature",Yv=.7,KI=()=>{const[t,e]=Ie.useState(Yv);Ie.useEffect(()=>{try{const r=localStorage.getItem(Kv);if(r){const a=parseFloat(r);isNaN(a)||e(a)}else e(Yv)}catch(r){console.error("Could not access localStorage",r)}},[]);const i=Ie.useCallback(r=>{try{localStorage.setItem(Kv,String(r)),e(r)}catch(a){console.error("Could not access localStorage",a)}},[]);return[t,i]},YI=()=>{const[t,e]=Ie.useState(qo);Ie.useEffect(()=>{try{const a=localStorage.getItem(ju);a&&e({...qo,...JSON.parse(a)})}catch(a){console.error("Could not access localStorage for prompts",a)}},[]);const i=Ie.useCallback(a=>{try{localStorage.setItem(ju,JSON.stringify(a)),e({...qo,...a})}catch(c){console.error("Could not save prompts to localStorage",c)}},[]),r=Ie.useCallback(()=>{try{localStorage.removeItem(ju),e(qo)}catch(a){console.error("Could not reset prompts in localStorage",a)}},[]);return{prompts:t,saveAllPrompts:i,resetAllPrompts:r,defaultPrompts:qo}},jr=({children:t,className:e=""})=>_.jsx("div",{className:`p-6 bg-slate-50/70 border border-slate-200/80 rounded-xl ${e}`,children:t}),JI=()=>{const[t,e]=D0(),[i,r]=LR(),[a,c]=qR(),[d,p]=FI(),[y,m]=KR(),[v,S]=YR(),[E,M]=KI(),[U,B]=Ie.useState(i),[re,X]=Ie.useState(y),[se,te]=Ie.useState(!1),[Te,ye]=Ie.useState(!1),[j,Se]=Ie.useState(""),ze=ae=>{ae==="gemini"?r(U):m(re),Se(`${ae==="gemini"?"Gemini":"OpenAI"} key saved!`),setTimeout(()=>Se(""),2e3)},we=({value:ae,onChange:ce,min:me=0,max:Z=1,step:pe=.1})=>_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("input",{type:"range",min:me,max:Z,step:pe,value:ae,onChange:Ee=>ce(parseFloat(Ee.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer"}),_.jsx("span",{className:"font-mono text-sm font-semibold text-slate-700 bg-slate-100 rounded-md px-2 py-1 w-16 text-center",children:ae.toFixed(1)})]});return _.jsxs("div",{className:"space-y-8",children:[_.jsxs("div",{children:[_.jsxs("h3",{className:"text-xl font-bold text-slate-900 mb-1 flex items-center gap-2",children:[_.jsx(rS,{}),_.jsx("span",{children:"AI Provider"})]}),_.jsx("p",{className:"text-slate-500 mb-4 text-sm",children:"Choose your preferred AI provider for all generative features."}),_.jsx(jr,{children:_.jsx("div",{className:"flex items-center gap-2 p-1 bg-slate-200/70 rounded-lg max-w-sm",children:["gemini","openai"].map(ae=>_.jsx("button",{onClick:()=>e(ae),className:`w-1/2 px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 whitespace-nowrap ${t===ae?"bg-white text-slate-800 shadow-sm":"bg-transparent text-slate-600 hover:bg-white/60"}`,children:ae==="gemini"?"Google Gemini":"OpenAI (ChatGPT)"},ae))})})]}),t==="gemini"&&_.jsxs("div",{className:"animate-fade-in space-y-8",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-1",children:"Google Gemini Settings"}),_.jsx("p",{className:"text-slate-500 mb-4 text-sm",children:"Get your key from Google AI Studio. It's stored securely in your browser's local storage."}),_.jsxs(jr,{children:[_.jsx("label",{htmlFor:"gemini-api-key",className:"block text-sm font-medium text-slate-700 mb-1",children:"API Key"}),_.jsxs("div",{className:"relative w-full max-w-sm",children:[_.jsx("input",{id:"gemini-api-key",type:se?"text":"password",value:U,onChange:ae=>B(ae.target.value),className:"input-field w-full pr-10",placeholder:"Enter your Gemini API Key"}),_.jsx("button",{type:"button",onClick:()=>te(ae=>!ae),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-slate-500 hover:text-slate-700","aria-label":"Toggle key visibility",children:se?_.jsx(kg,{}):_.jsx(Ng,{})})]}),_.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[_.jsx("button",{onClick:()=>ze("gemini"),className:"btn-primary",children:"Save Key"}),j&&_.jsx("span",{className:"text-sm text-emerald-600 font-medium",children:j})]})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-lg font-semibold text-slate-800 mb-2",children:"Model Configuration"}),_.jsx(jr,{children:_.jsx("fieldset",{className:"space-y-2 max-w-sm",children:Zv.map(ae=>_.jsxs("label",{className:`flex p-3 border rounded-lg cursor-pointer transition-colors ${a===ae.id?"active-selection":"inactive-selection"}`,children:[_.jsx("input",{type:"radio",name:"gemini-model",value:ae.id,checked:a===ae.id,onChange:()=>c(ae.id),className:"h-4 w-4 mt-1 radio-input"}),_.jsxs("div",{className:"ml-3 text-sm",children:[_.jsx("span",{className:"font-semibold text-slate-800",children:ae.name}),_.jsx("p",{className:"text-slate-500",children:ae.description})]})]},ae.id))})})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-lg font-semibold text-slate-800 mb-2",children:"Creativity (Temperature)"}),_.jsxs(jr,{children:[_.jsx("p",{className:"text-slate-500 mb-3 text-sm",children:"Controls randomness. Lower values are more deterministic, higher values are more creative."}),_.jsx(we,{value:d,onChange:p,max:1})]})]})]}),t==="openai"&&_.jsxs("div",{className:"animate-fade-in space-y-8",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-1",children:"OpenAI (ChatGPT) Settings"}),_.jsx("p",{className:"text-slate-500 mb-4 text-sm",children:"Get your key from your OpenAI account. It's stored securely in your browser's local storage."}),_.jsxs(jr,{children:[_.jsx("label",{htmlFor:"openai-api-key",className:"block text-sm font-medium text-slate-700 mb-1",children:"API Key"}),_.jsxs("div",{className:"relative w-full max-w-sm",children:[_.jsx("input",{id:"openai-api-key",type:Te?"text":"password",value:re,onChange:ae=>X(ae.target.value),className:"input-field w-full pr-10",placeholder:"Enter your OpenAI API Key"}),_.jsx("button",{type:"button",onClick:()=>ye(ae=>!ae),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-slate-500 hover:text-slate-700","aria-label":"Toggle key visibility",children:Te?_.jsx(kg,{}):_.jsx(Ng,{})})]}),_.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[_.jsx("button",{onClick:()=>ze("openai"),className:"btn-primary",children:"Save Key"}),j&&_.jsx("span",{className:"text-sm text-emerald-600 font-medium",children:j})]})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-lg font-semibold text-slate-800 mb-2",children:"Model Configuration"}),_.jsx(jr,{children:_.jsx("fieldset",{className:"space-y-2 max-w-sm",children:Wv.map(ae=>_.jsxs("label",{className:`flex p-3 border rounded-lg cursor-pointer transition-colors ${v===ae.id?"active-selection":"inactive-selection"}`,children:[_.jsx("input",{type:"radio",name:"openai-model",value:ae.id,checked:v===ae.id,onChange:()=>S(ae.id),className:"h-4 w-4 mt-1 radio-input"}),_.jsxs("div",{className:"ml-3 text-sm",children:[_.jsx("span",{className:"font-semibold text-slate-800",children:ae.name}),_.jsx("p",{className:"text-slate-500",children:ae.description})]})]},ae.id))})})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-lg font-semibold text-slate-800 mb-2",children:"Creativity (Temperature)"}),_.jsxs(jr,{children:[_.jsx("p",{className:"text-slate-500 mb-3 text-sm",children:"Controls randomness. Lower values are more deterministic, higher values are more creative."}),_.jsx(we,{value:E,onChange:M,max:2})]})]})]})]})},$I=()=>{const t=Ss(()=>En.tags.orderBy("name").toArray(),[]),[e,i]=Ie.useState(""),[r,a]=Ie.useState(Dg[10]),c=async p=>{if(p.preventDefault(),!!e.trim())try{await ZT(e.trim(),r),i("")}catch(y){console.error("Failed to add tag:",y),alert(`Error adding tag. A tag with the name "${e.trim()}" may already exist.`)}},d=async p=>{window.confirm("Are you sure you want to delete this tag? It will be removed from all associated cards.")&&await WT(p)};return _.jsxs("div",{children:[_.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-1",children:"Manage Tags"}),_.jsx("p",{className:"text-slate-500 mb-4 text-sm",children:"Create and delete tags to assign to your task cards for better organization."}),_.jsx(jr,{children:_.jsxs("form",{onSubmit:c,className:"space-y-4",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[_.jsx("input",{type:"text",value:e,onChange:p=>i(p.target.value),placeholder:"New tag name...",className:"input-field flex-grow",maxLength:25}),_.jsx("button",{type:"submit",className:"btn-primary flex-shrink-0",children:"Add Tag"})]}),_.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:Dg.map(p=>_.jsx("button",{type:"button",onClick:()=>a(p),className:`w-7 h-7 rounded-full transition-transform transform hover:scale-110 ${fr[p].bg} ${r===p?"ring-2 ring-offset-1 ring-brand-primary":""}`,"aria-label":`Select color ${p}`},p))})]})}),_.jsx("h4",{className:"text-lg font-semibold text-slate-800 mt-8 mb-4",children:"Existing Tags"}),_.jsx("div",{className:"flex flex-wrap gap-2 p-1",children:t&&t.length>0?t.map(p=>{const y=fr[p.color]||fr.slate;return _.jsxs("span",{className:`inline-flex items-center font-medium rounded-full whitespace-nowrap text-xs px-2.5 py-1 ${y.bg} ${y.text}`,children:[p.name,_.jsx("button",{onClick:()=>d(p.id),className:`ml-1.5 -mr-1 p-0.5 rounded-full ${y.hoverBg} ${y.hoverText}`,"aria-label":`Remove tag ${p.name}`,children:_.jsx(cc,{className:"w-3 h-3"})})]},p.id)}):_.jsx("p",{className:"text-slate-500 text-sm",children:"No tags created yet. Add one above!"})})]})},XI=()=>{const{prompts:t,saveAllPrompts:e,resetAllPrompts:i}=YI(),[r,a]=Ie.useState(t),[c,d]=Ie.useState(""),[p,y]=Ie.useState("chatSystemInstruction");Ie.useEffect(()=>{a(t)},[t]);const m=(B,re)=>{a(X=>({...X,[B]:re}))},v=()=>{e(r),d("Prompts saved successfully!"),setTimeout(()=>d(""),2e3)},S=()=>{window.confirm("Are you sure you want to reset all prompts to their default values? This action cannot be undone.")&&i()},E=JSON.stringify(r)!==JSON.stringify(t),M=[{key:"chatSystemInstruction",title:"Spec Generation Chat",description:"The system instruction for the AI during the interactive spec generation chat. This defines the AI's persona and process."},{key:"preDevAnalysis",title:"Pre-Dev Analysis",description:"Prompt to generate the pre-dev analysis. Use {spec} as a placeholder for the spec content. Ensure it requests JSON output."},{key:"testCases",title:"Test Case Generation",description:"Prompt to generate test cases. Use {spec} as a placeholder for the spec content. Ensure it requests a JSON array."},{key:"titleGeneration",title:"Title Generation",description:"Prompt to generate a card title from a requirement. Use {requirement} as a placeholder for the requirement content."}],U=M.find(B=>B.key===p);return _.jsxs("div",{children:[_.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center mb-6 gap-4",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Manage AI Prompts"}),_.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Customize the instructions given to the AI for different tasks."})]}),_.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[c&&_.jsx("span",{className:"text-sm text-emerald-600 font-medium animate-fade-in",children:c}),_.jsx("button",{onClick:S,className:"text-sm font-medium text-slate-600 hover:text-slate-800 transition-colors",children:"Reset All"}),_.jsx("button",{onClick:v,disabled:!E,className:"btn-primary",children:"Save All Prompts"})]})]}),_.jsxs("div",{className:"flex gap-8",children:[_.jsx("nav",{className:"flex flex-col gap-2 w-1/4",children:M.map(({key:B,title:re})=>_.jsx("button",{onClick:()=>y(B),className:`w-full text-left px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${p===B?"bg-slate-100 text-brand-primary font-semibold":"text-slate-600 hover:bg-slate-100/60"}`,children:re},B))}),_.jsx("div",{className:"w-3/4",children:_.jsxs("div",{className:"animate-fade-in",children:[_.jsx("h4",{className:"text-lg font-semibold text-slate-800",children:U.title}),_.jsx("p",{className:"text-slate-500 mb-2 text-sm",children:U.description}),_.jsx("textarea",{value:r[p],onChange:B=>m(p,B.target.value),className:"w-full h-72 p-3 font-mono text-xs bg-white border border-slate-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-sky-500"})]},p)})]})]})},QI=({onClose:t,initialTab:e="api-key"})=>{const[i,r]=Ie.useState(e);Ie.useEffect(()=>{r(e)},[e]);const a=[{id:"api-key",label:"API Key & Model",icon:_.jsx(Qv,{className:"w-5 h-5"})},{id:"tags",label:"Tags",icon:_.jsx(oS,{className:"w-5 h-5"})},{id:"prompts",label:"Prompts",icon:_.jsx($v,{className:"w-5 h-5"})}];return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",onClick:t,children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-modal w-full max-w-5xl h-[90vh] max-h-[800px] flex overflow-hidden",onClick:c=>c.stopPropagation(),children:[_.jsxs("aside",{className:"w-64 border-r border-slate-200/80 p-6 bg-slate-100",children:[_.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-8 px-2",children:"Settings"}),_.jsx("nav",{className:"flex flex-col gap-2",children:a.map(c=>_.jsxs("button",{onClick:()=>r(c.id),className:`flex items-center gap-4 w-full text-left px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${i===c.id?"bg-white text-brand-primary font-semibold shadow-sm":"text-slate-600 hover:bg-slate-200/60"}`,children:[c.icon,_.jsx("span",{children:c.label})]},c.id))})]}),_.jsxs("main",{className:"flex-1 p-8 overflow-y-auto relative bg-white",children:[_.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 rounded-full text-slate-500 hover:bg-slate-100 hover:text-slate-800 transition-colors","aria-label":"Close",children:_.jsx(tc,{className:"w-6 h-6"})}),i==="api-key"&&_.jsx(JI,{}),i==="tags"&&_.jsx($I,{}),i==="prompts"&&_.jsx(XI,{}),_.jsx("style",{children:`
              .btn-primary { @apply px-4 py-2 bg-brand-primary text-white font-semibold rounded-lg shadow-md hover:bg-indigo-800 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-primary disabled:bg-slate-400 disabled:shadow-sm disabled:cursor-not-allowed transition-all duration-200 ease-in-out transform hover:-translate-y-px; }
              .input-field { @apply bg-white px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-sky-500; }
              .radio-input { @apply text-brand-primary focus:ring-brand-primary/50 border-slate-400; }
              .active-selection { @apply bg-white border-brand-primary ring-2 ring-brand-primary/20; }
              .inactive-selection { @apply bg-white border-slate-300 hover:bg-slate-100/80 hover:border-slate-400; }
              .animate-fade-in { animation: fadeIn 0.3s ease-in-out; }
              @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
              
              input[type=range] { -webkit-appearance: none; appearance: none; background: transparent; cursor: pointer; width: 100%; }
              input[type=range]:focus { outline: none; }
              input[type=range]::-webkit-slider-runnable-track { height: 8px; background: #e2e8f0; border-radius: 4px; }
              input[type=range]::-webkit-slider-thumb {
                -webkit-appearance: none; appearance: none;
                margin-top: -4px;
                height: 16px; width: 16px;
                background-color: #ffffff;
                border-radius: 50%;
                border: 2px solid #1e3a8a; /* brand-primary */
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
                transition: box-shadow 0.2s;
              }
              input[type=range]:focus::-webkit-slider-thumb { box-shadow: 0 0 0 4px rgba(30, 58, 138, 0.25); }
              input[type=range]::-moz-range-track { height: 8px; background: #e2e8f0; border-radius: 4px; }
              input[type=range]::-moz-range-thumb {
                height: 16px; width: 16px;
                background-color: #ffffff;
                border-radius: 50%;
                border: 2px solid #1e3a8a; /* brand-primary */
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
                 transition: box-shadow 0.2s;
              }
               input[type=range]:focus::-moz-range-thumb { box-shadow: 0 0 0 4px rgba(30, 58, 138, 0.25); }
            `})]})]})})},ZI=()=>{const[t,e]=Ie.useState("All"),[i,r]=Ie.useState(null),[a,c]=Ie.useState(!1),[d,p]=Ie.useState(!1),[y,m]=Ie.useState("api-key"),v=Ss(()=>En.cards.toArray(),[]),S=Ss(()=>En.tags.toArray(),[]),E=Ie.useMemo(()=>S?new Map(S.map(te=>[te.id,te])):new Map,[S]),M=Ie.useMemo(()=>v?t==="All"?v:v.filter(te=>te.status===t):[],[v,t]),U=Ie.useMemo(()=>!i||!v?null:v.find(te=>te.id===i)||null,[i,v]),B=async()=>{const te=`New Task - ${new Date().toLocaleString()}`;try{const Te=await YT(te);r(Te)}catch(Te){console.error("Failed to add new card:",Te),alert("There was an error creating a new card. Please check the developer console for more information.")}},re=async(te,Te)=>{await JT(te,Te)},X=async te=>{window.confirm("Are you sure you want to delete this card? This action cannot be undone.")&&(await $T(te),r(null))},se=te=>{m(te),p(!0)};return _.jsxs("div",{className:"min-h-screen font-sans",children:[_.jsx(lS,{currentFilter:t,onFilterChange:e,onAddNewCard:B,onKnowledgeBaseClick:()=>c(!0),onSettingsClick:()=>se("api-key")}),_.jsx("main",{className:"p-4 sm:p-6 md:p-8",children:v&&v.length>0?_.jsx(fS,{cards:M,onCardSelect:r,tagsMap:E}):_.jsx(GI,{onAddNewCard:B})}),U&&_.jsx(HI,{card:U,onClose:()=>r(null),onUpdate:re,onDelete:X,allTags:S||[],onOpenSettingsModal:se}),a&&_.jsx(zI,{onClose:()=>c(!1)}),d&&_.jsx(QI,{onClose:()=>p(!1),initialTab:y})]})},hx=document.getElementById("root");if(!hx)throw new Error("Could not find root element to mount to");const WI=OT.createRoot(hx);WI.render(_.jsx(ql.StrictMode,{children:_.jsx(ZI,{})}));
